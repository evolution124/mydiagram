<mxfile host="app.diagrams.net" agent="Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/142.0.0.0 Safari/537.36 Edg/142.0.0.0" version="29.1.1">
  <diagram name="Page-1" id="Iqzep2Eil3ykFxYwn48A">
    <mxGraphModel dx="-106" dy="4620" grid="1" gridSize="10" guides="1" tooltips="1" connect="1" arrows="1" fold="1" page="1" pageScale="1" pageWidth="850" pageHeight="1100" math="0" shadow="0">
      <root>
        <mxCell id="0" />
        <mxCell id="1" parent="0" />
        <mxCell id="YD8wXlY8oEXokaMSZj_n-1" parent="1" style="html=1;whiteSpace=wrap;fillColor=#f5f5f5;fontColor=#333333;strokeColor=#666666;" value="Object" vertex="1">
          <mxGeometry height="1006" width="450" x="23635.000000000004" y="2334" as="geometry" />
        </mxCell>
        <mxCell id="YD8wXlY8oEXokaMSZj_n-2" parent="1" style="html=1;whiteSpace=wrap;align=center;verticalAlign=top;movable=0;resizable=0;rotatable=0;deletable=0;editable=0;locked=1;connectable=0;" value="&lt;font style=&quot;font-size: 48px;&quot;&gt;&amp;nbsp;&amp;nbsp;&lt;/font&gt;&lt;div style=&quot;&quot;&gt;&lt;font style=&quot;font-size: 48px;&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &lt;/font&gt;&lt;font style=&quot;font-size: 256px;&quot;&gt;&lt;font style=&quot;&quot;&gt;ISS&lt;/font&gt;&lt;font style=&quot;&quot;&gt;/&lt;/font&gt;&lt;/font&gt;&lt;font style=&quot;font-size: 256px;&quot;&gt;SPIKE&lt;/font&gt;&lt;/div&gt;" vertex="1">
          <mxGeometry height="7330" width="8450" x="28630" y="-1630" as="geometry" />
        </mxCell>
        <mxCell id="YD8wXlY8oEXokaMSZj_n-3" parent="1" style="html=1;whiteSpace=wrap;align=center;verticalAlign=top;movable=0;resizable=0;rotatable=0;deletable=0;editable=0;locked=1;connectable=0;" value="&lt;font style=&quot;font-size: 48px;&quot;&gt;&amp;nbsp;&amp;nbsp;&lt;/font&gt;&lt;div&gt;&lt;font style=&quot;font-size: 48px;&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &lt;/font&gt;&lt;font style=&quot;font-size: 256px;&quot;&gt;UVM/VERIF&lt;/font&gt;&lt;/div&gt;" vertex="1">
          <mxGeometry height="13650" width="5560" x="22160" y="-1630" as="geometry" />
        </mxCell>
        <mxCell id="YD8wXlY8oEXokaMSZj_n-4" parent="1" style="html=1;whiteSpace=wrap;align=center;verticalAlign=top;movable=0;resizable=0;rotatable=0;deletable=0;editable=0;locked=1;connectable=0;fontSize=128;" value="&lt;div&gt;&lt;font&gt;&lt;font style=&quot;font-size: 256px;&quot;&gt;DESIG&amp;amp;TB&lt;/font&gt;&lt;/font&gt;&lt;/div&gt;" vertex="1">
          <mxGeometry height="13640" width="17400" x="4280" y="-1630" as="geometry" />
        </mxCell>
        <mxCell id="YD8wXlY8oEXokaMSZj_n-5" parent="1" style="html=1;whiteSpace=wrap;align=left;verticalAlign=top;movable=0;resizable=0;rotatable=0;deletable=0;editable=0;locked=1;connectable=0;" value="&lt;font style=&quot;font-size: 48px;&quot;&gt;&amp;nbsp;&amp;nbsp;&lt;/font&gt;&lt;div&gt;&lt;font style=&quot;font-size: 48px;&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; Design / EX STAGE&lt;/font&gt;&lt;/div&gt;" vertex="1">
          <mxGeometry height="4980" width="4500" x="13930" y="1240" as="geometry" />
        </mxCell>
        <mxCell id="YD8wXlY8oEXokaMSZj_n-6" parent="1" style="html=1;whiteSpace=wrap;align=left;verticalAlign=top;movable=0;resizable=0;rotatable=0;deletable=0;editable=0;locked=1;connectable=0;" value="&lt;font style=&quot;font-size: 48px;&quot;&gt;&amp;nbsp;&amp;nbsp;&lt;/font&gt;&lt;div&gt;&lt;font style=&quot;font-size: 48px;&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; TB TOP / Verify Data Structs&lt;/font&gt;&lt;/div&gt;" vertex="1">
          <mxGeometry height="4780" width="9340" x="10610" y="7110" as="geometry" />
        </mxCell>
        <mxCell id="YD8wXlY8oEXokaMSZj_n-7" parent="1" style="html=1;whiteSpace=wrap;align=left;verticalAlign=top;movable=0;resizable=0;rotatable=0;deletable=0;editable=0;locked=1;connectable=0;" value="&lt;font style=&quot;font-size: 48px;&quot;&gt;&amp;nbsp;&amp;nbsp;&lt;/font&gt;&lt;div&gt;&lt;font style=&quot;font-size: 48px;&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; Design / ISSUE STAGE&lt;/font&gt;&lt;/div&gt;" vertex="1">
          <mxGeometry height="3440" width="2730" x="10480" y="1240" as="geometry" />
        </mxCell>
        <mxCell id="YD8wXlY8oEXokaMSZj_n-8" parent="1" style="html=1;whiteSpace=wrap;align=left;verticalAlign=top;movable=0;resizable=0;rotatable=0;deletable=0;editable=0;locked=1;connectable=0;" value="&lt;font style=&quot;font-size: 48px;&quot;&gt;&amp;nbsp;&amp;nbsp;&lt;/font&gt;&lt;div&gt;&lt;font style=&quot;font-size: 48px;&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; UVM/VERIF&lt;/font&gt;&lt;/div&gt;" vertex="1">
          <mxGeometry height="5020" width="4826.08" x="22600" y="1720" as="geometry" />
        </mxCell>
        <mxCell id="YD8wXlY8oEXokaMSZj_n-9" parent="1" style="html=1;whiteSpace=wrap;align=left;verticalAlign=top;movable=1;resizable=1;rotatable=1;deletable=1;editable=1;locked=0;connectable=1;" value="&lt;font style=&quot;font-size: 48px;&quot;&gt;&amp;nbsp;&amp;nbsp;&lt;/font&gt;&lt;div&gt;&lt;font style=&quot;font-size: 48px;&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; COMPILE/ RUN&lt;/font&gt;&lt;/div&gt;" vertex="1">
          <mxGeometry height="2570" width="3880" x="22980.000000000004" y="-1110" as="geometry" />
        </mxCell>
        <mxCell id="YD8wXlY8oEXokaMSZj_n-10" parent="1" style="swimlane;fontStyle=1;align=center;verticalAlign=top;childLayout=stackLayout;horizontal=1;startSize=26;horizontalStack=0;resizeParent=1;resizeParentMax=0;resizeLast=0;collapsible=1;marginBottom=0;whiteSpace=wrap;html=1;" value="cva_config" vertex="1">
          <mxGeometry height="86" width="485" x="23160.000000000004" y="510" as="geometry" />
        </mxCell>
        <mxCell id="YD8wXlY8oEXokaMSZj_n-11" parent="YD8wXlY8oEXokaMSZj_n-10" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;html=1;" value="cva6_config_pkg::cva6_cfg" vertex="1">
          <mxGeometry height="26" width="485" y="26" as="geometry" />
        </mxCell>
        <mxCell id="YD8wXlY8oEXokaMSZj_n-12" parent="YD8wXlY8oEXokaMSZj_n-10" style="line;strokeWidth=1;fillColor=none;align=left;verticalAlign=middle;spacingTop=-1;spacingLeft=3;spacingRight=3;rotatable=0;labelPosition=right;points=[];portConstraint=eastwest;strokeColor=inherit;" value="" vertex="1">
          <mxGeometry height="8" width="485" y="52" as="geometry" />
        </mxCell>
        <mxCell id="YD8wXlY8oEXokaMSZj_n-13" parent="YD8wXlY8oEXokaMSZj_n-10" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;html=1;" value="/home/ICer/proj/cva6/core/include/cv64a6_imafdc_sv39_config_pkg.sv" vertex="1">
          <mxGeometry height="26" width="485" y="60" as="geometry" />
        </mxCell>
        <mxCell id="YD8wXlY8oEXokaMSZj_n-14" parent="1" style="swimlane;fontStyle=1;align=center;verticalAlign=top;childLayout=stackLayout;horizontal=1;startSize=26;horizontalStack=0;resizeParent=1;resizeParentMax=0;resizeLast=0;collapsible=1;marginBottom=0;whiteSpace=wrap;html=1;" value="filelist" vertex="1">
          <mxGeometry height="112" width="485" x="23670.000000000004" y="360" as="geometry" />
        </mxCell>
        <mxCell id="YD8wXlY8oEXokaMSZj_n-15" parent="YD8wXlY8oEXokaMSZj_n-14" style="line;strokeWidth=1;fillColor=none;align=left;verticalAlign=middle;spacingTop=-1;spacingLeft=3;spacingRight=3;rotatable=0;labelPosition=right;points=[];portConstraint=eastwest;strokeColor=inherit;" value="" vertex="1">
          <mxGeometry height="8" width="485" y="26" as="geometry" />
        </mxCell>
        <mxCell id="YD8wXlY8oEXokaMSZj_n-16" parent="YD8wXlY8oEXokaMSZj_n-14" style="text;strokeColor=default;fillColor=default;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;html=1;" value="/home/ICer/proj/cva6/verif/sim//../tb/core/Flist.cva6_tb" vertex="1">
          <mxGeometry height="26" width="485" y="34" as="geometry" />
        </mxCell>
        <mxCell id="YD8wXlY8oEXokaMSZj_n-17" parent="YD8wXlY8oEXokaMSZj_n-14" style="text;strokeColor=default;fillColor=default;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;html=1;" value="/home/ICer/proj/cva6/core/Flist.cva6" vertex="1">
          <mxGeometry height="26" width="485" y="60" as="geometry" />
        </mxCell>
        <mxCell id="YD8wXlY8oEXokaMSZj_n-18" parent="YD8wXlY8oEXokaMSZj_n-14" style="text;strokeColor=default;fillColor=default;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;html=1;" value="/home/ICer/proj/cva6/verif/tb/uvmt/uvmt_cva6.flist" vertex="1">
          <mxGeometry height="26" width="485" y="86" as="geometry" />
        </mxCell>
        <mxCell id="YD8wXlY8oEXokaMSZj_n-19" parent="1" style="swimlane;fontStyle=1;align=center;verticalAlign=top;childLayout=stackLayout;horizontal=1;startSize=26;horizontalStack=0;resizeParent=1;resizeParentMax=0;resizeLast=0;collapsible=1;marginBottom=0;whiteSpace=wrap;html=1;" value="MAKE &amp;amp; RUN" vertex="1">
          <mxGeometry height="1400" width="1160" x="24220.000000000004" y="-240" as="geometry" />
        </mxCell>
        <mxCell id="YD8wXlY8oEXokaMSZj_n-20" parent="YD8wXlY8oEXokaMSZj_n-19" style="text;strokeColor=#82b366;fillColor=#d5e8d4;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;html=1;" value="&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&lt;b&gt;make&amp;nbsp;&lt;/b&gt;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;vcs-uvm&amp;nbsp;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;target=cv64a6_imafdc_sv39&amp;nbsp;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;cov=${cov}&amp;nbsp;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;variant=rv64gc_zba_zbb_zbs_zbc_zbkb_zbkx_zkne_zknd_zknh&amp;nbsp;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;elf=/home/ICer/proj/cva6/verif/sim/out_2025-10-28/directed_tests/hello_world.o&amp;nbsp;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;tool_path=/home/ICer/proj/cva6/tools/spike/bin&amp;nbsp;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;isscomp_opts=&quot;&quot;&amp;nbsp;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;issrun_opts=&quot;&lt;/span&gt;&lt;span style=&quot;background-color: transparent; color: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));&quot;&gt;+ntb_random_seed=1247870493&quot;&amp;nbsp;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;isspostrun_opts=&quot;0x0000000080000000&quot;&amp;nbsp;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;log=/home/ICer/proj/cva6/verif/sim/out_2025-10-28/vcs-uvm_sim/hello_world.cv64a6_imafdc_sv39.log &amp;amp;&amp;gt; /home/ICer/proj/cva6/verif/sim/out_2025-10-28/vcs-uvm_sim/hello_world.cv64a6_imafdc_sv39.log.iss&lt;/span&gt;&lt;/div&gt;" vertex="1">
          <mxGeometry height="204" width="1160" y="26" as="geometry" />
        </mxCell>
        <mxCell id="YD8wXlY8oEXokaMSZj_n-21" parent="YD8wXlY8oEXokaMSZj_n-19" style="text;strokeColor=#82b366;fillColor=#d5e8d4;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;html=1;" value="&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;mkdir -p /home/ICer/proj/cva6/verif/sim/vcs_results/default/vcs.d&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;cd /home/ICer/proj/cva6/verif/sim/vcs_results/default/vcs.d &amp;amp;&amp;amp;&amp;nbsp;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&lt;br&gt;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&lt;b&gt;vcs&amp;nbsp;&lt;/b&gt;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;+incdir+/home/ICer/proj/cva6/verif/env/uvme&amp;nbsp;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;+incdir+/home/ICer/proj/cva6/verif/tb/uvmt&amp;nbsp;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;+core_name=cv64a6_imafdc_sv39&amp;nbsp;&amp;nbsp;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;-lca&amp;nbsp;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;-sverilog&amp;nbsp;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;+incdir+/home/synopsys/vcs-mx/O-2018.09-1/etc/uvm/src&amp;nbsp;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;/home/synopsys/vcs-mx/O-2018.09-1/etc/uvm/src/uvm_pkg.sv&amp;nbsp;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;-ntb_opts&amp;nbsp;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;uvm-1.2 -timescale=1ns/1ps&amp;nbsp;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;-assert&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;background-color: transparent; color: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));&quot;&gt;svaext&amp;nbsp;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;background-color: transparent; color: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));&quot;&gt;-race=all&amp;nbsp;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;background-color: transparent; color: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));&quot;&gt;-ignore unique_checks&amp;nbsp;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;background-color: transparent; color: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));&quot;&gt;-full64 -q +incdir+/home/synopsys/vcs-mx/O-2018.09-1/etc/uvm/src&amp;nbsp;&amp;nbsp;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;background-color: transparent; color: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));&quot;&gt;-debug_access+all&amp;nbsp;&amp;nbsp;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;background-color: transparent; color: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));&quot;&gt;-kdb&amp;nbsp; &amp;nbsp;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;background-color: transparent; color: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));&quot;&gt;-cm_seqnoconst&amp;nbsp;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;background-color: transparent; color: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));&quot;&gt;-diag noconst&amp;nbsp;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;background-color: transparent; color: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));&quot;&gt;-cm_cond arith&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;-f /home/ICer/proj/cva6/core/Flist.cva6&amp;nbsp;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;-f /home/ICer/proj/cva6/verif/sim//../tb/core/Flist.cva6_tb&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;-f /home/ICer/proj/cva6/verif/tb/uvmt/uvmt_cva6.flist&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;+define+UNSUPPORTED_WITH+&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;-LDFLAGS&amp;nbsp;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;-Wl,--no-as-needed&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;-ignore initializer_driver_checks&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;-top uvmt_cva6_tb&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;+notimingcheck&lt;/span&gt;&lt;/div&gt;" vertex="1">
          <mxGeometry height="472" width="1160" y="230" as="geometry" />
        </mxCell>
        <mxCell id="YD8wXlY8oEXokaMSZj_n-22" parent="YD8wXlY8oEXokaMSZj_n-19" style="text;strokeColor=#6c8ebf;fillColor=#dae8fc;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;html=1;" value="&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&lt;b&gt;simv&amp;nbsp;&amp;nbsp;&lt;/b&gt;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;-verdi&amp;nbsp;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;-do /home/ICer/proj/cva6//util/init_testharness.do&amp;nbsp;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;+permissive&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;+permissive-off ++/home/ICer/proj/cva6/verif/sim/out_2025-10-28/directed tests/hello_world.o&amp;nbsp;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;background-color: transparent; color: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));&quot;&gt;+elf_file=/home/ICer/proj/cva6/verif/sim/out_2025-10-28/directed tests/hello_world.o&amp;nbsp;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px; white-space: normal;&quot;&gt;+core_name=cv64a6_imafdc_sv39&amp;nbsp;&amp;nbsp;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px; white-space: normal;&quot;&gt;+tohost_addr=0000000080001000&amp;nbsp;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px; white-space: normal;&quot;&gt;+signature=/home/ICer/proj/cva6/verif/sim/out_2025-10-28/directed_tests/hello_world.o.signature_output&amp;nbsp;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px; white-space: normal;&quot;&gt;+UVM_TESTNAME=uvmt_cva6_firmware_test_c&amp;nbsp;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px; white-space: normal;&quot;&gt;+report_file=/home/ICer/proj/cva6/verif/sim/out_2025-10-28/vcs-testharness_sim/hello_world.cv64a6_imafdc_sv39.log.yaml&amp;nbsp;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px; white-space: normal;&quot;&gt;+core_name=cv64a6_imafdc_sv39&amp;nbsp;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px; white-space: normal;&quot;&gt;+debug_disable=1&amp;nbsp;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px; white-space: normal;&quot;&gt;+ntb_random_seed=294229036&amp;nbsp;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px; white-space: normal;&quot;&gt;-sv_lib /home/ICer/proj/cva6/tools/spike/lib/libcustomext&amp;nbsp;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px; white-space: normal;&quot;&gt;-sv_lib /home/ICer/proj/cva6/tools/spike/lib/libyaml-cpp&amp;nbsp;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px; white-space: normal;&quot;&gt;-sv_lib /home/ICer/proj/cva6/tools/spike/lib/libriscv&amp;nbsp;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px; white-space: normal;&quot;&gt;-sv_lib /home/ICer/proj/cva6/tools/spike/lib/libfesvr&amp;nbsp;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px; white-space: normal;&quot;&gt;-sv_lib /home/ICer/proj/cva6/tools/spike/lib/libdisasm&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;logDir = /home/ICer/proj/cva6/verif/sim/verdiLog&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;" vertex="1">
          <mxGeometry height="320" width="1160" y="702" as="geometry" />
        </mxCell>
        <mxCell id="YD8wXlY8oEXokaMSZj_n-23" parent="YD8wXlY8oEXokaMSZj_n-19" style="text;strokeColor=#6c8ebf;fillColor=#dae8fc;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;html=1;" value="&lt;div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;/home/ICer/proj/cva6/verif/sim/vcs_results/default/vcs.d/simv \&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;-LDFLAGS -Wl,--no-as-needed&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;+define+UNSUPPORTED_WITH+&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;++/home/ICer/proj/cva6/verif/sim/out_2025-10-31/directed_tests/hello_world.o &lt;br&gt;+elf_file=/home/ICer/proj/cva6/verif/sim/out_2025-10-31/directed_tests/hello_world.o&amp;nbsp;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;+core_name=cv64a6_imafdc_sv39&amp;nbsp;&amp;nbsp;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;+tohost_addr=0000000080001000&amp;nbsp;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;+signature=/home/ICer/proj/cva6/verif/sim/out_2025-10-31/directed_tests/hello_world.o.signature_output&amp;nbsp;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;+UVM_TESTNAME=uvmt_cva6_firmware_test_c&amp;nbsp;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;+report_file=/home/ICer/proj/cva6/verif/sim/out_2025-10-31/vcs-uvm_sim/hello_world.cv64a6_imafdc_sv39.log.yaml&amp;nbsp;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;+core_name=cv64a6_imafdc_sv39&amp;nbsp;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;+ntb_random_seed=615222664&amp;nbsp;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;-sv_lib /home/ICer/proj/cva6/tools/spike/lib/libcustomext&amp;nbsp;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;-sv_lib /home/ICer/proj/cva6/tools/spike/lib/libyaml-cpp&amp;nbsp;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;-sv_lib /home/ICer/proj/cva6/tools/spike/lib/libriscv&amp;nbsp;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;-sv_lib /home/ICer/proj/cva6/tools/spike/lib/libfesvr&amp;nbsp;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;-sv_lib /home/ICer/proj/cva6/tools/spike/lib/libdisasm&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;+vcs+lic+wait&amp;nbsp;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;+ntb_random_seed=615222664&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;-ucli&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;-do /home/ICer/proj/cva6/verif/sim/init_run_uvm_fsdb.do&amp;nbsp;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;+tandem_enabled=0&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;+ntb_random_seed=615222664&lt;/span&gt;&lt;/div&gt;&lt;/div&gt;" vertex="1">
          <mxGeometry height="378" width="1160" y="1022" as="geometry" />
        </mxCell>
        <mxCell id="YD8wXlY8oEXokaMSZj_n-24" edge="1" parent="1" source="YD8wXlY8oEXokaMSZj_n-17" style="html=1;verticalAlign=bottom;endArrow=block;curved=0;rounded=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;exitX=0;exitY=0.5;exitDx=0;exitDy=0;strokeWidth=3;" target="YD8wXlY8oEXokaMSZj_n-10" value="include">
          <mxGeometry relative="1" width="80" x="0.0039" as="geometry">
            <mxPoint as="offset" />
            <Array as="points">
              <mxPoint x="23403.000000000004" y="433" />
            </Array>
            <mxPoint x="23380.000000000004" y="380" as="sourcePoint" />
            <mxPoint x="23477.500000000004" y="484" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="YD8wXlY8oEXokaMSZj_n-25" parent="1" style="swimlane;fontStyle=1;align=center;verticalAlign=top;childLayout=stackLayout;horizontal=1;startSize=26;horizontalStack=0;resizeParent=1;resizeParentMax=0;resizeLast=0;collapsible=1;marginBottom=0;whiteSpace=wrap;html=1;" value="tandem" vertex="1">
          <mxGeometry height="568" width="640" x="25627.000000000004" y="600" as="geometry" />
        </mxCell>
        <mxCell id="YD8wXlY8oEXokaMSZj_n-26" parent="YD8wXlY8oEXokaMSZj_n-25" style="text;strokeColor=default;fillColor=default;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;html=1;" value="&lt;b&gt;/home/ICer/proj/cva6/verif/sim/Makefile&lt;/b&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&lt;font style=&quot;color: rgb(51, 51, 255);&quot;&gt;ifneq ($(&lt;b&gt;SPIKE_TANDEM&lt;/b&gt;),)&lt;/font&gt;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&lt;font style=&quot;color: rgb(51, 51, 255);&quot;&gt;ALL_SIMV_UVM_FLAGS += +tandem_enabled=1&lt;/font&gt;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&lt;font style=&quot;color: rgb(51, 51, 255);&quot;&gt;ALL_XRUN_SIMV_UVM_FLAGS += +tandem_enabled=1&lt;/font&gt;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&lt;font style=&quot;color: rgb(51, 51, 255);&quot;&gt;else&lt;/font&gt;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&lt;font style=&quot;color: rgb(51, 51, 255);&quot;&gt;ALL_SIMV_UVM_FLAGS += +tandem_enabled=0&lt;/font&gt;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&lt;font style=&quot;color: rgb(51, 51, 255);&quot;&gt;ALL_XRUN_SIMV_UVM_FLAGS += +tandem_enabled=0&lt;/font&gt;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&lt;font style=&quot;color: rgb(51, 51, 255);&quot;&gt;endif&lt;/font&gt;&lt;/span&gt;&lt;/div&gt;&lt;/div&gt;" vertex="1">
          <mxGeometry height="154" width="640" y="26" as="geometry" />
        </mxCell>
        <mxCell id="YD8wXlY8oEXokaMSZj_n-27" parent="YD8wXlY8oEXokaMSZj_n-25" style="text;strokeColor=default;fillColor=default;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;html=1;" value="&lt;b&gt;/home/ICer/proj/cva6/verif/env/uvme/uvme_cva6_env.sv&lt;br&gt;&lt;/b&gt;&lt;div&gt;&lt;span style=&quot;background-color: transparent; color: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));&quot;&gt;&lt;br&gt;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;background-color: transparent; font-size: 12px;&quot;&gt;&lt;b&gt;&lt;div style=&quot;&quot;&gt;if ($test$plusargs(&quot;tandem enabled&quot;))&lt;/div&gt;&lt;div style=&quot;&quot;&gt;&amp;nbsp; &amp;nbsp; $value$plusargs(&quot;tandem enabled=%b&quot;,cfg.tandem_enabled);&lt;/div&gt;&lt;/b&gt;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;background-color: transparent; color: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));&quot;&gt;&lt;br&gt;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;background-color: transparent; color: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));&quot;&gt;if (cfg.tandem_enabled) begin&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp; &amp;nbsp; reference_model = uvmc_rvfi_reference_model#(ILEN,XLEN)::type_id::create(&quot;reference_model&quot;, this);&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;end&lt;/span&gt;&lt;br&gt;&lt;br&gt;&lt;div style=&quot;&quot;&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;if (cfg.scoreboard_enabled || cfg.tandem_enabled) begin&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;&quot;&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp; &amp;nbsp; sb&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; = uvme_cva6_sb_c ::type_id::create(&quot;sb&quot;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;, this);&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;&quot;&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;end&lt;br&gt;&lt;br&gt;&lt;div&gt;if (cfg.tandem_enabled) begin&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; rvfi_agent.rvfi_core_ap.connect(sb.m_rvfi_scoreboard.m_imp_core);&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; rvfi_agent.rvfi_core_ap.connect(reference_model.m_analysis_imp);&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; reference_model.m_analysis_port.connect(sb.m_rvfi_scoreboard.m_imp_reference_model);&lt;/div&gt;&lt;div&gt;end&lt;/div&gt;&lt;/span&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;" vertex="1">
          <mxGeometry height="284" width="640" y="180" as="geometry" />
        </mxCell>
        <mxCell id="YD8wXlY8oEXokaMSZj_n-28" parent="YD8wXlY8oEXokaMSZj_n-25" style="text;strokeColor=default;fillColor=default;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;html=1;" value="&lt;b&gt;/home/ICer/proj/cva6/verif/env/uvme/uvme_cva6_sb.sv&lt;br&gt;&lt;/b&gt;&lt;br&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;if (cfg.tandem_enabled)&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; m_rvfi_scoreboard = uvmc_rvfi_scoreboard_c#(ILEN,XLEN)::type_id::create(&quot;m_rvfi_scoreboard&quot;, this);&lt;/span&gt;&lt;/div&gt;" vertex="1">
          <mxGeometry height="96" width="640" y="464" as="geometry" />
        </mxCell>
        <mxCell id="YD8wXlY8oEXokaMSZj_n-29" parent="YD8wXlY8oEXokaMSZj_n-25" style="line;strokeWidth=1;fillColor=none;align=left;verticalAlign=middle;spacingTop=-1;spacingLeft=3;spacingRight=3;rotatable=0;labelPosition=right;points=[];portConstraint=eastwest;strokeColor=inherit;" value="" vertex="1">
          <mxGeometry height="8" width="640" y="560" as="geometry" />
        </mxCell>
        <mxCell id="YD8wXlY8oEXokaMSZj_n-30" parent="1" style="swimlane;fontStyle=1;align=center;verticalAlign=top;childLayout=stackLayout;horizontal=1;startSize=26;horizontalStack=0;resizeParent=1;resizeParentMax=0;resizeLast=0;collapsible=1;marginBottom=0;whiteSpace=wrap;html=1;" value="scoreboard" vertex="1">
          <mxGeometry height="408" width="640" x="26340.000000000004" y="2740" as="geometry" />
        </mxCell>
        <mxCell id="YD8wXlY8oEXokaMSZj_n-31" parent="YD8wXlY8oEXokaMSZj_n-30" style="text;strokeColor=default;fillColor=default;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;html=1;" value="&lt;b style=&quot;font-size: 12px;&quot;&gt;/home/ICer/proj/cva6/verif/core-v-verif/lib/uvm_components/uvmc_rvfi_scoreboard/uvmc_rvfi_scoreboard.sv&lt;/b&gt;&lt;br&gt;&lt;br&gt;&lt;div style=&quot;&quot;&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp; &amp;nbsp; &lt;b&gt;st = cfg.to_struct();&lt;/b&gt;&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;&quot;&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp; &amp;nbsp; &lt;b&gt;&lt;font style=&quot;color: rgb(51, 51, 255);&quot;&gt;rvfi_initialize(st);&lt;/font&gt;&lt;/b&gt;&lt;/span&gt;&lt;/div&gt;" vertex="1">
          <mxGeometry height="74" width="640" y="26" as="geometry" />
        </mxCell>
        <mxCell id="YD8wXlY8oEXokaMSZj_n-32" parent="YD8wXlY8oEXokaMSZj_n-30" style="text;strokeColor=default;fillColor=default;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;html=1;" value="&lt;b style=&quot;font-size: 12px;&quot;&gt;task uvmc_rvfi_scoreboard_c::run_phase(uvm_phase phase);&lt;/b&gt;&lt;br&gt;&lt;b&gt;&lt;br&gt;&lt;/b&gt;&lt;div style=&quot;&quot;&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp; &amp;nbsp; sim_finished = 0;&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;&quot;&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp; &amp;nbsp; phase.raise_objection(this);&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;&quot;&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp; &amp;nbsp; while (!sim_finished) begin&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;&quot;&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &lt;span style=&quot;background-color: rgb(185, 224, 165);&quot;&gt;&lt;b&gt;@(reference_model.size &amp;gt; 0)&lt;/b&gt;&lt;/span&gt;&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;&quot;&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; while (reference_model.size &amp;gt; 0 &amp;amp;&amp;amp; !sim_finished)&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;&quot;&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; begin&lt;/span&gt;&lt;/div&gt;" vertex="1">
          <mxGeometry height="130" width="640" y="100" as="geometry" />
        </mxCell>
        <mxCell id="YD8wXlY8oEXokaMSZj_n-33" parent="YD8wXlY8oEXokaMSZj_n-30" style="text;strokeColor=default;fillColor=default;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;html=1;" value="&lt;div style=&quot;&quot;&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; t_core = core.pop_front();&lt;/span&gt;&lt;/div&gt;" vertex="1">
          <mxGeometry height="30" width="640" y="230" as="geometry" />
        </mxCell>
        <mxCell id="YD8wXlY8oEXokaMSZj_n-34" parent="YD8wXlY8oEXokaMSZj_n-30" style="text;strokeColor=default;fillColor=default;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;html=1;" value="&lt;div style=&quot;&quot;&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; t_reference_model = reference_model.pop_front();&lt;/span&gt;&lt;/div&gt;" vertex="1">
          <mxGeometry height="30" width="640" y="260" as="geometry" />
        </mxCell>
        <mxCell id="YD8wXlY8oEXokaMSZj_n-35" parent="YD8wXlY8oEXokaMSZj_n-30" style="text;strokeColor=default;fillColor=default;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;html=1;" value="&lt;div style=&quot;&quot;&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;&amp;nbsp;&lt;span style=&quot;background-color: rgb(185, 224, 165);&quot;&gt;&lt;b&gt;rvfi_compare(t_core.seq2rvfi(), t_reference_model.seq2rvfi());&lt;/b&gt;&lt;/span&gt;&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;&quot;&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&lt;br&gt;&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;&quot;&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; if (t_reference_model.halt || (sentinel_enable &amp;amp;&amp;amp; (sentinel_value == t_reference_model.insn)))&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;&quot;&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; sim_finished = 1;&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;&quot;&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; end&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;&quot;&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp; &amp;nbsp; end&lt;/span&gt;&lt;/div&gt;" vertex="1">
          <mxGeometry height="110" width="640" y="290" as="geometry" />
        </mxCell>
        <mxCell id="YD8wXlY8oEXokaMSZj_n-36" parent="YD8wXlY8oEXokaMSZj_n-30" style="line;strokeWidth=1;fillColor=none;align=left;verticalAlign=middle;spacingTop=-1;spacingLeft=3;spacingRight=3;rotatable=0;labelPosition=right;points=[];portConstraint=eastwest;strokeColor=inherit;" value="" vertex="1">
          <mxGeometry height="8" width="640" y="400" as="geometry" />
        </mxCell>
        <mxCell id="YD8wXlY8oEXokaMSZj_n-37" parent="1" style="swimlane;fontStyle=1;align=center;verticalAlign=top;childLayout=stackLayout;horizontal=1;startSize=26;horizontalStack=0;resizeParent=1;resizeParentMax=0;resizeLast=0;collapsible=1;marginBottom=0;whiteSpace=wrap;html=1;" value="reference model" vertex="1">
          <mxGeometry height="676" width="690" x="24476.080000000005" y="3750" as="geometry" />
        </mxCell>
        <mxCell id="YD8wXlY8oEXokaMSZj_n-38" parent="YD8wXlY8oEXokaMSZj_n-37" style="text;strokeColor=default;fillColor=default;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;html=1;" value="&lt;span style=&quot;font-size: 12px;&quot;&gt;&lt;b&gt;/home/ICer/proj/cva6/verif/core-v-verif/lib/uvm_components/uvmc_rvfi_reference_model/uvmc_rvfi_spike.sv&lt;/b&gt;&lt;/span&gt;" vertex="1">
          <mxGeometry height="54" width="690" y="26" as="geometry" />
        </mxCell>
        <mxCell id="YD8wXlY8oEXokaMSZj_n-39" parent="YD8wXlY8oEXokaMSZj_n-37" style="text;strokeColor=default;fillColor=default;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;html=1;" value="&lt;span style=&quot;font-size: 12px;&quot;&gt;function void build_phase(uvm_phase phase);&lt;br&gt;&lt;/span&gt;&lt;div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;st_core_cntrl_cfg st;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;super.build_phase(phase);&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&lt;br&gt;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;st = cfg.to_struct();&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;&lt;span style=&quot;background-color: rgb(185, 224, 165);&quot;&gt;&lt;b&gt;rvfi_initialize_spike(cfg.core_name, st);&lt;/b&gt;&lt;/span&gt;&lt;/span&gt;&lt;/div&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;endfunction : build_phase&lt;/span&gt;&lt;/div&gt;" vertex="1">
          <mxGeometry height="130" width="690" y="80" as="geometry" />
        </mxCell>
        <mxCell id="YD8wXlY8oEXokaMSZj_n-40" parent="YD8wXlY8oEXokaMSZj_n-37" style="text;strokeColor=default;fillColor=default;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;html=1;" value="&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;/*&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp;* Write RVFI transactions to send to the scoreboard&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp;*/&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;virtual function void write_rvfi_instr(uvma_rvfi_instr_seq_item_c#(ILEN,XLEN) t);&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&lt;br&gt;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp; &amp;nbsp; &lt;span style=&quot;background-color: rgb(185, 224, 165);&quot;&gt;uvma_rvfi_instr_seq_item_c#(ILEN,XLEN) t_reference_model = step(1, t);&lt;/span&gt;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp; &amp;nbsp; m_analysis_port.write(t_reference_model);&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&lt;br&gt;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;endfunction : write_rvfi_instr&lt;/span&gt;&lt;/div&gt;" vertex="1">
          <mxGeometry height="150" width="690" y="210" as="geometry" />
        </mxCell>
        <mxCell id="YD8wXlY8oEXokaMSZj_n-41" parent="YD8wXlY8oEXokaMSZj_n-37" style="text;strokeColor=default;fillColor=default;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;html=1;" value="&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp; &amp;nbsp;/**&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp; &amp;nbsp; * Step function - Steps the core and returns a rvfi transaction&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp; &amp;nbsp; */&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp; &amp;nbsp;virtual function uvma_rvfi_instr_seq_item_c#(ILEN,XLEN) &lt;b&gt;step &lt;/b&gt;(int i, &lt;span style=&quot;background-color: rgb(185, 224, 165);&quot;&gt;&lt;b&gt;uvma_rvfi_instr_seq_item_c#(ILEN,XLEN) t&lt;/b&gt;&lt;/span&gt;);&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;&lt;span style=&quot;background-color: rgb(185, 224, 165);&quot;&gt;st_rvfi s_core, s_reference_model;&lt;/span&gt;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;uvma_rvfi_instr_seq_item_c#(ILEN,XLEN) t_reference_model;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&lt;br&gt;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;&lt;span style=&quot;background-color: rgb(185, 224, 165);&quot;&gt;s_core = t.seq2rvfi();&lt;/span&gt;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&lt;br&gt;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;&lt;b style=&quot;background-color: rgb(185, 224, 165);&quot;&gt;rvfi_spike_step(s_core, s_reference_model);&lt;/b&gt;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&lt;br&gt;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;t_reference_model = new(&quot;t_reference_model&quot;);&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;&lt;span style=&quot;background-color: rgb(185, 224, 165);&quot;&gt;t_reference_model.rvfi2seq(s_reference_model);&lt;/span&gt;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;return t_reference_model;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp; &amp;nbsp;endfunction : step&lt;/span&gt;&lt;/div&gt;" vertex="1">
          <mxGeometry height="230" width="690" y="360" as="geometry" />
        </mxCell>
        <mxCell id="YD8wXlY8oEXokaMSZj_n-42" parent="YD8wXlY8oEXokaMSZj_n-37" style="text;strokeColor=default;fillColor=default;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;html=1;" value="" vertex="1">
          <mxGeometry height="78" width="690" y="590" as="geometry" />
        </mxCell>
        <mxCell id="YD8wXlY8oEXokaMSZj_n-43" parent="YD8wXlY8oEXokaMSZj_n-37" style="line;strokeWidth=1;fillColor=none;align=left;verticalAlign=middle;spacingTop=-1;spacingLeft=3;spacingRight=3;rotatable=0;labelPosition=right;points=[];portConstraint=eastwest;strokeColor=inherit;" value="" vertex="1">
          <mxGeometry height="8" width="690" y="668" as="geometry" />
        </mxCell>
        <mxCell id="YD8wXlY8oEXokaMSZj_n-44" edge="1" parent="YD8wXlY8oEXokaMSZj_n-37" style="html=1;verticalAlign=bottom;endArrow=block;curved=0;rounded=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;strokeWidth=5;fillColor=#fff2cc;strokeColor=#d6b656;" target="YD8wXlY8oEXokaMSZj_n-41" value="Call model step">
          <mxGeometry relative="1" width="80" as="geometry">
            <Array as="points">
              <mxPoint x="869.9999999999964" y="290" />
              <mxPoint x="869.9999999999964" y="740" />
              <mxPoint x="-140" y="740" />
              <mxPoint x="-140" y="475" />
            </Array>
            <mxPoint x="690" y="290" as="sourcePoint" />
            <mxPoint x="120" y="1085" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="YD8wXlY8oEXokaMSZj_n-45" parent="1" style="swimlane;fontStyle=1;align=center;verticalAlign=top;childLayout=stackLayout;horizontal=1;startSize=40;horizontalStack=0;resizeParent=1;resizeParentMax=0;resizeLast=0;collapsible=1;marginBottom=0;whiteSpace=wrap;html=1;" value="env&lt;br&gt;&lt;b style=&quot;text-align: left;&quot;&gt;/home/ICer/proj/cva6/verif/env/uvme/uvme_cva6_env.sv&lt;/b&gt;" vertex="1">
          <mxGeometry height="428" width="640" x="23066.080000000005" y="4100" as="geometry" />
        </mxCell>
        <mxCell id="YD8wXlY8oEXokaMSZj_n-46" parent="YD8wXlY8oEXokaMSZj_n-45" style="text;strokeColor=default;fillColor=default;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;html=1;" value="&lt;b&gt;/home/ICer/proj/cva6/verif/env/uvme/uvme_cva6_env.sv&lt;br&gt;&lt;/b&gt;&lt;div&gt;&lt;span style=&quot;background-color: transparent; color: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));&quot;&gt;&lt;br&gt;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;background-color: transparent; font-size: 12px;&quot;&gt;&lt;b&gt;&lt;div style=&quot;&quot;&gt;if ($test$plusargs(&quot;tandem enabled&quot;))&lt;/div&gt;&lt;div style=&quot;&quot;&gt;&amp;nbsp; &amp;nbsp; $value$plusargs(&quot;tandem enabled=%b&quot;,cfg.tandem_enabled);&lt;/div&gt;&lt;/b&gt;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;background-color: transparent; color: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));&quot;&gt;&lt;br&gt;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;background-color: transparent; color: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));&quot;&gt;if (cfg.tandem_enabled) begin&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp; &amp;nbsp; reference_model = uvmc_rvfi_reference_model#(ILEN,XLEN)::type_id::create(&quot;reference_model&quot;, this);&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;end&lt;/span&gt;&lt;br&gt;&lt;br&gt;&lt;div style=&quot;&quot;&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;if (cfg.scoreboard_enabled || cfg.tandem_enabled) begin&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;&quot;&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp; &amp;nbsp; sb&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; = uvme_cva6_sb_c ::type_id::create(&quot;sb&quot;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;, this);&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;&quot;&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;end&lt;br&gt;&lt;br&gt;&lt;div&gt;if (cfg.tandem_enabled) begin&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; &lt;b style=&quot;background-color: rgb(185, 224, 165);&quot;&gt;rvfi_agent.rvfi_core_ap.connect(sb.m_rvfi_scoreboard.m_imp_core);&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; &lt;span style=&quot;background-color: rgb(185, 224, 165);&quot;&gt;&lt;b&gt;rvfi_agent.rvfi_core_ap.connect(reference_model.m_analysis_imp);&lt;/b&gt;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; &lt;span style=&quot;background-color: rgb(185, 224, 165);&quot;&gt;&lt;b&gt;reference_model.m_analysis_port.connect(sb.m_rvfi_scoreboard.m_imp_reference_model);&lt;/b&gt;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;end&lt;/div&gt;&lt;/span&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;" vertex="1">
          <mxGeometry height="284" width="640" y="40" as="geometry" />
        </mxCell>
        <mxCell id="YD8wXlY8oEXokaMSZj_n-47" parent="YD8wXlY8oEXokaMSZj_n-45" style="text;strokeColor=default;fillColor=default;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;html=1;" value="&lt;b&gt;/home/ICer/proj/cva6/verif/env/uvme/uvme_cva6_sb.sv&lt;br&gt;&lt;/b&gt;&lt;br&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;if (cfg.tandem_enabled)&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; m_rvfi_scoreboard = uvmc_rvfi_scoreboard_c#(ILEN,XLEN)::type_id::create(&quot;m_rvfi_scoreboard&quot;, this);&lt;/span&gt;&lt;/div&gt;" vertex="1">
          <mxGeometry height="96" width="640" y="324" as="geometry" />
        </mxCell>
        <mxCell id="YD8wXlY8oEXokaMSZj_n-48" parent="YD8wXlY8oEXokaMSZj_n-45" style="line;strokeWidth=1;fillColor=none;align=left;verticalAlign=middle;spacingTop=-1;spacingLeft=3;spacingRight=3;rotatable=0;labelPosition=right;points=[];portConstraint=eastwest;strokeColor=inherit;" value="" vertex="1">
          <mxGeometry height="8" width="640" y="420" as="geometry" />
        </mxCell>
        <mxCell id="YD8wXlY8oEXokaMSZj_n-49" parent="1" style="swimlane;fontStyle=1;align=center;verticalAlign=top;childLayout=stackLayout;horizontal=1;startSize=40;horizontalStack=0;resizeParent=1;resizeParentMax=0;resizeLast=0;collapsible=1;marginBottom=0;whiteSpace=wrap;html=1;" value="monitor&lt;br&gt;&lt;b style=&quot;text-align: left;&quot;&gt;/home/ICer/proj/cva6/verif/core-v-verif/lib/uvm_agents/uvma_rvfi/uvma_rvfi_instr_mon.sv&lt;/b&gt;" vertex="1">
          <mxGeometry height="1378" width="690" x="24826.080000000005" y="1972" as="geometry" />
        </mxCell>
        <mxCell id="YD8wXlY8oEXokaMSZj_n-50" parent="YD8wXlY8oEXokaMSZj_n-49" style="text;strokeColor=default;fillColor=default;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;html=1;" value="&lt;div style=&quot;&quot;&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&lt;b&gt;task uvma_rvfi_instr_mon_c::monitor_rvfi_instr();&lt;/b&gt;&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;&quot;&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&lt;b&gt;&lt;br&gt;&lt;/b&gt;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;background-color: transparent;&quot;&gt;&lt;div style=&quot;&quot;&gt;&lt;div style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp; while(1) begin&lt;/div&gt;&lt;div style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; @(cntxt.instr_vif[0].mon_cb)&lt;br&gt;&lt;br&gt;&lt;/div&gt;&lt;div style=&quot;&quot;&gt;&lt;div style=&quot;&quot;&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; for(int i = 0; i &amp;lt; cfg.nret; i++)&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;&quot;&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; begin&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;&quot;&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; if (monitor_condition) begin&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;&lt;/span&gt;&lt;/div&gt;" vertex="1">
          <mxGeometry height="130" width="690" y="40" as="geometry" />
        </mxCell>
        <mxCell id="YD8wXlY8oEXokaMSZj_n-51" parent="YD8wXlY8oEXokaMSZj_n-49" style="text;strokeColor=default;fillColor=default;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;html=1;" value="&lt;div style=&quot;&quot;&gt;&lt;span style=&quot;background-color: transparent; color: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; uvma_rvfi_instr_seq_item_c#(ILEN,XLEN) mon_trn;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;background-color: transparent;&quot;&gt;&lt;div style=&quot;&quot;&gt;&lt;div style=&quot;&quot;&gt;&lt;div style=&quot;&quot;&gt;&lt;div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; mon_trn = uvma_rvfi_instr_seq_item_c#(ILEN,XLEN)::type_id::create(&quot;mon_trn&quot;);&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&lt;br&gt;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; mon_trn.nret_id&amp;nbsp; = nret_id;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; mon_trn.cycle_cnt = cntxt.instr_vif[nret_id].mon_cb.cycle_cnt&lt;/span&gt;&lt;/div&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&lt;br&gt;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;background-color: transparent; font-size: 12px;&quot;&gt;mon_trn.order&amp;nbsp; &amp;nbsp; &amp;nbsp;= cntxt.instr_vif[nret_id].mon_cb.rvfi_order;&lt;br&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;background-color: transparent; font-size: 12px;&quot;&gt;mon_trn....&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;= cntxt.instr_vif[nret_id].mon_cb......;&lt;/span&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;&lt;/span&gt;&lt;/div&gt;" vertex="1">
          <mxGeometry height="130" width="690" y="170" as="geometry" />
        </mxCell>
        <mxCell id="YD8wXlY8oEXokaMSZj_n-52" parent="YD8wXlY8oEXokaMSZj_n-49" style="text;strokeColor=default;fillColor=default;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;html=1;" value="&lt;div style=&quot;&quot;&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; // Get the CSRs&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; if (!cfg.core_cfg.disable_all_csr_checks) begin&lt;/span&gt;&lt;/div&gt;&lt;/div&gt;" vertex="1">
          <mxGeometry height="40" width="690" y="300" as="geometry" />
        </mxCell>
        <mxCell id="YD8wXlY8oEXokaMSZj_n-53" parent="YD8wXlY8oEXokaMSZj_n-49" style="text;strokeColor=default;fillColor=default;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;html=1;" value="&lt;div style=&quot;&quot;&gt;&lt;div&gt;&lt;span style=&quot;background-color: transparent; color: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; if (!cfg.unified_csr_vif) begin&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;foreach (cntxt.csr_vif[csr]) begin&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;uvma_rvfi_csr_seq_item_c csr_trn = uvma_rvfi_csr_seq_item_c#(XLEN)::type_id::create({csr, &quot;_trn&quot;});&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;csr_trn.csr = csr;&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;csr_trn.nret_id = nret_id;&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;csr_trn.rmask = cntxt.csr_vif[csr][nret_id].mon_cb.rvfi_csr_rmask;&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;csr_trn.wmask = cntxt.csr_vif[csr][nret_id].mon_cb.rvfi_csr_wmask;&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;csr_trn.rdata = cntxt.csr_vif[csr][nret_id].mon_cb.rvfi_csr_rdata;&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;csr_trn.wdata = cntxt.csr_vif[csr][nret_id].mon_cb.rvfi_csr_wdata;&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp;&amp;nbsp;&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;mon_trn.name_csrs[csr] = csr_trn;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;&amp;nbsp;&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;end&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; end&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; else begin&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; uvma_rvfi_csr_seq_item_c csr_trn;&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; longint unsigned addr;&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp;&amp;nbsp;&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; csr_trn = uvma_rvfi_csr_seq_item_c#(XLEN)::type_id::create({addr, &quot;_trn&quot;});&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; addr = cntxt.csr_unified_vif[nret_id].mon_cb.rvfi_csr_addr;&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; csr_trn.addr = addr;&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; if (cntxt.csr_unified_vif[nret_id].mon_cb.rvfi_csr_wmask != 0) begin&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; csr_trn.wmask = cntxt.csr_unified_vif[nret_id].mon_cb.rvfi_csr_wmask;&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; csr_trn.wdata = cntxt.csr_unified_vif[nret_id].mon_cb.rvfi_csr_wdata;&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; csr_trn.rmask = cntxt.csr_unified_vif[nret_id].mon_cb.rvfi_csr_rmask;&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; csr_trn.rdata = cntxt.csr_unified_vif[nret_id].mon_cb.rvfi_csr_rdata;&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; mon_trn.addr_csrs[addr] = csr_trn;&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; end&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp;&amp;nbsp;&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; foreach(supported_csrs_addrs[i]) begin&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; addr = supported_csrs_addrs[i];&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; csr_trn = uvma_rvfi_csr_seq_item_c#(XLEN)::type_id::create({addr, &quot;_trn&quot;});&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; csr_trn.addr = addr;&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; csr_trn.wmask = cntxt.csr_unified_vif[nret_id].mon_cb.rvfi_named_csr_wmask[addr];&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; csr_trn.wdata = cntxt.csr_unified_vif[nret_id].mon_cb.rvfi_named_csr_wdata[addr];&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; csr_trn.rmask = cntxt.csr_unified_vif[nret_id].mon_cb.rvfi_named_csr_rmask[addr];&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; csr_trn.rdata = cntxt.csr_unified_vif[nret_id].mon_cb.rvfi_named_csr_rdata[addr];&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; mon_trn.addr_csrs[addr] = csr_trn;&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; end&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; end&lt;/div&gt;&lt;/div&gt;" vertex="1">
          <mxGeometry height="580" width="690" y="340" as="geometry" />
        </mxCell>
        <mxCell id="YD8wXlY8oEXokaMSZj_n-54" parent="YD8wXlY8oEXokaMSZj_n-49" style="text;strokeColor=default;fillColor=default;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;html=1;" value="&lt;div style=&quot;&quot;&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; // Decode interrupts that need to be communicated to ISS (external or NMI bus faults)&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; if (mon_trn.intr) begin&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; end&lt;/div&gt;&lt;/div&gt;" vertex="1">
          <mxGeometry height="90" width="690" y="920" as="geometry" />
        </mxCell>
        <mxCell id="YD8wXlY8oEXokaMSZj_n-55" parent="YD8wXlY8oEXokaMSZj_n-49" style="text;strokeColor=default;fillColor=default;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;html=1;" value="&lt;div style=&quot;&quot;&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; // Decode interrupts that need to be communicated to ISS (external or NMI bus faults)&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; if (mon_trn.intr) begin&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; end&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; ...&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;// Debug related&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;end /* */&lt;/div&gt;&lt;/div&gt;" vertex="1">
          <mxGeometry height="130" width="690" y="1010" as="geometry" />
        </mxCell>
        <mxCell id="YD8wXlY8oEXokaMSZj_n-56" parent="YD8wXlY8oEXokaMSZj_n-49" style="text;strokeColor=default;fillColor=default;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;html=1;" value="&lt;div style=&quot;&quot;&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; // Detect instruction bus fault&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; if (cfg.insn_bus_fault_enabled &amp;amp;&amp;amp;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; mon_trn.is_trap() &amp;amp;&amp;amp;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; mon_trn.get_trap_cause() == cfg.insn_bus_fault_cause) begin&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; mon_trn.insn_bus_fault = 1;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; `uvm_info(&quot;RVFIMON&quot;, $sformatf(&quot;Detected bus fault&quot;), UVM_LOW)&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; end&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&lt;br&gt;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; `uvm_info(log_tag, $sformatf(&quot;%s&quot;, mon_trn.convert2string()), UVM_HIGH);&lt;/span&gt;&lt;/div&gt;&lt;/div&gt;" vertex="1">
          <mxGeometry height="150" width="690" y="1140" as="geometry" />
        </mxCell>
        <mxCell id="YD8wXlY8oEXokaMSZj_n-57" parent="YD8wXlY8oEXokaMSZj_n-49" style="text;strokeColor=default;fillColor=default;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;html=1;" value="&lt;div style=&quot;&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;&amp;nbsp;&lt;b style=&quot;background-color: rgb(185, 224, 165);&quot;&gt;ap.write(mon_trn);&lt;/b&gt;&lt;span style=&quot;color: light-dark(rgb(0, 0, 0), rgb(255, 255, 255)); background-color: transparent;&quot;&gt;&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;&quot;&gt;&lt;span style=&quot;color: light-dark(rgb(0, 0, 0), rgb(255, 255, 255)); background-color: transparent;&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;&lt;/span&gt;&lt;span style=&quot;color: light-dark(rgb(0, 0, 0), rgb(255, 255, 255)); background-color: transparent;&quot;&gt;&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;color: light-dark(rgb(0, 0, 0), rgb(255, 255, 255)); background-color: transparent;&quot;&gt;end /* if&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;background-color: transparent; color: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));&quot;&gt;monitor_condition&lt;/span&gt;&lt;span style=&quot;background-color: transparent; color: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));&quot;&gt;&amp;nbsp;*/&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;background-color: transparent;&quot;&gt;&lt;div style=&quot;&quot;&gt;&lt;div style=&quot;&quot;&gt;&lt;div style=&quot;&quot;&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; end /* for */&lt;/div&gt;&lt;div&gt;&amp;nbsp; end /* while */&lt;/div&gt;&lt;/span&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;&lt;/span&gt;&lt;/div&gt;" vertex="1">
          <mxGeometry height="80" width="690" y="1290" as="geometry" />
        </mxCell>
        <mxCell id="YD8wXlY8oEXokaMSZj_n-58" parent="YD8wXlY8oEXokaMSZj_n-49" style="line;strokeWidth=1;fillColor=none;align=left;verticalAlign=middle;spacingTop=-1;spacingLeft=3;spacingRight=3;rotatable=0;labelPosition=right;points=[];portConstraint=eastwest;strokeColor=inherit;" value="" vertex="1">
          <mxGeometry height="8" width="690" y="1370" as="geometry" />
        </mxCell>
        <mxCell id="YD8wXlY8oEXokaMSZj_n-59" edge="1" parent="1" source="YD8wXlY8oEXokaMSZj_n-57" style="html=1;verticalAlign=bottom;endArrow=block;curved=0;rounded=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;exitX=1;exitY=0.5;exitDx=0;exitDy=0;strokeWidth=5;fillColor=#dae8fc;strokeColor=#6c8ebf;" target="YD8wXlY8oEXokaMSZj_n-40" value="AP Write">
          <mxGeometry relative="1" width="80" as="geometry">
            <Array as="points">
              <mxPoint x="25596.08" y="3300" />
              <mxPoint x="25436.08" y="3610" />
              <mxPoint x="24376.08" y="3610" />
              <mxPoint x="24376.08" y="4035" />
            </Array>
            <mxPoint x="24996.080000000005" y="3440" as="sourcePoint" />
            <mxPoint x="25266.080000000005" y="3570" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="YD8wXlY8oEXokaMSZj_n-60" edge="1" parent="1" source="YD8wXlY8oEXokaMSZj_n-40" style="html=1;verticalAlign=bottom;endArrow=block;curved=0;rounded=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;exitX=1;exitY=0.795;exitDx=0;exitDy=0;exitPerimeter=0;strokeWidth=5;fillColor=#d5e8d4;strokeColor=#82b366;" target="YD8wXlY8oEXokaMSZj_n-34" value="AP Write">
          <mxGeometry relative="1" width="80" x="-0.2129" y="-31" as="geometry">
            <mxPoint as="offset" />
            <Array as="points">
              <mxPoint x="25226.08" y="4079" />
            </Array>
            <mxPoint x="25130.000000000004" y="3570" as="sourcePoint" />
            <mxPoint x="25670.000000000004" y="3575" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="YD8wXlY8oEXokaMSZj_n-61" edge="1" parent="1" source="YD8wXlY8oEXokaMSZj_n-46" style="html=1;verticalAlign=bottom;endArrow=block;curved=0;rounded=0;entryX=0;entryY=0;entryDx=0;entryDy=0;exitX=1;exitY=0.5;exitDx=0;exitDy=0;strokeWidth=5;" target="YD8wXlY8oEXokaMSZj_n-49" value="Connect">
          <mxGeometry relative="1" width="80" as="geometry">
            <Array as="points">
              <mxPoint x="24256.08" y="3500" />
              <mxPoint x="24506.08" y="1972" />
            </Array>
            <mxPoint x="24950.000000000004" y="2830" as="sourcePoint" />
            <mxPoint x="25490.000000000004" y="2835" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="YD8wXlY8oEXokaMSZj_n-62" edge="1" parent="1" source="YD8wXlY8oEXokaMSZj_n-45" style="html=1;verticalAlign=bottom;endArrow=block;curved=0;rounded=0;entryX=0;entryY=0;entryDx=0;entryDy=0;exitX=1;exitY=0.75;exitDx=0;exitDy=0;strokeWidth=5;" target="YD8wXlY8oEXokaMSZj_n-37" value="Connect">
          <mxGeometry relative="1" width="80" as="geometry">
            <Array as="points">
              <mxPoint x="24036.08" y="4421" />
              <mxPoint x="24306.08" y="3750" />
            </Array>
            <mxPoint x="23950.000000000004" y="4219" as="sourcePoint" />
            <mxPoint x="24250.000000000004" y="3080" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="YD8wXlY8oEXokaMSZj_n-63" edge="1" parent="1" source="YD8wXlY8oEXokaMSZj_n-57" style="html=1;verticalAlign=bottom;endArrow=block;curved=0;rounded=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;strokeWidth=5;exitX=1;exitY=0.5;exitDx=0;exitDy=0;fillColor=#dae8fc;strokeColor=#6c8ebf;" target="YD8wXlY8oEXokaMSZj_n-33" value="AP Write">
          <mxGeometry relative="1" width="80" x="-0.2902" y="10" as="geometry">
            <mxPoint as="offset" />
            <Array as="points">
              <mxPoint x="25595.000000000004" y="3300" />
            </Array>
            <mxPoint x="24850.000000000004" y="3440" as="sourcePoint" />
            <mxPoint x="26460.000000000004" y="4100" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="YD8wXlY8oEXokaMSZj_n-64" parent="1" style="swimlane;fontStyle=1;align=center;verticalAlign=top;childLayout=stackLayout;horizontal=1;startSize=26;horizontalStack=0;resizeParent=1;resizeParentMax=0;resizeLast=0;collapsible=1;marginBottom=0;whiteSpace=wrap;html=1;" value="spkie model" vertex="1">
          <mxGeometry height="1210" width="780" x="25482.000000000004" y="4210" as="geometry" />
        </mxCell>
        <mxCell id="YD8wXlY8oEXokaMSZj_n-65" parent="YD8wXlY8oEXokaMSZj_n-64" style="text;strokeColor=default;fillColor=default;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;html=1;" value="&lt;span style=&quot;font-size: 12px;&quot;&gt;&lt;b&gt;/home/ICer/proj/cva6/verif/core-v-verif/lib/uvm_components/uvmc_rvfi_reference_model/rvfi_spike.sv&lt;/b&gt;&lt;/span&gt;" vertex="1">
          <mxGeometry height="34" width="780" y="26" as="geometry" />
        </mxCell>
        <mxCell id="YD8wXlY8oEXokaMSZj_n-66" parent="YD8wXlY8oEXokaMSZj_n-64" style="text;strokeColor=default;fillColor=default;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;html=1;" value="&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;function automatic void rvfi_initialize_spike(string core_name, st_core_cntrl_cfg core_cfg);&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;div style=&quot;&quot;&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp; &amp;nbsp; base = $sformatf(&quot;/top/core/%0d/&quot;, core_cfg.mhartid);&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;&quot;&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&lt;br&gt;&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;&quot;&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp; &amp;nbsp; &lt;span style=&quot;background-color: rgb(185, 224, 165);&quot;&gt;if ($value$plusargs(&quot;elf_file=%s&quot;, binary))&lt;/span&gt;&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;&quot;&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; `uvm_info(&quot;spike_tandem&quot;, $sformatf(&quot;Setting up Spike with binary %s...&quot;, binary), UVM_LOW);&lt;/span&gt;&lt;/div&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp; &amp;nbsp; end&lt;br&gt;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&lt;br&gt;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp; &amp;nbsp;&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;void&#39;(&lt;span style=&quot;background-color: rgb(255, 242, 204);&quot;&gt;&lt;b&gt;spike_set_default_params&lt;/b&gt;&lt;/span&gt;(core_name));&lt;/span&gt;&lt;br&gt;&lt;br&gt;&lt;div style=&quot;background-color: transparent;&quot;&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp; &amp;nbsp; rtl_isa = get_isa_str(core_cfg);&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;background-color: transparent;&quot;&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp; &amp;nbsp; rtl_priv = get_priv_str(core_cfg);&lt;/span&gt;&lt;/div&gt;&lt;/div&gt;" vertex="1">
          <mxGeometry height="170" width="780" y="60" as="geometry" />
        </mxCell>
        <mxCell id="YD8wXlY8oEXokaMSZj_n-67" parent="YD8wXlY8oEXokaMSZj_n-64" style="text;strokeColor=default;fillColor=default;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;html=1;" value="&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp; &amp;nbsp; &lt;span style=&quot;background-color: rgb(185, 224, 165);&quot;&gt;if ($value$plusargs(&quot;config_file=%s&quot;, config_file)) begin&lt;/span&gt;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; void&#39;(&lt;span style=&quot;background-color: rgb(255, 242, 204);&quot;&gt;&lt;b&gt;spike_set_params_from_file&lt;/b&gt;&lt;/span&gt;(config_file));&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; // If core address is not set or is zero (FORNOW no way to discriminate&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; // between these conditions), take the &quot;/top/cores/boot_addr&quot; value&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; // (possibly equal to zero).&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; boot_addr = &lt;span style=&quot;background-color: rgb(255, 242, 204);&quot;&gt;&lt;b&gt;spike_get_param_uint64_t&lt;/b&gt;&lt;/span&gt;(base, &quot;boot_addr&quot;);&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; if (boot_addr == 0)&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; boot_addr = &lt;b style=&quot;background-color: rgb(255, 242, 204);&quot;&gt;spike_get_param_uint64_t&lt;/b&gt;(&quot;/top/cores/&quot;, &quot;boot_addr&quot;);&lt;/span&gt;&lt;br&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp; &amp;nbsp; end else begin&lt;/span&gt;&lt;br&gt;&lt;div style=&quot;&quot;&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; if (core_cfg.ext_cv32a60x_supported) begin&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;&quot;&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; void&#39;(&lt;b style=&quot;background-color: rgb(255, 242, 204);&quot;&gt;spike_set_param_str&lt;/b&gt;(&quot;/top/core/0/&quot;, &quot;extensions&quot;, &quot;cv32a60x&quot;));&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;&quot;&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; end&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;&quot;&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&lt;br&gt;&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;&quot;&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; void&#39;(&lt;span style=&quot;background-color: rgb(255, 242, 204);&quot;&gt;&lt;b&gt;spike_set_param_uint64_t&lt;/b&gt;&lt;/span&gt;(&quot;/top/&quot;, &quot;num_procs&quot;, 64&#39;h1));&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;&quot;&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&lt;br&gt;&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;&quot;&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; void&#39;(&lt;span style=&quot;background-color: rgb(255, 242, 204);&quot;&gt;&lt;b&gt;spike_set_param_bool&lt;/b&gt;&lt;/span&gt;(&quot;/top/&quot;, &quot;misaligned&quot;, core_cfg.unaligned_access_supported));&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;&quot;&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&lt;br&gt;&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;&quot;&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; void&#39;(&lt;span style=&quot;background-color: rgb(255, 242, 204);&quot;&gt;&lt;b&gt;spike_set_param_uint64_t&lt;/b&gt;&lt;/span&gt;(base, &quot;pmpregions_max&quot;, core_cfg.pmp_regions));&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;&quot;&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; void&#39;(&lt;span style=&quot;background-color: rgb(255, 242, 204);&quot;&gt;&lt;b&gt;spike_set_param_uint64_t&lt;/b&gt;&lt;/span&gt;(base, &quot;pmpregions_writable&quot;, core_cfg.pmp_regions));&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;&quot;&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; void&#39;(&lt;span style=&quot;background-color: rgb(255, 242, 204);&quot;&gt;&lt;b&gt;spike_set_param_bool&lt;/b&gt;&lt;/span&gt;(base, &quot;misaligned&quot;, core_cfg.unaligned_access_supported));&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;&quot;&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&lt;br&gt;&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;&quot;&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; void&#39;(&lt;span style=&quot;background-color: rgb(255, 242, 204);&quot;&gt;&lt;b&gt;spike_set_param_uint64_t&lt;/b&gt;&lt;/span&gt;(&quot;/top/&quot;, &quot;num_procs&quot;, 64&#39;h1));&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;&quot;&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&lt;br&gt;&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;&quot;&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; void&#39;(&lt;span style=&quot;background-color: rgb(255, 242, 204);&quot;&gt;&lt;b&gt;spike_set_param_uint64_t&lt;/b&gt;&lt;/span&gt;(base, &quot;mhartid_override_mask&quot;, 64&#39;hFFFFFFFF));&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;&quot;&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; void&#39;(&lt;span style=&quot;background-color: rgb(255, 242, 204);&quot;&gt;&lt;b&gt;spike_set_param_uint64_t&lt;/b&gt;&lt;/span&gt;(base, &quot;mhartid_override_value&quot;, core_cfg.mhartid));&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;&quot;&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&lt;br&gt;&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;&quot;&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; void&#39;(&lt;b style=&quot;background-color: rgb(255, 242, 204);&quot;&gt;spike_set_param_uint64_t&lt;/b&gt;(base, &quot;marchid_override_mask&quot;, 64&#39;hFFFFFFFF));&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;&quot;&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; void&#39;(&lt;span style=&quot;background-color: rgb(255, 242, 204);&quot;&gt;&lt;b&gt;spike_set_param_uint64_t&lt;/b&gt;&lt;/span&gt;(base, &quot;marchid_override_value&quot;, core_cfg.marchid));&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;&quot;&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&lt;br&gt;&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;&quot;&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; void&#39;(&lt;span style=&quot;background-color: rgb(255, 242, 204);&quot;&gt;&lt;b&gt;spike_set_param_uint64_t&lt;/b&gt;&lt;/span&gt;(base, &quot;mvendorid_override_mask&quot;, 64&#39;hFFFFFFFF));&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;&quot;&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; void&#39;(&lt;b style=&quot;background-color: rgb(255, 242, 204);&quot;&gt;spike_set_param_uint64_t&lt;/b&gt;(base, &quot;mvendorid_override_value&quot;, core_cfg.mvendorid));&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;&quot;&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&lt;br&gt;&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;&quot;&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; void&#39;(&lt;span style=&quot;background-color: rgb(255, 242, 204);&quot;&gt;&lt;b&gt;spike_set_param_bool&lt;/b&gt;&lt;/span&gt;(base, &quot;csr_counters_injection&quot;, 1&#39;h1));&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;&quot;&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&lt;br&gt;&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;&quot;&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; if (core_cfg.dram_valid) begin&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;&quot;&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; void&#39;(&lt;span style=&quot;background-color: rgb(255, 242, 204);&quot;&gt;&lt;b&gt;spike_set_param_bool&lt;/b&gt;&lt;/span&gt;(&quot;/top/&quot;, &quot;dram_enable&quot;, core_cfg.dram_valid));&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;&quot;&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; void&#39;(&lt;span style=&quot;background-color: rgb(255, 242, 204);&quot;&gt;&lt;b style=&quot;&quot;&gt;spike_set_param_uint64_t&lt;/b&gt;&lt;/span&gt;(&quot;/top/&quot;, &quot;dram_base&quot;, core_cfg.dram_base));&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;&quot;&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; void&#39;(&lt;span style=&quot;background-color: rgb(255, 242, 204);&quot;&gt;&lt;b&gt;spike_set_param_uint64_t&lt;/b&gt;&lt;/span&gt;(&quot;/top/&quot;, &quot;dram_size&quot;, core_cfg.dram_size));&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;&quot;&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; end&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;&quot;&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; void&#39;(&lt;span style=&quot;background-color: rgb(255, 242, 204);&quot;&gt;&lt;b&gt;spike_set_param_bool&lt;/b&gt;&lt;/span&gt;(base, &quot;unified_traps&quot;, core_cfg.unified_traps));&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;&quot;&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&lt;br&gt;&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;&quot;&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; // FORNOW FIXME TODO: Hardcoded bootrom base address&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;&quot;&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &lt;span style=&quot;background-color: rgb(185, 224, 165);&quot;&gt;boot_addr = 64&#39;h10000;&lt;/span&gt;&lt;/span&gt;&lt;/div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp; &amp;nbsp; end&lt;/span&gt;&lt;/div&gt;" vertex="1">
          <mxGeometry height="660" width="780" y="230" as="geometry" />
        </mxCell>
        <mxCell id="YD8wXlY8oEXokaMSZj_n-68" parent="YD8wXlY8oEXokaMSZj_n-64" style="text;strokeColor=default;fillColor=default;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;html=1;" value="&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp; &amp;nbsp; void&#39;(&lt;span style=&quot;background-color: rgb(255, 242, 204);&quot;&gt;&lt;b&gt;spike_set_param_str&lt;/b&gt;&lt;/span&gt;(&quot;/top/&quot;, &quot;isa&quot;, rtl_isa));&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp; &amp;nbsp; void&#39;(&lt;span style=&quot;background-color: rgb(255, 242, 204);&quot;&gt;&lt;b&gt;spike_set_param_str&lt;/b&gt;&lt;/span&gt;(base, &quot;isa&quot;, rtl_isa));&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp; &amp;nbsp; void&#39;(&lt;span style=&quot;background-color: rgb(255, 242, 204);&quot;&gt;&lt;b&gt;spike_set_param_str&lt;/b&gt;&lt;/span&gt;(&quot;/top/&quot;, &quot;priv&quot;, rtl_priv));&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp; &amp;nbsp; void&#39;(&lt;span style=&quot;background-color: rgb(255, 242, 204);&quot;&gt;&lt;b&gt;spike_set_param_str&lt;/b&gt;&lt;/span&gt;(base, &quot;priv&quot;, rtl_priv));&lt;/span&gt;&lt;/div&gt;" vertex="1">
          <mxGeometry height="80" width="780" y="890" as="geometry" />
        </mxCell>
        <mxCell id="YD8wXlY8oEXokaMSZj_n-69" parent="YD8wXlY8oEXokaMSZj_n-64" style="text;strokeColor=default;fillColor=default;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;html=1;" value="&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp; &amp;nbsp; // Override default boot address with the address from UVM config.&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp; &amp;nbsp; if (core_cfg.boot_addr_valid) begin&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp; &amp;nbsp; if (boot_addr != core_cfg.boot_addr) begin&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; `uvm_info(&quot;SPIKE tandem&quot;,&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;$sformatf(&quot;Overriding default boot address 0x%08h with UVM setting: 0x%08h&quot;,&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;boot_addr, core_cfg.boot_addr), UVM_NONE);&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; boot_addr = core_cfg.boot_addr;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; end&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp; &amp;nbsp; end&lt;/span&gt;&lt;/div&gt;" vertex="1">
          <mxGeometry height="150" width="780" y="970" as="geometry" />
        </mxCell>
        <mxCell id="YD8wXlY8oEXokaMSZj_n-70" parent="YD8wXlY8oEXokaMSZj_n-64" style="text;strokeColor=default;fillColor=default;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;html=1;" value="&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp; &amp;nbsp; void&#39;(&lt;span style=&quot;background-color: rgb(255, 242, 204);&quot;&gt;&lt;b style=&quot;&quot;&gt;spike_set_param_uint64_t&lt;/b&gt;(base, &quot;boot_addr&quot;, boot_addr)&lt;/span&gt;);&lt;/span&gt;&lt;/div&gt;" vertex="1">
          <mxGeometry height="30" width="780" y="1120" as="geometry" />
        </mxCell>
        <mxCell id="YD8wXlY8oEXokaMSZj_n-71" parent="YD8wXlY8oEXokaMSZj_n-64" style="text;strokeColor=default;fillColor=default;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;html=1;" value="&lt;span style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp; &amp;nbsp; void&#39;(&lt;span style=&quot;background-color: rgb(255, 242, 204);&quot;&gt;&lt;b&gt;spike_create&lt;/b&gt;(binary)&lt;/span&gt;);&lt;/span&gt;" vertex="1">
          <mxGeometry height="30" width="780" y="1150" as="geometry" />
        </mxCell>
        <mxCell id="YD8wXlY8oEXokaMSZj_n-72" parent="YD8wXlY8oEXokaMSZj_n-64" style="text;strokeColor=default;fillColor=default;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;html=1;" value="endfunction : rvfi_initialize_spike" vertex="1">
          <mxGeometry height="30" width="780" y="1180" as="geometry" />
        </mxCell>
        <mxCell id="YD8wXlY8oEXokaMSZj_n-73" edge="1" parent="1" source="YD8wXlY8oEXokaMSZj_n-39" style="html=1;verticalAlign=bottom;endArrow=block;curved=0;rounded=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;strokeWidth=5;fillColor=#fff2cc;strokeColor=#d6b656;exitX=1;exitY=0.5;exitDx=0;exitDy=0;" target="YD8wXlY8oEXokaMSZj_n-66" value="Call model step">
          <mxGeometry relative="1" width="80" x="-0.0011" as="geometry">
            <mxPoint as="offset" />
            <Array as="points">
              <mxPoint x="25426.08" y="3895" />
              <mxPoint x="25426.08" y="4355" />
            </Array>
            <mxPoint x="26590.000000000004" y="4010" as="sourcePoint" />
            <mxPoint x="25900.000000000004" y="4195" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="YD8wXlY8oEXokaMSZj_n-74" parent="1" style="swimlane;fontStyle=1;align=center;verticalAlign=top;childLayout=stackLayout;horizontal=1;startSize=26;horizontalStack=0;resizeParent=1;resizeParentMax=0;resizeLast=0;collapsible=1;marginBottom=0;whiteSpace=wrap;html=1;" value="spkie model" vertex="1">
          <mxGeometry height="310" width="780" x="25482.000000000004" y="5560" as="geometry" />
        </mxCell>
        <mxCell id="YD8wXlY8oEXokaMSZj_n-75" parent="YD8wXlY8oEXokaMSZj_n-74" style="text;strokeColor=default;fillColor=default;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;html=1;" value="&lt;span style=&quot;font-size: 12px;&quot;&gt;&lt;b&gt;/home/ICer/proj/cva6/verif/core-v-verif/lib/uvm_components/uvmc_rvfi_reference_model/rvfi_spike.sv&lt;/b&gt;&lt;/span&gt;" vertex="1">
          <mxGeometry height="34" width="780" y="26" as="geometry" />
        </mxCell>
        <mxCell id="YD8wXlY8oEXokaMSZj_n-76" parent="YD8wXlY8oEXokaMSZj_n-74" style="text;strokeColor=default;fillColor=default;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;html=1;" value="&lt;span style=&quot;font-size: 12px;&quot;&gt;function automatic void rvfi_spike_step(ref st_rvfi s_core, ref st_rvfi s_reference_model);&lt;/span&gt;&lt;br&gt;&lt;div style=&quot;&quot;&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; union_rvfi u_core;&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;&quot;&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; union_rvfi u_reference_model;&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;&quot;&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; bit [ST_NUM_WORDS-1:0][63:0] a_core;&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;&quot;&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; bit [ST_NUM_WORDS-1:0][63:0] a_reference_model;&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;&quot;&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&lt;br&gt;&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;&quot;&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; u_core.rvfi = s_core;&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;&quot;&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; a_core = u_core.array;&lt;/span&gt;&lt;/div&gt;" vertex="1">
          <mxGeometry height="130" width="780" y="60" as="geometry" />
        </mxCell>
        <mxCell id="YD8wXlY8oEXokaMSZj_n-77" parent="YD8wXlY8oEXokaMSZj_n-74" style="text;strokeColor=default;fillColor=default;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;html=1;" value="&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &lt;span&gt;&lt;b style=&quot;background-color: rgb(255, 242, 204);&quot;&gt;spike_step_svLogic&lt;/b&gt;(a_core, a_reference_model);&lt;/span&gt;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&lt;br&gt;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; u_reference_model.array = a_reference_model;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&lt;br&gt;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; s_reference_model = u_reference_model.rvfi;&lt;/span&gt;&lt;/div&gt;" vertex="1">
          <mxGeometry height="90" width="780" y="190" as="geometry" />
        </mxCell>
        <mxCell id="YD8wXlY8oEXokaMSZj_n-78" parent="YD8wXlY8oEXokaMSZj_n-74" style="text;strokeColor=default;fillColor=default;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;html=1;" value="endfunction : rvfi_spike_step" vertex="1">
          <mxGeometry height="30" width="780" y="280" as="geometry" />
        </mxCell>
        <mxCell id="YD8wXlY8oEXokaMSZj_n-79" edge="1" parent="1" source="YD8wXlY8oEXokaMSZj_n-41" style="html=1;verticalAlign=bottom;endArrow=block;curved=0;rounded=0;entryX=0;entryY=0;entryDx=0;entryDy=0;strokeWidth=5;fillColor=#d5e8d4;strokeColor=#82b366;exitX=1;exitY=0.5;exitDx=0;exitDy=0;startArrow=block;startFill=1;" target="YD8wXlY8oEXokaMSZj_n-74" value="Call model step">
          <mxGeometry relative="1" width="80" as="geometry">
            <Array as="points">
              <mxPoint x="25226.08" y="4225" />
              <mxPoint x="25366.08" y="5560" />
            </Array>
            <mxPoint x="25050.000000000004" y="4320" as="sourcePoint" />
            <mxPoint x="25600.000000000004" y="4780" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="YD8wXlY8oEXokaMSZj_n-80" parent="1" style="swimlane;fontStyle=1;align=center;verticalAlign=top;childLayout=stackLayout;horizontal=1;startSize=26;horizontalStack=0;resizeParent=1;resizeParentMax=0;resizeLast=0;collapsible=1;marginBottom=0;whiteSpace=wrap;html=1;" value="CVA6.py (vcs-uvm,spike, no TANDEM)" vertex="1">
          <mxGeometry height="918" width="800" x="25577.500000000004" y="-930" as="geometry" />
        </mxCell>
        <mxCell id="YD8wXlY8oEXokaMSZj_n-81" parent="YD8wXlY8oEXokaMSZj_n-80" style="line;strokeWidth=1;fillColor=none;align=left;verticalAlign=middle;spacingTop=-1;spacingLeft=3;spacingRight=3;rotatable=0;labelPosition=right;points=[];portConstraint=eastwest;strokeColor=inherit;" value="" vertex="1">
          <mxGeometry height="8" width="800" y="26" as="geometry" />
        </mxCell>
        <mxCell id="YD8wXlY8oEXokaMSZj_n-82" parent="YD8wXlY8oEXokaMSZj_n-80" style="text;strokeColor=default;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;html=1;" value="exec: cmd=/home/ICer/proj/riscv_cva6_tools/bin/riscv-none-elf-gcc --version" vertex="1">
          <mxGeometry height="26" width="800" y="34" as="geometry" />
        </mxCell>
        <mxCell id="YD8wXlY8oEXokaMSZj_n-83" parent="YD8wXlY8oEXokaMSZj_n-80" style="text;strokeColor=default;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;html=1;" value="exec: cmd=verilator --version" vertex="1">
          <mxGeometry height="26" width="800" y="60" as="geometry" />
        </mxCell>
        <mxCell id="YD8wXlY8oEXokaMSZj_n-84" parent="YD8wXlY8oEXokaMSZj_n-80" style="text;strokeColor=default;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;html=1;" value="&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;exec: cmd=mkdir -p /home/ICer/proj/cva6/verif/sim/out_2025-10-31/directed_tests&lt;/span&gt;&lt;/div&gt;" vertex="1">
          <mxGeometry height="26" width="800" y="86" as="geometry" />
        </mxCell>
        <mxCell id="YD8wXlY8oEXokaMSZj_n-85" parent="YD8wXlY8oEXokaMSZj_n-80" style="text;strokeColor=default;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;html=1;" value="&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;exec: cmd=/home/ICer/proj/riscv_cva6_tools/bin/riscv-none-elf-gcc ../tests/custom/hello_world/hello_world.c&amp;nbsp;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;-I/home/ICer/proj/cva6/verif/sim/dv/user_extension&amp;nbsp;&amp;nbsp;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;-T../../config/gen_from_riscv_config/linker/link.ld &lt;br&gt;-static -mcmodel=medany &lt;br&gt;-fvisibility=hidden &lt;br&gt;-nostdlib &lt;br&gt;-nostartfiles &lt;br&gt;-g ../tests/custom/common/syscalls.c ../tests/custom/common/crt.S -lgcc &lt;br&gt;-I../tests/custom/env &lt;br&gt;-I../tests/custom/common &lt;br&gt;-o /home/ICer/proj/cva6/verif/sim/out_2025-10-31/directed_tests/hello_world.o&amp;nbsp; &lt;br&gt;-march=rv64gc_zba_zbb_zbs_zbc_zbkb_zbkx_zkne_zknd_zknh &lt;br&gt;-mabi=lp64d&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;" vertex="1">
          <mxGeometry height="218" width="800" y="112" as="geometry" />
        </mxCell>
        <mxCell id="YD8wXlY8oEXokaMSZj_n-86" parent="YD8wXlY8oEXokaMSZj_n-80" style="text;strokeColor=default;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;html=1;" value="&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;exec: cmd=mkdir -p /home/ICer/proj/cva6/verif/sim/out_2025-10-31/spike_sim&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;" vertex="1">
          <mxGeometry height="26" width="800" y="330" as="geometry" />
        </mxCell>
        <mxCell id="YD8wXlY8oEXokaMSZj_n-87" parent="YD8wXlY8oEXokaMSZj_n-80" style="text;strokeColor=default;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;html=1;" value="&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;exec: cmd=make spike steps=2000000 &lt;br&gt;target=cv64a6_imafdc_sv39 &lt;br&gt;variant=rv64gc_zba_zbb_zbs_zbc_zbkb_zbkx_zkne_zknd_zknh &lt;br&gt;priv=msu &lt;br&gt;elf=/home/ICer/proj/cva6/verif/sim/out_2025-10-31/directed_tests/hello_world.o tool_path=/home/ICer/proj/cva6/tools/spike/bin &lt;br&gt;log=/home/ICer/proj/cva6/verif/sim/out_2025-10-31/spike_sim/hello_world.cv64a6_imafdc_sv39.log&lt;br&gt;spike_params=&#39;&#39; &lt;br&gt;&amp;amp;&amp;gt; /home/ICer/proj/cva6/verif/sim/out_2025-10-31/spike_sim/hello_world.cv64a6_imafdc_sv39.log.iss&lt;/span&gt;&lt;/div&gt;" vertex="1">
          <mxGeometry height="144" width="800" y="356" as="geometry" />
        </mxCell>
        <mxCell id="YD8wXlY8oEXokaMSZj_n-88" parent="YD8wXlY8oEXokaMSZj_n-80" style="text;strokeColor=default;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;html=1;" value="&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;exec: cmd=make &lt;br&gt;vcs-uvm &lt;br&gt;target=cv64a6_imafdc_sv39 &lt;br&gt;cov=${cov} &lt;br&gt;variant=rv64gc_zba_zbb_zbs_zbc_zbkb_zbkx_zkne_zknd_zknh elf=/home/ICer/proj/cva6/verif/sim/out_2025-10-31/directed_tests/hello_world.o&lt;br&gt;tool_path=/home/ICer/proj/cva6/tools/spike/bin &lt;br&gt;isscomp_opts=&quot;&quot; &lt;br&gt;issrun_opts=&quot; +ntb_random_seed=615222664&quot; &lt;br&gt;isspostrun_opts=&quot;0x0000000080000000&quot; &lt;br&gt;log=/home/ICer/proj/cva6/verif/sim/out_2025-10-31/vcs-uvm_sim/hello_world.cv64a6_imafdc_sv39.log &lt;br&gt;&amp;amp;&amp;gt; /home/ICer/proj/cva6/verif/sim/out_2025-10-31/vcs-uvm_sim/hello_world.cv64a6_imafdc_sv39.log.iss&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;" vertex="1">
          <mxGeometry height="190" width="800" y="500" as="geometry" />
        </mxCell>
        <mxCell id="YD8wXlY8oEXokaMSZj_n-89" parent="YD8wXlY8oEXokaMSZj_n-80" style="text;strokeColor=default;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;html=1;" value="&lt;div&gt;&amp;nbsp; &amp;nbsp; iss_list =&amp;nbsp;[&#39;spike&#39;, &#39;vcs-uvm&#39;]&lt;br&gt;&amp;nbsp; &amp;nbsp; log_list =&amp;nbsp;[&#39;&#39;/home/ICer/proj/cva6/verif/sim/out_2025-11-01/spike_sim/hello_world.cv64a6_imafdc_sv39.log&#39;&#39;, &lt;br&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &#39;&#39;/home/ICer/proj/cva6/verif/sim/out_2025-11-01/vcs-uvm_sim/hello_world.cv64a6_imafdc_sv39.log&#39;&#39;]&lt;/div&gt;def compare_iss_log(iss_list, log_list, report, stop_on_first_error=0, exp=False):&lt;div&gt;&amp;nbsp; &amp;nbsp;&amp;nbsp;process_spike_sim_log(log, csv)&lt;br&gt;&lt;br&gt;&amp;nbsp; &amp;nbsp;&amp;nbsp;process_verilator_sim_log(log, csv)&lt;br&gt;&lt;br&gt;&amp;nbsp; &amp;nbsp;&amp;nbsp;result = compare_trace_csv(csv_list[0], csv_list[1], iss_list[0], iss_list[1], report)&lt;/div&gt;" vertex="1">
          <mxGeometry height="150" width="800" y="690" as="geometry" />
        </mxCell>
        <mxCell id="YD8wXlY8oEXokaMSZj_n-90" parent="YD8wXlY8oEXokaMSZj_n-80" style="text;strokeColor=default;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;html=1;" value="&lt;span style=&quot;font-size: 12px;&quot;&gt;exec: cmd=grep &#39;\[PASSED\]&#39; /home/ICer/proj/cva6/verif/sim/out_2025-10-31/iss_regr.log | wc -l&lt;/span&gt;" vertex="1">
          <mxGeometry height="26" width="800" y="840" as="geometry" />
        </mxCell>
        <mxCell id="YD8wXlY8oEXokaMSZj_n-91" parent="YD8wXlY8oEXokaMSZj_n-80" style="text;strokeColor=default;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;html=1;" value="&lt;span style=&quot;font-size: 12px;&quot;&gt;exec: cmd=grep &#39;\[FAILED\]&#39; /home/ICer/proj/cva6/verif/sim/out_2025-10-31/iss_regr.log | wc -l&lt;/span&gt;" vertex="1">
          <mxGeometry height="26" width="800" y="866" as="geometry" />
        </mxCell>
        <mxCell id="YD8wXlY8oEXokaMSZj_n-92" parent="YD8wXlY8oEXokaMSZj_n-80" style="text;strokeColor=default;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;html=1;" value="&lt;span style=&quot;font-size: 12px;&quot;&gt;exec: cmd=echo 1 PASSED, 0 FAILED &amp;gt;&amp;gt; /home/ICer/proj/cva6/verif/sim/out_2025-10-31/iss_regr.log&lt;/span&gt;" vertex="1">
          <mxGeometry height="26" width="800" y="892" as="geometry" />
        </mxCell>
        <mxCell id="YD8wXlY8oEXokaMSZj_n-93" parent="1" style="swimlane;fontStyle=1;align=center;verticalAlign=top;childLayout=stackLayout;horizontal=1;startSize=26;horizontalStack=0;resizeParent=1;resizeParentMax=0;resizeLast=0;collapsible=1;marginBottom=0;whiteSpace=wrap;html=1;" value="riscv_core_setting.sv" vertex="1">
          <mxGeometry height="128" width="560" x="23050.000000000004" y="140" as="geometry" />
        </mxCell>
        <mxCell id="YD8wXlY8oEXokaMSZj_n-94" parent="YD8wXlY8oEXokaMSZj_n-93" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;html=1;" value="cva6.py&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;main()&lt;/div&gt;&lt;div&gt;args.core_setting_dir = &lt;b&gt;cwd &lt;/b&gt;+ &quot;/&lt;b&gt;dv&lt;/b&gt;&quot; + &quot;/&lt;b&gt;target&lt;/b&gt;/&quot;+ &lt;b&gt;args.isa&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp;=&amp;nbsp;&lt;span style=&quot;background-color: transparent;&quot;&gt;/home/ICer/proj/cva6/verif/sim/dv/target/rv64gc_zba_zbb_zbs_zbc_zbkb_zbkx_zkne_zknd_zknh&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;background-color: transparent; color: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));&quot;&gt;&lt;br&gt;&lt;/span&gt;&lt;/div&gt;" vertex="1">
          <mxGeometry height="94" width="560" y="26" as="geometry" />
        </mxCell>
        <mxCell id="YD8wXlY8oEXokaMSZj_n-95" parent="YD8wXlY8oEXokaMSZj_n-93" style="line;strokeWidth=1;fillColor=none;align=left;verticalAlign=middle;spacingTop=-1;spacingLeft=3;spacingRight=3;rotatable=0;labelPosition=right;points=[];portConstraint=eastwest;strokeColor=inherit;" value="" vertex="1">
          <mxGeometry height="8" width="560" y="120" as="geometry" />
        </mxCell>
        <mxCell id="YD8wXlY8oEXokaMSZj_n-96" edge="1" parent="1" source="YD8wXlY8oEXokaMSZj_n-88" style="endArrow=classic;html=1;rounded=0;exitX=0;exitY=0.5;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;strokeWidth=3;" target="YD8wXlY8oEXokaMSZj_n-19" value="">
          <mxGeometry height="50" relative="1" width="50" as="geometry">
            <Array as="points">
              <mxPoint x="24800.000000000004" y="-330" />
            </Array>
            <mxPoint x="25460.000000000004" y="-520" as="sourcePoint" />
            <mxPoint x="25510.000000000004" y="-570" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="YD8wXlY8oEXokaMSZj_n-97" edge="1" parent="1" source="YD8wXlY8oEXokaMSZj_n-21" style="endArrow=classic;html=1;rounded=0;exitX=0;exitY=0.5;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;strokeWidth=3;" target="YD8wXlY8oEXokaMSZj_n-14" value="">
          <mxGeometry height="50" relative="1" width="50" as="geometry">
            <Array as="points">
              <mxPoint x="23913.000000000004" y="226" />
            </Array>
            <mxPoint x="24648.000000000004" y="-344" as="sourcePoint" />
            <mxPoint x="23870.000000000004" y="-249" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="YD8wXlY8oEXokaMSZj_n-98" parent="1" style="swimlane;fontStyle=1;align=center;verticalAlign=top;childLayout=stackLayout;horizontal=1;startSize=26;horizontalStack=0;resizeParent=1;resizeParentMax=0;resizeLast=0;collapsible=1;marginBottom=0;whiteSpace=wrap;html=1;" value="uvmt_cva6_tb" vertex="1">
          <mxGeometry height="1180" width="550" x="11090" y="9170" as="geometry" />
        </mxCell>
        <mxCell id="YD8wXlY8oEXokaMSZj_n-99" parent="YD8wXlY8oEXokaMSZj_n-98" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;html=1;" value="/home/ICer/proj/cva6/verif/tb/uvmt/uvmt_cva6_tb.sv" vertex="1">
          <mxGeometry height="26" width="550" y="26" as="geometry" />
        </mxCell>
        <mxCell id="YD8wXlY8oEXokaMSZj_n-100" parent="YD8wXlY8oEXokaMSZj_n-98" style="line;strokeWidth=1;fillColor=none;align=left;verticalAlign=middle;spacingTop=-1;spacingLeft=3;spacingRight=3;rotatable=0;labelPosition=right;points=[];portConstraint=eastwest;strokeColor=inherit;" value="" vertex="1">
          <mxGeometry height="8" width="550" y="52" as="geometry" />
        </mxCell>
        <mxCell id="YD8wXlY8oEXokaMSZj_n-101" parent="YD8wXlY8oEXokaMSZj_n-98" style="text;strokeColor=#6c8ebf;fillColor=#dae8fc;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;html=1;" value="// CVA6 config" vertex="1">
          <mxGeometry height="26" width="550" y="60" as="geometry" />
        </mxCell>
        <mxCell id="YD8wXlY8oEXokaMSZj_n-102" parent="YD8wXlY8oEXokaMSZj_n-98" style="text;strokeColor=#6c8ebf;fillColor=#dae8fc;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;html=1;" value="// RVFI" vertex="1">
          <mxGeometry height="26" width="550" y="86" as="geometry" />
        </mxCell>
        <mxCell id="YD8wXlY8oEXokaMSZj_n-103" parent="YD8wXlY8oEXokaMSZj_n-98" style="text;strokeColor=#6c8ebf;fillColor=#dae8fc;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;html=1;" value="// RVFI PROBES" vertex="1">
          <mxGeometry height="26" width="550" y="112" as="geometry" />
        </mxCell>
        <mxCell id="YD8wXlY8oEXokaMSZj_n-104" parent="YD8wXlY8oEXokaMSZj_n-98" style="text;strokeColor=#6c8ebf;fillColor=#dae8fc;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;html=1;" value="// DUT Wrapper Interfaces" vertex="1">
          <mxGeometry height="26" width="550" y="138" as="geometry" />
        </mxCell>
        <mxCell id="YD8wXlY8oEXokaMSZj_n-105" parent="YD8wXlY8oEXokaMSZj_n-98" style="text;strokeColor=default;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;html=1;" value="___&lt;br&gt;___&lt;div&gt;___&lt;/div&gt;" vertex="1">
          <mxGeometry height="58" width="550" y="164" as="geometry" />
        </mxCell>
        <mxCell id="YD8wXlY8oEXokaMSZj_n-106" parent="YD8wXlY8oEXokaMSZj_n-98" style="text;strokeColor=default;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;html=1;" value="__INTFACE&lt;br&gt;&lt;br&gt;&lt;div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;uvma_rvfi_instr_if #(&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp; uvme_cva6_pkg::ILEN,&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp; uvme_cva6_pkg::XLEN&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;) rvfi_instr_if [RVFI_NRET-1:0] ();&lt;/span&gt;&lt;/div&gt;&lt;/div&gt;&lt;br&gt;&lt;div&gt;&lt;div&gt;for (genvar i = 0; i &amp;lt; RVFI_NRET; i++) begin&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp;assign&amp;nbsp; rvfi_instr_if[i].clk&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; = clknrst_if.clk;&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp;assign&amp;nbsp; rvfi_instr_if[i].reset_n&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; = clknrst_if.reset_n;&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp;assign&amp;nbsp; rvfi_instr_if[i].rvfi_valid&amp;nbsp; &amp;nbsp; &amp;nbsp;= rvfi_if.rvfi_o[i].valid;&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp;assign&amp;nbsp; rvfi_instr_if[i].rvfi_order&amp;nbsp; &amp;nbsp; &amp;nbsp;= rvfi_if.rvfi_o[i].order;&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp;assign&amp;nbsp; rvfi_instr_if[i].rvfi_insn&amp;nbsp; &amp;nbsp; &amp;nbsp; = rvfi_if.rvfi_o[i].insn;&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp;...&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp;assign&amp;nbsp; rvfi_instr_if[i].rvfi_rs2_rdata = rvfi_if.rvfi_o[i].rs2_rdata;&lt;/div&gt;&lt;div&gt;end&lt;/div&gt;&lt;/div&gt;" vertex="1">
          <mxGeometry height="248" width="550" y="222" as="geometry" />
        </mxCell>
        <mxCell id="YD8wXlY8oEXokaMSZj_n-107" parent="YD8wXlY8oEXokaMSZj_n-98" style="text;strokeColor=default;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;html=1;" value="&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;`RVFI_CSR_ASSIGN(fflags)&lt;/div&gt;&lt;div&gt;`RVFI_CSR_ASSIGN(frm)&lt;/div&gt;&lt;div&gt;`RVFI_CSR_ASSIGN(fcsr)&lt;/div&gt;&lt;div&gt;`RVFI_CSR_ASSIGN(ftran)&lt;/div&gt;&lt;div&gt;`RVFI_CSR_ASSIGN(dcsr)&lt;/div&gt;&lt;div&gt;`RVFI_CSR_ASSIGN(dpc)&lt;/div&gt;&lt;div&gt;...&lt;/div&gt;&lt;div&gt;`RVFI_CSR_ASSIGN(dcache)&lt;/div&gt;&lt;div&gt;`RVFI_CSR_ASSIGN(icache)&lt;/div&gt;&lt;div&gt;`RVFI_CSR_ASSIGN(acc_cons)&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;`RVFI_CSR_ASSIGN(pmpcfg0)&lt;/div&gt;&lt;div&gt;...&lt;/div&gt;&lt;div&gt;`RVFI_CSR_ASSIGN(pmpcfg3)&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;`RVFI_CSR_SUFFIX_ASSIGN(pmpaddr, 0)&lt;/div&gt;&lt;div&gt;...&lt;/div&gt;&lt;div&gt;`RVFI_CSR_SUFFIX_ASSIGN(pmpaddr, 15)&lt;/div&gt;" vertex="1">
          <mxGeometry height="290" width="550" y="470" as="geometry" />
        </mxCell>
        <mxCell id="YD8wXlY8oEXokaMSZj_n-108" parent="YD8wXlY8oEXokaMSZj_n-98" style="text;strokeColor=default;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;html=1;" value="__WRAPPER&lt;br&gt;&lt;br&gt;&lt;div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp;uvmt_cva6_dut_wrap #(&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp;.CVA6Cfg&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;( CVA6Cfg&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; ),&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp;.rvfi_instr_t&amp;nbsp; &amp;nbsp; &amp;nbsp; ( rvfi_instr_t&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;),&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp;.rvfi_csr_elmt_t&amp;nbsp; &amp;nbsp;( rvfi_csr_elmt_t&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; ),&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp;.rvfi_csr_t&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; ( rvfi_csr_t&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;),&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp;.rvfi_probes_instr_t(rvfi_probes_instr_t&amp;nbsp; &amp;nbsp; ),&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp;.rvfi_probes_csr_t ( rvfi_probes_csr_t&amp;nbsp; &amp;nbsp; &amp;nbsp; ),&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp;.rvfi_probes_t&amp;nbsp; &amp;nbsp; &amp;nbsp;( rvfi_probes_t&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; ),&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp;.rvfi_to_iti_t&amp;nbsp; &amp;nbsp; &amp;nbsp;( rvfi_to_iti_t&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; ),&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp;//&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp;.AXI_USER_EN&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;(CVA6Cfg.AXI_USER_EN),&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp;.NUM_WORDS&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;(NUM_WORDS)&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp;) cva6_dut_wrap (&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; .clknrst_if(clknrst_if),&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; .debug_if(debug_if),&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; .axi_if&amp;nbsp; &amp;nbsp; (axi_if),&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; .axi_switch_vif&amp;nbsp; &amp;nbsp; (axi_switch_vif),&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; .default_inputs_vif&amp;nbsp; &amp;nbsp; (default_inputs_vif),&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; .core_cntrl_if(core_cntrl_if),&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; .interrupt_vif(interrupt_vif),&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; .cvxif_vif(cvxif_vif),&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; .tb_exit_o(tb_exit_if.tb_exit_o),&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; .rvfi_o(rvfi_if.rvfi_o),&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; .rvfi_csr_o(rvfi_if.rvfi_csr_o)&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; );&lt;/div&gt;&lt;/div&gt;" vertex="1">
          <mxGeometry height="420" width="550" y="760" as="geometry" />
        </mxCell>
        <mxCell id="YD8wXlY8oEXokaMSZj_n-109" parent="1" style="swimlane;fontStyle=1;align=center;verticalAlign=top;childLayout=stackLayout;horizontal=1;startSize=26;horizontalStack=0;resizeParent=1;resizeParentMax=0;resizeLast=0;collapsible=1;marginBottom=0;whiteSpace=wrap;html=1;fillColor=#dae8fc;strokeColor=#6c8ebf;" value="TB_CONFIG" vertex="1">
          <mxGeometry height="86" width="619.5" x="12030" y="7760" as="geometry" />
        </mxCell>
        <mxCell id="YD8wXlY8oEXokaMSZj_n-110" parent="YD8wXlY8oEXokaMSZj_n-109" style="line;strokeWidth=1;fillColor=none;align=left;verticalAlign=middle;spacingTop=-1;spacingLeft=3;spacingRight=3;rotatable=0;labelPosition=right;points=[];portConstraint=eastwest;strokeColor=inherit;" value="" vertex="1">
          <mxGeometry height="8" width="619.5" y="26" as="geometry" />
        </mxCell>
        <mxCell id="YD8wXlY8oEXokaMSZj_n-111" parent="YD8wXlY8oEXokaMSZj_n-109" style="text;strokeColor=default;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;html=1;" value="localparam config_pkg::cva6_cfg_t CVA6Cfg = build_config_pkg::build_config(cva6_config_pkg::cva6_cfg);" vertex="1">
          <mxGeometry height="26" width="619.5" y="34" as="geometry" />
        </mxCell>
        <mxCell id="YD8wXlY8oEXokaMSZj_n-112" parent="YD8wXlY8oEXokaMSZj_n-109" style="text;strokeColor=default;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;html=1;" value="localparam RVFI_NRET = CVA6Cfg.NrCommitPorts;" vertex="1">
          <mxGeometry height="26" width="619.5" y="60" as="geometry" />
        </mxCell>
        <mxCell id="YD8wXlY8oEXokaMSZj_n-113" edge="1" parent="1" source="YD8wXlY8oEXokaMSZj_n-101" style="html=1;verticalAlign=bottom;endArrow=block;curved=0;rounded=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;exitX=1;exitY=0.5;exitDx=0;exitDy=0;" target="YD8wXlY8oEXokaMSZj_n-109" value="define">
          <mxGeometry relative="1" width="80" as="geometry">
            <Array as="points">
              <mxPoint x="11740" y="9060" />
              <mxPoint x="11980" y="7710" />
              <mxPoint x="12340" y="7710" />
            </Array>
            <mxPoint x="12070" y="8050" as="sourcePoint" />
            <mxPoint x="12150" y="8050" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="YD8wXlY8oEXokaMSZj_n-114" parent="1" style="swimlane;fontStyle=1;align=center;verticalAlign=top;childLayout=stackLayout;horizontal=1;startSize=26;horizontalStack=0;resizeParent=1;resizeParentMax=0;resizeLast=0;collapsible=1;marginBottom=0;whiteSpace=wrap;html=1;fillColor=#dae8fc;strokeColor=#6c8ebf;" value="RVFI" vertex="1">
          <mxGeometry height="138" width="470" x="12030" y="7960" as="geometry" />
        </mxCell>
        <mxCell id="YD8wXlY8oEXokaMSZj_n-115" parent="YD8wXlY8oEXokaMSZj_n-114" style="line;strokeWidth=1;fillColor=none;align=left;verticalAlign=middle;spacingTop=-1;spacingLeft=3;spacingRight=3;rotatable=0;labelPosition=right;points=[];portConstraint=eastwest;strokeColor=inherit;" value="" vertex="1">
          <mxGeometry height="8" width="470" y="26" as="geometry" />
        </mxCell>
        <mxCell id="YD8wXlY8oEXokaMSZj_n-116" parent="YD8wXlY8oEXokaMSZj_n-114" style="text;strokeColor=default;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;html=1;" value="localparam type &lt;b&gt;rvfi_instr_t &lt;/b&gt;= `RVFI_INSTR_T(CVA6Cfg);" vertex="1">
          <mxGeometry height="26" width="470" y="34" as="geometry" />
        </mxCell>
        <mxCell id="YD8wXlY8oEXokaMSZj_n-117" parent="YD8wXlY8oEXokaMSZj_n-114" style="text;strokeColor=default;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;html=1;" value="localparam type &lt;b&gt;rvfi_csr_elmt_t &lt;/b&gt;= `RVFI_CSR_ELMT_T(CVA6Cfg);" vertex="1">
          <mxGeometry height="26" width="470" y="60" as="geometry" />
        </mxCell>
        <mxCell id="YD8wXlY8oEXokaMSZj_n-118" parent="YD8wXlY8oEXokaMSZj_n-114" style="text;strokeColor=default;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;html=1;" value="localparam type &lt;b&gt;rvfi_csr_t &lt;/b&gt;= `RVFI_CSR_T(CVA6Cfg, rvfi_csr_elmt_t);" vertex="1">
          <mxGeometry height="26" width="470" y="86" as="geometry" />
        </mxCell>
        <mxCell id="YD8wXlY8oEXokaMSZj_n-119" parent="YD8wXlY8oEXokaMSZj_n-114" style="text;strokeColor=default;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;html=1;" value="localparam type &lt;b&gt;rvfi_to_iti_t &lt;/b&gt;= `RVFI_TO_ITI_T(CVA6Cfg);" vertex="1">
          <mxGeometry height="26" width="470" y="112" as="geometry" />
        </mxCell>
        <mxCell id="YD8wXlY8oEXokaMSZj_n-120" edge="1" parent="1" source="YD8wXlY8oEXokaMSZj_n-102" style="html=1;verticalAlign=bottom;endArrow=block;curved=0;rounded=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;exitX=1;exitY=0.5;exitDx=0;exitDy=0;" target="YD8wXlY8oEXokaMSZj_n-114" value="define">
          <mxGeometry relative="1" width="80" as="geometry">
            <Array as="points">
              <mxPoint x="11820" y="9140" />
              <mxPoint x="12020" y="7910" />
              <mxPoint x="12265" y="7910" />
            </Array>
            <mxPoint x="11828" y="8102" as="sourcePoint" />
            <mxPoint x="12398" y="7929" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="YD8wXlY8oEXokaMSZj_n-121" parent="1" style="swimlane;fontStyle=1;align=center;verticalAlign=top;childLayout=stackLayout;horizontal=1;startSize=26;horizontalStack=0;resizeParent=1;resizeParentMax=0;resizeLast=0;collapsible=1;marginBottom=0;whiteSpace=wrap;html=1;fillColor=#dae8fc;strokeColor=#6c8ebf;" value="RVFI&amp;nbsp;PROBES" vertex="1">
          <mxGeometry height="160" width="470" x="11995" y="9110" as="geometry" />
        </mxCell>
        <mxCell id="YD8wXlY8oEXokaMSZj_n-122" parent="YD8wXlY8oEXokaMSZj_n-121" style="line;strokeWidth=1;fillColor=none;align=left;verticalAlign=middle;spacingTop=-1;spacingLeft=3;spacingRight=3;rotatable=0;labelPosition=right;points=[];portConstraint=eastwest;strokeColor=inherit;" value="" vertex="1">
          <mxGeometry height="8" width="470" y="26" as="geometry" />
        </mxCell>
        <mxCell id="YD8wXlY8oEXokaMSZj_n-123" parent="YD8wXlY8oEXokaMSZj_n-121" style="text;strokeColor=default;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;html=1;" value="localparam type rvfi_probes_instr_t = `RVFI_PROBES_INSTR_T(CVA6Cfg);" vertex="1">
          <mxGeometry height="26" width="470" y="34" as="geometry" />
        </mxCell>
        <mxCell id="YD8wXlY8oEXokaMSZj_n-124" parent="YD8wXlY8oEXokaMSZj_n-121" style="text;strokeColor=default;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;html=1;" value="localparam type rvfi_probes_csr_t = `RVFI_PROBES_CSR_T(CVA6Cfg);" vertex="1">
          <mxGeometry height="26" width="470" y="60" as="geometry" />
        </mxCell>
        <mxCell id="YD8wXlY8oEXokaMSZj_n-125" parent="YD8wXlY8oEXokaMSZj_n-121" style="text;strokeColor=default;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;html=1;" value="&lt;div&gt;localparam type rvfi_probes_t = struct packed {&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; rvfi_probes_csr_t csr;&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; rvfi_probes_instr_t instr;&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp;};&lt;/div&gt;" vertex="1">
          <mxGeometry height="74" width="470" y="86" as="geometry" />
        </mxCell>
        <mxCell id="YD8wXlY8oEXokaMSZj_n-126" edge="1" parent="1" source="YD8wXlY8oEXokaMSZj_n-103" style="html=1;verticalAlign=bottom;endArrow=block;curved=0;rounded=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;exitX=1;exitY=0.5;exitDx=0;exitDy=0;" target="YD8wXlY8oEXokaMSZj_n-121" value="define">
          <mxGeometry relative="1" width="80" as="geometry">
            <Array as="points">
              <mxPoint x="11860" y="9270" />
              <mxPoint x="11965" y="9050" />
              <mxPoint x="12230" y="9050" />
            </Array>
            <mxPoint x="12035" y="8769" as="sourcePoint" />
            <mxPoint x="12605" y="8770" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="YD8wXlY8oEXokaMSZj_n-127" parent="1" style="swimlane;fontStyle=1;align=center;verticalAlign=top;childLayout=stackLayout;horizontal=1;startSize=26;horizontalStack=0;resizeParent=1;resizeParentMax=0;resizeLast=0;collapsible=1;marginBottom=0;whiteSpace=wrap;html=1;fillColor=#dae8fc;strokeColor=#6c8ebf;" value="`define RVFI_INSTR_T(Cfg)&amp;nbsp;" vertex="1">
          <mxGeometry height="410" width="470" x="12850" y="7430" as="geometry" />
        </mxCell>
        <mxCell id="YD8wXlY8oEXokaMSZj_n-128" parent="YD8wXlY8oEXokaMSZj_n-127" style="line;strokeWidth=1;fillColor=none;align=left;verticalAlign=middle;spacingTop=-1;spacingLeft=3;spacingRight=3;rotatable=0;labelPosition=right;points=[];portConstraint=eastwest;strokeColor=inherit;" value="" vertex="1">
          <mxGeometry height="8" width="470" y="26" as="geometry" />
        </mxCell>
        <mxCell id="YD8wXlY8oEXokaMSZj_n-129" parent="YD8wXlY8oEXokaMSZj_n-127" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;html=1;" value="&lt;span style=&quot;&quot;&gt;`define RVFI_INSTR_T(Cfg) struct packed { \&lt;/span&gt;&lt;br style=&quot;&quot;&gt;&lt;span style=&quot;&quot;&gt;&amp;nbsp; logic [config_pkg::NRET-1:0]&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; valid; \&lt;/span&gt;&lt;br style=&quot;&quot;&gt;&lt;span style=&quot;&quot;&gt;&amp;nbsp; logic [config_pkg::NRET*64-1:0]&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;order; \&lt;/span&gt;&lt;br style=&quot;&quot;&gt;&lt;span style=&quot;&quot;&gt;&amp;nbsp; logic [config_pkg::NRET*config_pkg::ILEN-1:0] insn; \&lt;/span&gt;&lt;br style=&quot;&quot;&gt;&lt;span style=&quot;&quot;&gt;&amp;nbsp; logic [config_pkg::NRET-1:0]&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; trap; \&lt;/span&gt;&lt;br style=&quot;&quot;&gt;&lt;span style=&quot;&quot;&gt;&amp;nbsp; logic [config_pkg::NRET*Cfg.XLEN-1:0]&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; cause; \&lt;/span&gt;&lt;br style=&quot;&quot;&gt;&lt;span style=&quot;&quot;&gt;&amp;nbsp; logic [config_pkg::NRET-1:0]&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; halt; \&lt;/span&gt;&lt;br style=&quot;&quot;&gt;&lt;span style=&quot;&quot;&gt;&amp;nbsp; logic [config_pkg::NRET*Cfg.XLEN-1:0]&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;intr; \&lt;/span&gt;&lt;br style=&quot;&quot;&gt;&lt;span style=&quot;&quot;&gt;&amp;nbsp; logic [config_pkg::NRET*2-1:0]&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; mode; \&lt;/span&gt;&lt;br style=&quot;&quot;&gt;&lt;span style=&quot;&quot;&gt;&amp;nbsp; logic [config_pkg::NRET*2-1:0]&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; ixl; \&lt;/span&gt;&lt;br style=&quot;&quot;&gt;&lt;span style=&quot;&quot;&gt;&amp;nbsp; logic [config_pkg::NRET*5-1:0]&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; rs1_addr; \&lt;/span&gt;&lt;br style=&quot;&quot;&gt;&lt;span style=&quot;&quot;&gt;&amp;nbsp; logic [config_pkg::NRET*5-1:0]&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; rs2_addr; \&lt;/span&gt;&lt;br style=&quot;&quot;&gt;&lt;span style=&quot;&quot;&gt;&amp;nbsp; logic [config_pkg::NRET*Cfg.XLEN-1:0]&amp;nbsp; &amp;nbsp; &amp;nbsp; rs1_rdata; \&lt;/span&gt;&lt;br style=&quot;&quot;&gt;&lt;span style=&quot;&quot;&gt;&amp;nbsp; logic [config_pkg::NRET*Cfg.XLEN-1:0]&amp;nbsp; &amp;nbsp; &amp;nbsp; rs2_rdata; \&lt;/span&gt;&lt;br style=&quot;&quot;&gt;&lt;span style=&quot;&quot;&gt;&amp;nbsp; logic [config_pkg::NRET*5-1:0]&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; rd_addr; \&lt;/span&gt;&lt;br style=&quot;&quot;&gt;&lt;span style=&quot;&quot;&gt;&amp;nbsp; logic [config_pkg::NRET*Cfg.XLEN-1:0]&amp;nbsp; &amp;nbsp; &amp;nbsp; rd_wdata; \&lt;/span&gt;&lt;br style=&quot;&quot;&gt;&lt;span style=&quot;&quot;&gt;&amp;nbsp; logic [config_pkg::NRET*Cfg.XLEN-1:0]&amp;nbsp; &amp;nbsp; &amp;nbsp; pc_rdata; \&lt;/span&gt;&lt;br style=&quot;&quot;&gt;&lt;span style=&quot;&quot;&gt;&amp;nbsp; logic [config_pkg::NRET*Cfg.XLEN-1:0]&amp;nbsp; &amp;nbsp; &amp;nbsp; pc_wdata; \&lt;/span&gt;&lt;br style=&quot;&quot;&gt;&lt;span style=&quot;&quot;&gt;&amp;nbsp; logic [config_pkg::NRET*Cfg.VLEN-1:0]&amp;nbsp; &amp;nbsp; &amp;nbsp; mem_addr; \&lt;/span&gt;&lt;br style=&quot;&quot;&gt;&lt;span style=&quot;&quot;&gt;&amp;nbsp; logic [config_pkg::NRET*Cfg.PLEN-1:0]&amp;nbsp; &amp;nbsp; &amp;nbsp; mem_paddr; \&lt;/span&gt;&lt;br style=&quot;&quot;&gt;&lt;span style=&quot;&quot;&gt;&amp;nbsp; logic [config_pkg::NRET*(Cfg.XLEN/8)-1:0]&amp;nbsp; mem_rmask; \&lt;/span&gt;&lt;br style=&quot;&quot;&gt;&lt;span style=&quot;&quot;&gt;&amp;nbsp; logic [config_pkg::NRET*(Cfg.XLEN/8)-1:0]&amp;nbsp; mem_wmask; \&lt;/span&gt;&lt;br style=&quot;&quot;&gt;&lt;span style=&quot;&quot;&gt;&amp;nbsp; logic [config_pkg::NRET*Cfg.XLEN-1:0]&amp;nbsp; &amp;nbsp; &amp;nbsp; mem_rdata; \&lt;/span&gt;&lt;br style=&quot;&quot;&gt;&lt;span style=&quot;&quot;&gt;&amp;nbsp; logic [config_pkg::NRET*Cfg.XLEN-1:0]&amp;nbsp; &amp;nbsp; &amp;nbsp; mem_wdata; \&lt;/span&gt;&lt;br style=&quot;&quot;&gt;&lt;span style=&quot;&quot;&gt;}&lt;/span&gt;" vertex="1">
          <mxGeometry height="376" width="470" y="34" as="geometry" />
        </mxCell>
        <mxCell id="YD8wXlY8oEXokaMSZj_n-130" edge="1" parent="1" source="YD8wXlY8oEXokaMSZj_n-116" style="html=1;verticalAlign=bottom;endArrow=block;curved=0;rounded=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;exitX=1;exitY=0.5;exitDx=0;exitDy=0;" target="YD8wXlY8oEXokaMSZj_n-129" value="define">
          <mxGeometry relative="1" width="80" as="geometry">
            <Array as="points">
              <mxPoint x="12640" y="7950" />
            </Array>
            <mxPoint x="12780" y="8029" as="sourcePoint" />
            <mxPoint x="13275" y="8030" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="YD8wXlY8oEXokaMSZj_n-131" parent="1" style="swimlane;fontStyle=1;align=center;verticalAlign=top;childLayout=stackLayout;horizontal=1;startSize=26;horizontalStack=0;resizeParent=1;resizeParentMax=0;resizeLast=0;collapsible=1;marginBottom=0;whiteSpace=wrap;html=1;fillColor=#dae8fc;strokeColor=#6c8ebf;" value="`define RVFI_INSTR_T(Cfg)&amp;nbsp;" vertex="1">
          <mxGeometry height="150" width="470" x="13377" y="7430" as="geometry" />
        </mxCell>
        <mxCell id="YD8wXlY8oEXokaMSZj_n-132" parent="YD8wXlY8oEXokaMSZj_n-131" style="line;strokeWidth=1;fillColor=none;align=left;verticalAlign=middle;spacingTop=-1;spacingLeft=3;spacingRight=3;rotatable=0;labelPosition=right;points=[];portConstraint=eastwest;strokeColor=inherit;" value="" vertex="1">
          <mxGeometry height="8" width="470" y="26" as="geometry" />
        </mxCell>
        <mxCell id="YD8wXlY8oEXokaMSZj_n-133" parent="YD8wXlY8oEXokaMSZj_n-131" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;html=1;" value="&lt;div style=&quot;&quot;&gt;&lt;div&gt;`define RVFI_CSR_ELMT_T(Cfg) struct packed { \&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;background-color: transparent; color: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));&quot;&gt;&amp;nbsp; logic [Cfg.XLEN-1:0] rdata; \&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&amp;nbsp; logic [Cfg.XLEN-1:0] rmask; \&lt;/div&gt;&lt;div&gt;&amp;nbsp; logic [Cfg.XLEN-1:0] wdata; \&lt;/div&gt;&lt;div&gt;&amp;nbsp; logic [Cfg.XLEN-1:0] wmask; \&lt;/div&gt;&lt;div&gt;}&lt;/div&gt;&lt;/div&gt;" vertex="1">
          <mxGeometry height="116" width="470" y="34" as="geometry" />
        </mxCell>
        <mxCell id="YD8wXlY8oEXokaMSZj_n-134" edge="1" parent="1" source="YD8wXlY8oEXokaMSZj_n-117" style="html=1;verticalAlign=bottom;endArrow=block;curved=0;rounded=0;entryX=0.519;entryY=0.99;entryDx=0;entryDy=0;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryPerimeter=0;" target="YD8wXlY8oEXokaMSZj_n-133" value="define">
          <mxGeometry relative="1" width="80" as="geometry">
            <Array as="points">
              <mxPoint x="12860" y="7880" />
              <mxPoint x="13360" y="7880" />
            </Array>
            <mxPoint x="12730" y="8265" as="sourcePoint" />
            <mxPoint x="12980" y="8020" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="YD8wXlY8oEXokaMSZj_n-135" parent="1" style="swimlane;fontStyle=1;align=center;verticalAlign=top;childLayout=stackLayout;horizontal=1;startSize=26;horizontalStack=0;resizeParent=1;resizeParentMax=0;resizeLast=0;collapsible=1;marginBottom=0;whiteSpace=wrap;html=1;fillColor=#dae8fc;strokeColor=#6c8ebf;" value="`define RVFI_CSR_T(Cfg, rvfi_csr_elmt_t)&amp;nbsp;" vertex="1">
          <mxGeometry height="860" width="470" x="13950" y="7430" as="geometry" />
        </mxCell>
        <mxCell id="YD8wXlY8oEXokaMSZj_n-136" parent="YD8wXlY8oEXokaMSZj_n-135" style="line;strokeWidth=1;fillColor=none;align=left;verticalAlign=middle;spacingTop=-1;spacingLeft=3;spacingRight=3;rotatable=0;labelPosition=right;points=[];portConstraint=eastwest;strokeColor=inherit;" value="" vertex="1">
          <mxGeometry height="8" width="470" y="26" as="geometry" />
        </mxCell>
        <mxCell id="YD8wXlY8oEXokaMSZj_n-137" parent="YD8wXlY8oEXokaMSZj_n-135" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;html=1;" value="&lt;div style=&quot;&quot;&gt;&lt;div&gt;`define RVFI_CSR_T(Cfg, rvfi_csr_elmt_t) struct packed { \&lt;/div&gt;&lt;div&gt;&amp;nbsp; rvfi_csr_elmt_t fflags; \&lt;/div&gt;&lt;div&gt;&amp;nbsp; rvfi_csr_elmt_t frm; \&lt;/div&gt;&lt;div&gt;&amp;nbsp; rvfi_csr_elmt_t fcsr; \&lt;/div&gt;&lt;div&gt;&amp;nbsp; rvfi_csr_elmt_t jvt; \&lt;/div&gt;&lt;div&gt;&amp;nbsp; rvfi_csr_elmt_t ftran; \&lt;/div&gt;&lt;div&gt;&amp;nbsp; rvfi_csr_elmt_t dcsr; \&lt;/div&gt;&lt;div&gt;&amp;nbsp; rvfi_csr_elmt_t dpc; \&lt;/div&gt;&lt;div&gt;&amp;nbsp; rvfi_csr_elmt_t dscratch0; \&lt;/div&gt;&lt;div&gt;&amp;nbsp; rvfi_csr_elmt_t dscratch1; \&lt;/div&gt;&lt;div&gt;&amp;nbsp; rvfi_csr_elmt_t sstatus; \&lt;/div&gt;&lt;div&gt;&amp;nbsp; rvfi_csr_elmt_t sie; \&lt;/div&gt;&lt;div&gt;&amp;nbsp; rvfi_csr_elmt_t sip; \&lt;/div&gt;&lt;div&gt;&amp;nbsp; rvfi_csr_elmt_t stvec; \&lt;/div&gt;&lt;div&gt;&amp;nbsp; rvfi_csr_elmt_t scounteren; \&lt;/div&gt;&lt;div&gt;&amp;nbsp; rvfi_csr_elmt_t sscratch; \&lt;/div&gt;&lt;div&gt;&amp;nbsp; rvfi_csr_elmt_t sepc; \&lt;/div&gt;&lt;div&gt;&amp;nbsp; rvfi_csr_elmt_t scause; \&lt;/div&gt;&lt;div&gt;&amp;nbsp; rvfi_csr_elmt_t stval; \&lt;/div&gt;&lt;div&gt;&amp;nbsp; rvfi_csr_elmt_t satp; \&lt;/div&gt;&lt;div&gt;&amp;nbsp; rvfi_csr_elmt_t mstatus; \&lt;/div&gt;&lt;div&gt;&amp;nbsp; rvfi_csr_elmt_t mstatush; \&lt;/div&gt;&lt;div&gt;&amp;nbsp; rvfi_csr_elmt_t misa; \&lt;/div&gt;&lt;div&gt;&amp;nbsp; rvfi_csr_elmt_t medeleg; \&lt;/div&gt;&lt;div&gt;&amp;nbsp; rvfi_csr_elmt_t mideleg; \&lt;/div&gt;&lt;div&gt;&amp;nbsp; rvfi_csr_elmt_t mie; \&lt;/div&gt;&lt;div&gt;&amp;nbsp; rvfi_csr_elmt_t mtvec; \&lt;/div&gt;&lt;div&gt;&amp;nbsp; rvfi_csr_elmt_t mcounteren; \&lt;/div&gt;&lt;div&gt;&amp;nbsp; rvfi_csr_elmt_t mscratch; \&lt;/div&gt;&lt;div&gt;&amp;nbsp; rvfi_csr_elmt_t mepc; \&lt;/div&gt;&lt;div&gt;&amp;nbsp; rvfi_csr_elmt_t mcause; \&lt;/div&gt;&lt;div&gt;&amp;nbsp; rvfi_csr_elmt_t mtval; \&lt;/div&gt;&lt;div&gt;&amp;nbsp; rvfi_csr_elmt_t mip; \&lt;/div&gt;&lt;div&gt;&amp;nbsp; rvfi_csr_elmt_t menvcfg; \&lt;/div&gt;&lt;div&gt;&amp;nbsp; rvfi_csr_elmt_t menvcfgh; \&lt;/div&gt;&lt;div&gt;&amp;nbsp; rvfi_csr_elmt_t mvendorid; \&lt;/div&gt;&lt;div&gt;&amp;nbsp; rvfi_csr_elmt_t marchid; \&lt;/div&gt;&lt;div&gt;&amp;nbsp; rvfi_csr_elmt_t mhartid; \&lt;/div&gt;&lt;div&gt;&amp;nbsp; rvfi_csr_elmt_t mcountinhibit; \&lt;/div&gt;&lt;div&gt;&amp;nbsp; rvfi_csr_elmt_t mcycle; \&lt;/div&gt;&lt;div&gt;&amp;nbsp; rvfi_csr_elmt_t mcycleh; \&lt;/div&gt;&lt;div&gt;&amp;nbsp; rvfi_csr_elmt_t minstret; \&lt;/div&gt;&lt;div&gt;&amp;nbsp; rvfi_csr_elmt_t minstreth; \&lt;/div&gt;&lt;div&gt;&amp;nbsp; rvfi_csr_elmt_t cycle; \&lt;/div&gt;&lt;div&gt;&amp;nbsp; rvfi_csr_elmt_t cycleh; \&lt;/div&gt;&lt;div&gt;&amp;nbsp; rvfi_csr_elmt_t instret; \&lt;/div&gt;&lt;div&gt;&amp;nbsp; rvfi_csr_elmt_t instreth; \&lt;/div&gt;&lt;div&gt;&amp;nbsp; rvfi_csr_elmt_t dcache; \&lt;/div&gt;&lt;div&gt;&amp;nbsp; rvfi_csr_elmt_t icache; \&lt;/div&gt;&lt;div&gt;&amp;nbsp; rvfi_csr_elmt_t acc_cons; \&lt;/div&gt;&lt;div&gt;&amp;nbsp; rvfi_csr_elmt_t pmpcfg0; \&lt;/div&gt;&lt;div&gt;&amp;nbsp; rvfi_csr_elmt_t pmpcfg1; \&lt;/div&gt;&lt;div&gt;&amp;nbsp; rvfi_csr_elmt_t pmpcfg2; \&lt;/div&gt;&lt;div&gt;&amp;nbsp; rvfi_csr_elmt_t pmpcfg3; \&lt;/div&gt;&lt;div&gt;&amp;nbsp; rvfi_csr_elmt_t [15:0] pmpaddr; \&lt;/div&gt;&lt;div&gt;}&lt;/div&gt;&lt;/div&gt;" vertex="1">
          <mxGeometry height="826" width="470" y="34" as="geometry" />
        </mxCell>
        <mxCell id="YD8wXlY8oEXokaMSZj_n-138" edge="1" parent="1" source="YD8wXlY8oEXokaMSZj_n-118" style="html=1;verticalAlign=bottom;endArrow=block;curved=0;rounded=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;exitX=1;exitY=0.5;exitDx=0;exitDy=0;" target="YD8wXlY8oEXokaMSZj_n-137" value="define">
          <mxGeometry relative="1" width="80" as="geometry">
            <Array as="points">
              <mxPoint x="12870" y="7910" />
              <mxPoint x="13640" y="7910" />
            </Array>
            <mxPoint x="12480" y="8141" as="sourcePoint" />
            <mxPoint x="13380" y="8030" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="YD8wXlY8oEXokaMSZj_n-139" edge="1" parent="1" source="YD8wXlY8oEXokaMSZj_n-135" style="html=1;verticalAlign=bottom;endArrow=block;curved=0;rounded=0;exitX=0;exitY=0;exitDx=0;exitDy=0;entryX=1;entryY=0.5;entryDx=0;entryDy=0;" target="YD8wXlY8oEXokaMSZj_n-133" value="define">
          <mxGeometry relative="1" width="80" as="geometry">
            <Array as="points">
              <mxPoint x="13910" y="7522" />
            </Array>
            <mxPoint x="13800" y="7760" as="sourcePoint" />
            <mxPoint x="13880" y="7760" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="YD8wXlY8oEXokaMSZj_n-140" parent="1" style="swimlane;fontStyle=1;align=center;verticalAlign=top;childLayout=stackLayout;horizontal=1;startSize=26;horizontalStack=0;resizeParent=1;resizeParentMax=0;resizeLast=0;collapsible=1;marginBottom=0;whiteSpace=wrap;html=1;fillColor=#dae8fc;strokeColor=#6c8ebf;" value="`define RVFI_TO_ITI_T(Cfg)" vertex="1">
          <mxGeometry height="240" width="470" x="12850" y="7940" as="geometry" />
        </mxCell>
        <mxCell id="YD8wXlY8oEXokaMSZj_n-141" parent="YD8wXlY8oEXokaMSZj_n-140" style="line;strokeWidth=1;fillColor=none;align=left;verticalAlign=middle;spacingTop=-1;spacingLeft=3;spacingRight=3;rotatable=0;labelPosition=right;points=[];portConstraint=eastwest;strokeColor=inherit;" value="" vertex="1">
          <mxGeometry height="8" width="470" y="26" as="geometry" />
        </mxCell>
        <mxCell id="YD8wXlY8oEXokaMSZj_n-142" parent="YD8wXlY8oEXokaMSZj_n-140" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;html=1;" value="&lt;div style=&quot;&quot;&gt;&lt;div&gt;`define RVFI_TO_ITI_T(Cfg) struct packed { \&lt;/div&gt;&lt;div&gt;&amp;nbsp; logic [Cfg.NrCommitPorts-1:0] valid; \&lt;/div&gt;&lt;div&gt;&amp;nbsp; logic [Cfg.NrCommitPorts-1:0][Cfg.VLEN-1:0] pc; \&lt;/div&gt;&lt;div&gt;&amp;nbsp; ariane_pkg::fu_op [Cfg.NrCommitPorts-1:0] op; \&lt;/div&gt;&lt;div&gt;&amp;nbsp; logic [Cfg.NrCommitPorts-1:0] is_compressed; \&lt;/div&gt;&lt;div&gt;&amp;nbsp; logic [Cfg.NrCommitPorts-1:0] branch_valid; \&lt;/div&gt;&lt;div&gt;&amp;nbsp; logic [Cfg.NrCommitPorts-1:0] is_taken; \&lt;/div&gt;&lt;div&gt;&amp;nbsp; logic&amp;nbsp; ex_valid; \&lt;/div&gt;&lt;div&gt;&amp;nbsp; logic [Cfg.XLEN-1:0] tval; \&lt;/div&gt;&lt;div&gt;&amp;nbsp; logic [Cfg.XLEN-1:0] cause; \&lt;/div&gt;&lt;div&gt;&amp;nbsp; riscv::priv_lvl_t priv_lvl; \&lt;/div&gt;&lt;div&gt;&amp;nbsp; logic [63:0] cycles; \&lt;/div&gt;&lt;div&gt;}&lt;/div&gt;&lt;/div&gt;" vertex="1">
          <mxGeometry height="206" width="470" y="34" as="geometry" />
        </mxCell>
        <mxCell id="YD8wXlY8oEXokaMSZj_n-143" edge="1" parent="1" source="YD8wXlY8oEXokaMSZj_n-119" style="html=1;verticalAlign=bottom;endArrow=block;curved=0;rounded=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;exitX=1;exitY=0.5;exitDx=0;exitDy=0;" target="YD8wXlY8oEXokaMSZj_n-142" value="define">
          <mxGeometry relative="1" width="80" as="geometry">
            <Array as="points">
              <mxPoint x="12630" y="8085" />
            </Array>
            <mxPoint x="13280" y="8261" as="sourcePoint" />
            <mxPoint x="14057" y="7860" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="YD8wXlY8oEXokaMSZj_n-144" parent="1" style="swimlane;fontStyle=1;align=center;verticalAlign=top;childLayout=stackLayout;horizontal=1;startSize=26;horizontalStack=0;resizeParent=1;resizeParentMax=0;resizeLast=0;collapsible=1;marginBottom=0;whiteSpace=wrap;html=1;fillColor=#dae8fc;strokeColor=#6c8ebf;" value="`define RVFI_PROBES_INSTR_T(Cfg)" vertex="1">
          <mxGeometry height="600" width="510" x="12860" y="8340" as="geometry" />
        </mxCell>
        <mxCell id="YD8wXlY8oEXokaMSZj_n-145" parent="YD8wXlY8oEXokaMSZj_n-144" style="line;strokeWidth=1;fillColor=none;align=left;verticalAlign=middle;spacingTop=-1;spacingLeft=3;spacingRight=3;rotatable=0;labelPosition=right;points=[];portConstraint=eastwest;strokeColor=inherit;" value="" vertex="1">
          <mxGeometry height="8" width="510" y="26" as="geometry" />
        </mxCell>
        <mxCell id="YD8wXlY8oEXokaMSZj_n-146" parent="YD8wXlY8oEXokaMSZj_n-144" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;html=1;" value="&lt;div&gt;`define RVFI_PROBES_INSTR_T(Cfg) struct packed { \&lt;/div&gt;&lt;div&gt;&amp;nbsp; logic [Cfg.NrIssuePorts-1:0][Cfg.TRANS_ID_BITS-1:0] issue_pointer; \&lt;/div&gt;&lt;div&gt;&amp;nbsp; logic [Cfg.NrCommitPorts-1:0][Cfg.TRANS_ID_BITS-1:0] commit_pointer; \&lt;/div&gt;&lt;div&gt;&amp;nbsp; logic flush_unissued_instr; \&lt;/div&gt;&lt;div&gt;&amp;nbsp; logic [Cfg.NrIssuePorts-1:0] decoded_instr_valid; \&lt;/div&gt;&lt;div&gt;&amp;nbsp; logic [Cfg.NrIssuePorts-1:0] decoded_instr_ack; \&lt;/div&gt;&lt;div&gt;&amp;nbsp; logic flush; \&lt;/div&gt;&lt;div&gt;&amp;nbsp; logic [Cfg.NrIssuePorts-1:0] issue_instr_ack; \&lt;/div&gt;&lt;div&gt;&amp;nbsp; logic [Cfg.NrIssuePorts-1:0] fetch_entry_valid; \&lt;/div&gt;&lt;div&gt;&amp;nbsp; logic [Cfg.NrIssuePorts-1:0][31:0] instruction; \&lt;/div&gt;&lt;div&gt;&amp;nbsp; logic [Cfg.NrIssuePorts-1:0] is_compressed; \&lt;/div&gt;&lt;div&gt;&amp;nbsp; logic [Cfg.NrIssuePorts-1:0][Cfg.XLEN-1:0] rs1; \&lt;/div&gt;&lt;div&gt;&amp;nbsp; logic [Cfg.NrIssuePorts-1:0][Cfg.XLEN-1:0] rs2; \&lt;/div&gt;&lt;div&gt;&amp;nbsp; logic [Cfg.NrCommitPorts-1:0][Cfg.VLEN-1:0] commit_instr_pc; \&lt;/div&gt;&lt;div&gt;&amp;nbsp; ariane_pkg::fu_op [Cfg.NrCommitPorts-1:0] commit_instr_op; \&lt;/div&gt;&lt;div&gt;&amp;nbsp; logic [Cfg.NrCommitPorts-1:0][ariane_pkg::REG_ADDR_SIZE-1:0] commit_instr_rs1; \&lt;/div&gt;&lt;div&gt;&amp;nbsp; logic [Cfg.NrCommitPorts-1:0][ariane_pkg::REG_ADDR_SIZE-1:0] commit_instr_rs2; \&lt;/div&gt;&lt;div&gt;&amp;nbsp; logic [Cfg.NrCommitPorts-1:0][ariane_pkg::REG_ADDR_SIZE-1:0] commit_instr_rd; \&lt;/div&gt;&lt;div&gt;&amp;nbsp; logic [Cfg.NrCommitPorts-1:0][Cfg.XLEN-1:0] commit_instr_result; \&lt;/div&gt;&lt;div&gt;&amp;nbsp; logic [Cfg.NrCommitPorts-1:0] commit_instr_valid; \&lt;/div&gt;&lt;div&gt;&amp;nbsp; logic [Cfg.NrCommitPorts-1:0] commit_drop; \&lt;/div&gt;&lt;div&gt;&amp;nbsp; logic [Cfg.XLEN-1:0] ex_commit_cause; \&lt;/div&gt;&lt;div&gt;&amp;nbsp; logic ex_commit_valid; \&lt;/div&gt;&lt;div&gt;&amp;nbsp; riscv::priv_lvl_t priv_lvl; \&lt;/div&gt;&lt;div&gt;&amp;nbsp; logic [Cfg.VLEN-1:0] lsu_ctrl_vaddr; \&lt;/div&gt;&lt;div&gt;&amp;nbsp; ariane_pkg::fu_t lsu_ctrl_fu; \&lt;/div&gt;&lt;div&gt;&amp;nbsp; logic [(Cfg.XLEN/8)-1:0] lsu_ctrl_be; \&lt;/div&gt;&lt;div&gt;&amp;nbsp; logic [Cfg.TRANS_ID_BITS-1:0] lsu_ctrl_trans_id; \&lt;/div&gt;&lt;div&gt;&amp;nbsp; logic [Cfg.NrWbPorts-1:0][Cfg.XLEN-1:0] wbdata; \&lt;/div&gt;&lt;div&gt;&amp;nbsp; logic [Cfg.NrCommitPorts-1:0] commit_ack; \&lt;/div&gt;&lt;div&gt;&amp;nbsp; logic [Cfg.PLEN-1:0] mem_paddr; \&lt;/div&gt;&lt;div&gt;&amp;nbsp; logic debug_mode; \&lt;/div&gt;&lt;div&gt;&amp;nbsp; logic [Cfg.NrCommitPorts-1:0][Cfg.XLEN-1:0] wdata; \&lt;/div&gt;&lt;div&gt;&amp;nbsp; logic branch_valid; \&lt;/div&gt;&lt;div&gt;&amp;nbsp; logic is_taken; \&lt;/div&gt;&lt;div&gt;&amp;nbsp; logic [Cfg.XLEN-1:0] tval; \&lt;/div&gt;&lt;div&gt;&amp;nbsp; logic [Cfg.TRANS_ID_BITS-1:0] branch_trans_id; \&lt;/div&gt;&lt;div&gt;}&lt;/div&gt;" vertex="1">
          <mxGeometry height="566" width="510" y="34" as="geometry" />
        </mxCell>
        <mxCell id="YD8wXlY8oEXokaMSZj_n-147" edge="1" parent="1" source="YD8wXlY8oEXokaMSZj_n-123" style="html=1;verticalAlign=bottom;endArrow=block;curved=0;rounded=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;exitX=1;exitY=0.5;exitDx=0;exitDy=0;" target="YD8wXlY8oEXokaMSZj_n-146" value="define">
          <mxGeometry relative="1" width="80" as="geometry">
            <Array as="points">
              <mxPoint x="12665" y="9157" />
            </Array>
            <mxPoint x="12695" y="8778" as="sourcePoint" />
            <mxPoint x="13045" y="8770" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="YD8wXlY8oEXokaMSZj_n-148" parent="1" style="swimlane;fontStyle=1;align=center;verticalAlign=top;childLayout=stackLayout;horizontal=1;startSize=26;horizontalStack=0;resizeParent=1;resizeParentMax=0;resizeLast=0;collapsible=1;marginBottom=0;whiteSpace=wrap;html=1;fillColor=#dae8fc;strokeColor=#6c8ebf;" value="`define RVFI_PROBES_CSR_T(Cfg)" vertex="1">
          <mxGeometry height="550" width="510" x="13550" y="8340" as="geometry" />
        </mxCell>
        <mxCell id="YD8wXlY8oEXokaMSZj_n-149" parent="YD8wXlY8oEXokaMSZj_n-148" style="line;strokeWidth=1;fillColor=none;align=left;verticalAlign=middle;spacingTop=-1;spacingLeft=3;spacingRight=3;rotatable=0;labelPosition=right;points=[];portConstraint=eastwest;strokeColor=inherit;" value="" vertex="1">
          <mxGeometry height="8" width="510" y="26" as="geometry" />
        </mxCell>
        <mxCell id="YD8wXlY8oEXokaMSZj_n-150" parent="YD8wXlY8oEXokaMSZj_n-148" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;html=1;" value="&lt;div&gt;`define RVFI_PROBES_CSR_T(Cfg) struct packed { \&lt;/div&gt;&lt;div&gt;&amp;nbsp; riscv::fcsr_t fcsr_q; \&lt;/div&gt;&lt;div&gt;&amp;nbsp; riscv::dcsr_t dcsr_q; \&lt;/div&gt;&lt;div&gt;&amp;nbsp; logic [Cfg.XLEN-1:0] jvt_q; \&lt;/div&gt;&lt;div&gt;&amp;nbsp; logic [Cfg.XLEN-1:0] dpc_q; \&lt;/div&gt;&lt;div&gt;&amp;nbsp; logic [Cfg.XLEN-1:0] dscratch0_q; \&lt;/div&gt;&lt;div&gt;&amp;nbsp; logic [Cfg.XLEN-1:0] dscratch1_q; \&lt;/div&gt;&lt;div&gt;&amp;nbsp; logic [Cfg.XLEN-1:0] mie_q; \&lt;/div&gt;&lt;div&gt;&amp;nbsp; logic [Cfg.XLEN-1:0] mip_q; \&lt;/div&gt;&lt;div&gt;&amp;nbsp; logic [Cfg.XLEN-1:0] stvec_q; \&lt;/div&gt;&lt;div&gt;&amp;nbsp; logic [Cfg.XLEN-1:0] scounteren_q; \&lt;/div&gt;&lt;div&gt;&amp;nbsp; logic [Cfg.XLEN-1:0] sscratch_q; \&lt;/div&gt;&lt;div&gt;&amp;nbsp; logic [Cfg.XLEN-1:0] sepc_q; \&lt;/div&gt;&lt;div&gt;&amp;nbsp; logic [Cfg.XLEN-1:0] scause_q; \&lt;/div&gt;&lt;div&gt;&amp;nbsp; logic [Cfg.XLEN-1:0] stval_q; \&lt;/div&gt;&lt;div&gt;&amp;nbsp; logic [Cfg.XLEN-1:0] satp_q; \&lt;/div&gt;&lt;div&gt;&amp;nbsp; logic [Cfg.XLEN-1:0] mstatus_extended; \&lt;/div&gt;&lt;div&gt;&amp;nbsp; logic [Cfg.XLEN-1:0] medeleg_q; \&lt;/div&gt;&lt;div&gt;&amp;nbsp; logic [Cfg.XLEN-1:0] mideleg_q; \&lt;/div&gt;&lt;div&gt;&amp;nbsp; logic [Cfg.XLEN-1:0] mtvec_q; \&lt;/div&gt;&lt;div&gt;&amp;nbsp; logic [Cfg.XLEN-1:0] mcounteren_q; \&lt;/div&gt;&lt;div&gt;&amp;nbsp; logic [Cfg.XLEN-1:0] mscratch_q; \&lt;/div&gt;&lt;div&gt;&amp;nbsp; logic [Cfg.XLEN-1:0] mepc_q; \&lt;/div&gt;&lt;div&gt;&amp;nbsp; logic [Cfg.XLEN-1:0] mcause_q; \&lt;/div&gt;&lt;div&gt;&amp;nbsp; logic [Cfg.XLEN-1:0] mtval_q; \&lt;/div&gt;&lt;div&gt;&amp;nbsp; logic fiom_q; \&lt;/div&gt;&lt;div&gt;&amp;nbsp; logic [ariane_pkg::MHPMCounterNum+3-1:0] mcountinhibit_q; \&lt;/div&gt;&lt;div&gt;&amp;nbsp; logic [63:0] cycle_q; \&lt;/div&gt;&lt;div&gt;&amp;nbsp; logic [63:0] instret_q; \&lt;/div&gt;&lt;div&gt;&amp;nbsp; logic [Cfg.XLEN-1:0] dcache_q; \&lt;/div&gt;&lt;div&gt;&amp;nbsp; logic [Cfg.XLEN-1:0] icache_q; \&lt;/div&gt;&lt;div&gt;&amp;nbsp; logic [Cfg.XLEN-1:0] acc_cons_q; \&lt;/div&gt;&lt;div&gt;&amp;nbsp; riscv::pmpcfg_t [63:0] pmpcfg_q; \&lt;/div&gt;&lt;div&gt;&amp;nbsp; logic [63:0][Cfg.PLEN-3:0] pmpaddr_q; \&lt;/div&gt;&lt;div&gt;}&lt;/div&gt;" vertex="1">
          <mxGeometry height="516" width="510" y="34" as="geometry" />
        </mxCell>
        <mxCell id="YD8wXlY8oEXokaMSZj_n-151" edge="1" parent="1" source="YD8wXlY8oEXokaMSZj_n-124" style="html=1;verticalAlign=bottom;endArrow=block;curved=0;rounded=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;exitX=1;exitY=0.5;exitDx=0;exitDy=0;" target="YD8wXlY8oEXokaMSZj_n-150" value="define">
          <mxGeometry relative="1" width="80" as="geometry">
            <Array as="points">
              <mxPoint x="13410" y="9183" />
            </Array>
            <mxPoint x="12715" y="9290" as="sourcePoint" />
            <mxPoint x="13055" y="9490" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="YD8wXlY8oEXokaMSZj_n-152" parent="1" style="swimlane;fontStyle=1;align=center;verticalAlign=top;childLayout=stackLayout;horizontal=1;startSize=26;horizontalStack=0;resizeParent=1;resizeParentMax=0;resizeLast=0;collapsible=1;marginBottom=0;whiteSpace=wrap;html=1;fillColor=#dae8fc;strokeColor=#6c8ebf;" value="&lt;span style=&quot;text-align: left;&quot;&gt;DUT Wrapper Interfaces&lt;/span&gt;" vertex="1">
          <mxGeometry height="330" width="465" x="11995" y="9350" as="geometry" />
        </mxCell>
        <mxCell id="YD8wXlY8oEXokaMSZj_n-153" parent="YD8wXlY8oEXokaMSZj_n-152" style="line;strokeWidth=1;fillColor=none;align=left;verticalAlign=middle;spacingTop=-1;spacingLeft=3;spacingRight=3;rotatable=0;labelPosition=right;points=[];portConstraint=eastwest;strokeColor=inherit;" value="" vertex="1">
          <mxGeometry height="8" width="465" y="26" as="geometry" />
        </mxCell>
        <mxCell id="YD8wXlY8oEXokaMSZj_n-154" parent="YD8wXlY8oEXokaMSZj_n-152" style="text;strokeColor=default;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;html=1;" value="&lt;div&gt;uvma_rvfi_instr_if #(&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp;uvme_cva6_pkg::ILEN,&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp;uvme_cva6_pkg::XLEN&lt;br&gt;&lt;span style=&quot;background-color: transparent; color: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));&quot;&gt;) rvfi_instr_if [RVFI_NRET-1:0] ();&lt;/span&gt;&lt;/div&gt;" vertex="1">
          <mxGeometry height="96" width="465" y="34" as="geometry" />
        </mxCell>
        <mxCell id="YD8wXlY8oEXokaMSZj_n-155" parent="YD8wXlY8oEXokaMSZj_n-152" style="text;strokeColor=default;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;html=1;" value="&lt;div&gt;uvmt_rvfi_if #(&lt;/div&gt;&lt;div&gt;&amp;nbsp; // RVFI&lt;/div&gt;&lt;div&gt;&amp;nbsp; .CVA6Cfg&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;( CVA6Cfg&amp;nbsp; &amp;nbsp; &amp;nbsp; ),&lt;/div&gt;&lt;div&gt;&amp;nbsp; .rvfi_instr_t&amp;nbsp; &amp;nbsp; &amp;nbsp; ( rvfi_instr_t ),&lt;/div&gt;&lt;div&gt;&amp;nbsp; .rvfi_csr_t&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; ( rvfi_csr_t&amp;nbsp; &amp;nbsp;)&lt;/div&gt;&lt;div&gt;) rvfi_if(&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; .rvfi_o(),&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; .rvfi_csr_o()&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;);&lt;/div&gt;&lt;div&gt;// Status information generated by the Virtual Peripherals in the DUT WRAPPER memory.&lt;/div&gt;" vertex="1">
          <mxGeometry height="200" width="465" y="130" as="geometry" />
        </mxCell>
        <mxCell id="YD8wXlY8oEXokaMSZj_n-156" edge="1" parent="1" source="YD8wXlY8oEXokaMSZj_n-104" style="html=1;verticalAlign=bottom;endArrow=block;curved=0;rounded=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;exitX=1;exitY=0.5;exitDx=0;exitDy=0;" target="YD8wXlY8oEXokaMSZj_n-152" value="define">
          <mxGeometry relative="1" width="80" as="geometry">
            <Array as="points">
              <mxPoint x="11880" y="9310" />
              <mxPoint x="12228" y="9310" />
            </Array>
            <mxPoint x="12180" y="9375" as="sourcePoint" />
            <mxPoint x="12770" y="9190" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="YD8wXlY8oEXokaMSZj_n-157" parent="1" style="swimlane;fontStyle=1;align=center;verticalAlign=top;childLayout=stackLayout;horizontal=1;startSize=26;horizontalStack=0;resizeParent=1;resizeParentMax=0;resizeLast=0;collapsible=1;marginBottom=0;whiteSpace=wrap;html=1;fillColor=#dae8fc;strokeColor=#6c8ebf;" value="RVFI&amp;nbsp;PROBES" vertex="1">
          <mxGeometry height="304" width="540" x="12780" y="9600" as="geometry" />
        </mxCell>
        <mxCell id="YD8wXlY8oEXokaMSZj_n-158" parent="YD8wXlY8oEXokaMSZj_n-157" style="line;strokeWidth=1;fillColor=none;align=left;verticalAlign=middle;spacingTop=-1;spacingLeft=3;spacingRight=3;rotatable=0;labelPosition=right;points=[];portConstraint=eastwest;strokeColor=inherit;" value="" vertex="1">
          <mxGeometry height="8" width="540" y="26" as="geometry" />
        </mxCell>
        <mxCell id="YD8wXlY8oEXokaMSZj_n-159" parent="YD8wXlY8oEXokaMSZj_n-157" style="text;strokeColor=default;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;html=1;" value="&lt;div&gt;interface uvmt_rvfi_if #(&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; parameter config_pkg::cva6_cfg_t CVA6Cfg = config_pkg::cva6_cfg_empty,&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; parameter type rvfi_instr_t = logic,&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; parameter type rvfi_csr_t = logic&lt;/div&gt;&lt;div&gt;) (&lt;/div&gt;" vertex="1">
          <mxGeometry height="86" width="540" y="34" as="geometry" />
        </mxCell>
        <mxCell id="YD8wXlY8oEXokaMSZj_n-160" parent="YD8wXlY8oEXokaMSZj_n-157" style="text;strokeColor=default;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;html=1;" value="&lt;div&gt;&lt;span style=&quot;background-color: transparent; color: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; output rvfi_instr_t [CVA6Cfg.NrCommitPorts-1:0] rvfi_o,&lt;/span&gt;&lt;/div&gt;" vertex="1">
          <mxGeometry height="30" width="540" y="120" as="geometry" />
        </mxCell>
        <mxCell id="YD8wXlY8oEXokaMSZj_n-161" parent="YD8wXlY8oEXokaMSZj_n-157" style="text;strokeColor=default;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;html=1;" value="&lt;div&gt;&lt;span style=&quot;background-color: transparent; color: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; output rvfi_csr_t rvfi_csr_o&lt;/span&gt;&lt;/div&gt;" vertex="1">
          <mxGeometry height="34" width="540" y="150" as="geometry" />
        </mxCell>
        <mxCell id="YD8wXlY8oEXokaMSZj_n-162" parent="YD8wXlY8oEXokaMSZj_n-157" style="text;strokeColor=default;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;html=1;" value="&lt;div&gt;&lt;span style=&quot;background-color: transparent; color: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));&quot;&gt;&amp;nbsp; import uvm_pkg::*;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;&amp;nbsp; // TODO: X/Z checks&lt;/div&gt;&lt;div&gt;&amp;nbsp; initial begin&lt;/div&gt;&lt;div&gt;&amp;nbsp; end&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;endinterface : uvmt_rvfi_if&lt;/div&gt;" vertex="1">
          <mxGeometry height="120" width="540" y="184" as="geometry" />
        </mxCell>
        <mxCell id="YD8wXlY8oEXokaMSZj_n-163" edge="1" parent="1" source="YD8wXlY8oEXokaMSZj_n-155" style="html=1;verticalAlign=bottom;endArrow=block;curved=0;rounded=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;exitX=1;exitY=0.5;exitDx=0;exitDy=0;" target="YD8wXlY8oEXokaMSZj_n-159" value="define">
          <mxGeometry relative="1" width="80" as="geometry">
            <Array as="points">
              <mxPoint x="12540" y="9677" />
            </Array>
            <mxPoint x="12470" y="9311" as="sourcePoint" />
            <mxPoint x="13058" y="9340" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="YD8wXlY8oEXokaMSZj_n-164" edge="1" parent="1" source="YD8wXlY8oEXokaMSZj_n-160" style="html=1;verticalAlign=bottom;endArrow=block;curved=0;rounded=0;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=1;entryY=0.5;entryDx=0;entryDy=0;strokeWidth=3;dashed=1;" target="YD8wXlY8oEXokaMSZj_n-129" value="define">
          <mxGeometry relative="1" width="80" as="geometry">
            <Array as="points">
              <mxPoint x="13440" y="9485" />
              <mxPoint x="13440" y="7652" />
            </Array>
            <mxPoint x="12550" y="9560" as="sourcePoint" />
            <mxPoint x="13250" y="9400" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="YD8wXlY8oEXokaMSZj_n-165" edge="1" parent="1" source="YD8wXlY8oEXokaMSZj_n-161" style="html=1;verticalAlign=bottom;endArrow=block;curved=0;rounded=0;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=1;entryY=0.5;entryDx=0;entryDy=0;strokeWidth=3;dashed=1;" target="YD8wXlY8oEXokaMSZj_n-137" value="define">
          <mxGeometry relative="1" width="80" as="geometry">
            <Array as="points">
              <mxPoint x="14580" y="9517" />
              <mxPoint x="14580" y="7877" />
            </Array>
            <mxPoint x="13860" y="11013" as="sourcePoint" />
            <mxPoint x="14060" y="9180" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="YD8wXlY8oEXokaMSZj_n-166" edge="1" parent="1" source="YD8wXlY8oEXokaMSZj_n-106" style="html=1;verticalAlign=bottom;endArrow=block;curved=0;rounded=0;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;" target="YD8wXlY8oEXokaMSZj_n-154" value="dispatch">
          <mxGeometry relative="1" width="80" as="geometry">
            <mxPoint x="11750" y="9520" as="sourcePoint" />
            <mxPoint x="11830" y="9520" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="YD8wXlY8oEXokaMSZj_n-167" edge="1" parent="1" source="YD8wXlY8oEXokaMSZj_n-106" style="html=1;verticalAlign=bottom;endArrow=block;curved=0;rounded=0;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;" target="YD8wXlY8oEXokaMSZj_n-155" value="dispatch">
          <mxGeometry relative="1" width="80" as="geometry">
            <mxPoint x="11730" y="9560" as="sourcePoint" />
            <mxPoint x="11810" y="9560" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="YD8wXlY8oEXokaMSZj_n-168" parent="1" style="swimlane;fontStyle=1;align=center;verticalAlign=top;childLayout=stackLayout;horizontal=1;startSize=26;horizontalStack=0;resizeParent=1;resizeParentMax=0;resizeLast=0;collapsible=1;marginBottom=0;whiteSpace=wrap;html=1;fillColor=#dae8fc;strokeColor=#6c8ebf;" value="&lt;span style=&quot;font-weight: 400; text-align: left;&quot;&gt;`define RVFI_CSR_ASSIGN(csr_name)&lt;/span&gt;" vertex="1">
          <mxGeometry height="210" width="615" x="11995" y="9820" as="geometry" />
        </mxCell>
        <mxCell id="YD8wXlY8oEXokaMSZj_n-169" parent="YD8wXlY8oEXokaMSZj_n-168" style="line;strokeWidth=1;fillColor=none;align=left;verticalAlign=middle;spacingTop=-1;spacingLeft=3;spacingRight=3;rotatable=0;labelPosition=right;points=[];portConstraint=eastwest;strokeColor=inherit;" value="" vertex="1">
          <mxGeometry height="8" width="615" y="26" as="geometry" />
        </mxCell>
        <mxCell id="YD8wXlY8oEXokaMSZj_n-170" parent="YD8wXlY8oEXokaMSZj_n-168" style="text;strokeColor=default;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;html=1;" value="&lt;div&gt;`define RVFI_CSR_ASSIGN(csr_name) \&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; uvma_rvfi_csr_if#(uvme_cva6_pkg::XLEN)&amp;nbsp; rvfi_csr_``csr_name``_if [RVFI_NRET-1:0](); \&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp;for (genvar i = 0; i &amp;lt; RVFI_NRET; i++) begin \&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; assign&amp;nbsp; rvfi_csr_``csr_name``_if[i].clk&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; = clknrst_if.clk; \&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; assign&amp;nbsp; rvfi_csr_``csr_name``_if[i].reset_n&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; = clknrst_if.reset_n; \&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; assign&amp;nbsp; rvfi_csr_``csr_name``_if[i].rvfi_csr_rmask&amp;nbsp; &amp;nbsp;= rvfi_if.rvfi_csr_o.``csr_name``.rmask; \&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; assign&amp;nbsp; rvfi_csr_``csr_name``_if[i].rvfi_csr_wmask&amp;nbsp; &amp;nbsp;= rvfi_if.rvfi_csr_o.``csr_name``.wmask; \&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; assign&amp;nbsp; rvfi_csr_``csr_name``_if[i].rvfi_csr_rdata&amp;nbsp; &amp;nbsp;= rvfi_if.rvfi_csr_o.``csr_name``.rdata; \&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; assign&amp;nbsp; rvfi_csr_``csr_name``_if[i].rvfi_csr_wdata&amp;nbsp; &amp;nbsp;= rvfi_if.rvfi_csr_o.``csr_name``.wdata; \&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp;end \&lt;/div&gt;" vertex="1">
          <mxGeometry height="176" width="615" y="34" as="geometry" />
        </mxCell>
        <mxCell id="YD8wXlY8oEXokaMSZj_n-171" edge="1" parent="1" source="YD8wXlY8oEXokaMSZj_n-107" style="html=1;verticalAlign=bottom;endArrow=block;curved=0;rounded=0;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;" target="YD8wXlY8oEXokaMSZj_n-170" value="dispatch">
          <mxGeometry relative="1" width="80" as="geometry">
            <mxPoint x="11880" y="9670" as="sourcePoint" />
            <mxPoint x="12235" y="9759" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="YD8wXlY8oEXokaMSZj_n-172" parent="1" style="html=1;whiteSpace=wrap;align=left;verticalAlign=top;movable=0;resizable=0;rotatable=0;deletable=0;editable=0;locked=1;connectable=0;" value="&lt;font style=&quot;font-size: 48px;&quot;&gt;&amp;nbsp;&amp;nbsp;&lt;/font&gt;&lt;div&gt;&lt;font style=&quot;font-size: 48px;&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; TB Module&lt;/font&gt;&lt;/div&gt;" vertex="1">
          <mxGeometry height="3810" width="5150" x="4810" y="7490" as="geometry" />
        </mxCell>
        <mxCell id="YD8wXlY8oEXokaMSZj_n-173" parent="1" style="swimlane;fontStyle=1;align=center;verticalAlign=top;childLayout=stackLayout;horizontal=1;startSize=26;horizontalStack=0;resizeParent=1;resizeParentMax=0;resizeLast=0;collapsible=1;marginBottom=0;whiteSpace=wrap;html=1;" value="cva6_tb_wrapper" vertex="1">
          <mxGeometry height="868" width="550" x="5080" y="8070" as="geometry" />
        </mxCell>
        <mxCell id="YD8wXlY8oEXokaMSZj_n-174" parent="YD8wXlY8oEXokaMSZj_n-173" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;html=1;" value="/home/ICer/proj/cva6/verif/tb/uvmt/cva6_tb_wrapper.sv" vertex="1">
          <mxGeometry height="26" width="550" y="26" as="geometry" />
        </mxCell>
        <mxCell id="YD8wXlY8oEXokaMSZj_n-175" parent="YD8wXlY8oEXokaMSZj_n-173" style="line;strokeWidth=1;fillColor=none;align=left;verticalAlign=middle;spacingTop=-1;spacingLeft=3;spacingRight=3;rotatable=0;labelPosition=right;points=[];portConstraint=eastwest;strokeColor=inherit;" value="" vertex="1">
          <mxGeometry height="8" width="550" y="52" as="geometry" />
        </mxCell>
        <mxCell id="YD8wXlY8oEXokaMSZj_n-176" parent="YD8wXlY8oEXokaMSZj_n-173" style="text;strokeColor=default;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;html=1;" value="&lt;div&gt;&lt;span style=&quot;background-color: transparent; color: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));&quot;&gt;&amp;nbsp; cva6 #(&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp;.CVA6Cfg ( CVA6Cfg ),&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp;.rvfi_probes_instr_t&amp;nbsp; ( rvfi_probes_instr_t ),&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp;.rvfi_probes_csr_t&amp;nbsp; &amp;nbsp; ( rvfi_probes_csr_t&amp;nbsp; &amp;nbsp;),&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp;.rvfi_probes_t&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; ( rvfi_probes_t&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;)&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp;) i_cva6 (&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; .clk_i&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; ( clk_i&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; ),&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; .rst_ni&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;( rst_ni&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;),&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; .boot_addr_i&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; ( boot_addr_i&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; ),//Driving the boot_addr value from the core control agent&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; .hart_id_i&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; ( default_inputs_vif.hart_id&amp;nbsp; &amp;nbsp;),&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; .irq_i&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; ( {1&#39;b0, irq_i[0]}&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;),&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; .ipi_i&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; ( 1&#39;b0&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;),&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; .time_irq_i&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;( irq_i[1]&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;),&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; .debug_req_i&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; ( debug_if.debug_req&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;),&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; &lt;span style=&quot;background-color: rgb(213, 232, 212);&quot;&gt;.rvfi_probes_o&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; ( rvfi_probes&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; )&lt;/span&gt;,&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; .cvxif_req_o&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; ( cvxif_req&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; ),&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; .cvxif_resp_i&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;( cvxif_resp&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;),&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; .noc_req_o&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; ( axi_ariane_req&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;),&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; .noc_resp_i&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;( axi_ariane_resp&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; )&lt;/div&gt;&lt;div&gt;&amp;nbsp; );&lt;/div&gt;" vertex="1">
          <mxGeometry height="320" width="550" y="60" as="geometry" />
        </mxCell>
        <mxCell id="YD8wXlY8oEXokaMSZj_n-177" parent="YD8wXlY8oEXokaMSZj_n-173" style="text;strokeColor=default;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;html=1;" value="&lt;div&gt;cva6_rvfi #(&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; .CVA6Cfg&amp;nbsp; &amp;nbsp;(CVA6Cfg),&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; .rvfi_instr_t(rvfi_instr_t),&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; .rvfi_csr_t(rvfi_csr_t),&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; .rvfi_probes_instr_t(rvfi_probes_instr_t),&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; .rvfi_probes_csr_t(rvfi_probes_csr_t),&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; .rvfi_probes_t(rvfi_probes_t),&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; .rvfi_to_iti_t(rvfi_to_iti_t)&lt;/div&gt;&lt;div&gt;) i_cva6_rvfi (&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; .clk_i&amp;nbsp; &amp;nbsp; &amp;nbsp;(clk_i),&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; .rst_ni&amp;nbsp; &amp;nbsp; (rst_ni),&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; &lt;span style=&quot;background-color: rgb(213, 232, 212);&quot;&gt;.rvfi_probes_i(rvfi_probes),&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; &lt;span style=&quot;background-color: rgb(213, 232, 212);&quot;&gt;.rvfi_instr_o(rvfi_instr),&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; &lt;span style=&quot;background-color: rgb(213, 232, 212);&quot;&gt;.rvfi_to_iti_o&amp;nbsp; &amp;nbsp;(rvfi_to_iti),&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; &lt;span style=&quot;background-color: rgb(213, 232, 212);&quot;&gt;.rvfi_csr_o(rvfi_csr)&lt;/span&gt;&lt;/div&gt;&lt;div&gt;);&lt;/div&gt;" vertex="1">
          <mxGeometry height="250" width="550" y="380" as="geometry" />
        </mxCell>
        <mxCell id="YD8wXlY8oEXokaMSZj_n-178" parent="YD8wXlY8oEXokaMSZj_n-173" style="text;strokeColor=default;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;html=1;" value="&lt;div&gt;rvfi_tracer&amp;nbsp; #(&lt;/div&gt;&lt;div&gt;&amp;nbsp; .CVA6Cfg(CVA6Cfg),&lt;/div&gt;&lt;div&gt;&amp;nbsp; .rvfi_instr_t(rvfi_instr_t),&lt;/div&gt;&lt;div&gt;&amp;nbsp; .rvfi_csr_t(rvfi_csr_t),&lt;/div&gt;&lt;div&gt;&amp;nbsp; //&lt;/div&gt;&lt;div&gt;&amp;nbsp; .HART_ID(8&#39;h0),&lt;/div&gt;&lt;div&gt;&amp;nbsp; .DEBUG_START(0),&lt;/div&gt;&lt;div&gt;&amp;nbsp; .DEBUG_STOP(0)&lt;/div&gt;&lt;div&gt;) i_rvfi_tracer (&lt;/div&gt;&lt;div&gt;&amp;nbsp; .clk_i(clk_i),&lt;/div&gt;&lt;div&gt;&amp;nbsp; .rst_ni(rst_ni),&lt;/div&gt;&lt;div&gt;&amp;nbsp; .rvfi_i(rvfi_instr),&lt;/div&gt;&lt;div&gt;&amp;nbsp; .rvfi_csr_i(rvfi_csr),&lt;/div&gt;&lt;div&gt;&amp;nbsp; .end_of_test_o(tb_exit_o)&lt;/div&gt;&lt;div&gt;) ;&lt;/div&gt;" vertex="1">
          <mxGeometry height="238" width="550" y="630" as="geometry" />
        </mxCell>
        <mxCell id="YD8wXlY8oEXokaMSZj_n-179" parent="1" style="swimlane;fontStyle=1;align=center;verticalAlign=top;childLayout=stackLayout;horizontal=1;startSize=50;horizontalStack=0;resizeParent=1;resizeParentMax=0;resizeLast=0;collapsible=1;marginBottom=0;whiteSpace=wrap;html=1;" value="module cva6_rvfi&lt;br&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;/home/ICer/proj/cva6/core/cva6_rvfi.sv&lt;/span&gt;" vertex="1">
          <mxGeometry height="1834" width="660" x="6130" y="8050" as="geometry" />
        </mxCell>
        <mxCell id="YD8wXlY8oEXokaMSZj_n-180" parent="YD8wXlY8oEXokaMSZj_n-179" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;html=1;" value="/home/ICer/proj/cva6/core/cva6_rvfi.sv" vertex="1">
          <mxGeometry height="26" width="660" y="50" as="geometry" />
        </mxCell>
        <mxCell id="YD8wXlY8oEXokaMSZj_n-181" parent="YD8wXlY8oEXokaMSZj_n-179" style="line;strokeWidth=1;fillColor=none;align=left;verticalAlign=middle;spacingTop=-1;spacingLeft=3;spacingRight=3;rotatable=0;labelPosition=right;points=[];portConstraint=eastwest;strokeColor=inherit;" value="" vertex="1">
          <mxGeometry height="8" width="660" y="76" as="geometry" />
        </mxCell>
        <mxCell id="YD8wXlY8oEXokaMSZj_n-182" parent="YD8wXlY8oEXokaMSZj_n-179" style="text;strokeColor=default;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;html=1;" value="&lt;div&gt;input logic clk_i,&lt;/div&gt;&lt;div&gt;input logic rst_ni,&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;input rvfi_probes_t rvfi_probes_i,&lt;/div&gt;&lt;div&gt;output rvfi_instr_t [CVA6Cfg.NrCommitPorts-1:0] rvfi_instr_o,&lt;/div&gt;&lt;div&gt;output rvfi_to_iti_t rvfi_to_iti_o,&lt;/div&gt;&lt;div&gt;output rvfi_csr_t rvfi_csr_o&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px; background-color: rgb(213, 232, 212);&quot;&gt;rvfi_probes_csr_t&amp;nbsp; &amp;nbsp;csr;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px; background-color: rgb(213, 232, 212);&quot;&gt;rvfi_probes_instr_t instr;&lt;/span&gt;&lt;br&gt;&lt;br&gt;&lt;div style=&quot;&quot;&gt;&lt;div&gt;always_comb begin&lt;/div&gt;&lt;div&gt;&amp;nbsp; csr&amp;nbsp; &amp;nbsp;= &#39;0;&lt;/div&gt;&lt;div&gt;&amp;nbsp; instr = &#39;0;&lt;/div&gt;&lt;div&gt;&amp;nbsp; if ($bits(rvfi_probes_i.instr) == $bits(instr)) begin&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; &lt;span style=&quot;background-color: rgb(213, 232, 212);&quot;&gt;instr = rvfi_probes_i.instr;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&amp;nbsp; end&lt;/div&gt;&lt;div&gt;&amp;nbsp; if ($bits(rvfi_probes_i.csr) == $bits(csr)) begin&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; &lt;span style=&quot;background-color: rgb(213, 232, 212);&quot;&gt;csr = rvfi_probes_i.csr;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&amp;nbsp; end&lt;/div&gt;&lt;div&gt;end&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;" vertex="1">
          <mxGeometry height="316" width="660" y="84" as="geometry" />
        </mxCell>
        <mxCell id="YD8wXlY8oEXokaMSZj_n-183" parent="YD8wXlY8oEXokaMSZj_n-179" style="text;strokeColor=default;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;html=1;" value="&lt;div&gt;&amp;nbsp; assign commit_instr_pc = instr.commit_instr_pc;&lt;/div&gt;&lt;div&gt;&amp;nbsp; assign commit_instr_op = instr.commit_instr_op;&lt;/div&gt;&lt;div&gt;&amp;nbsp; assign commit_instr_rs1 = instr.commit_instr_rs1;&lt;/div&gt;&lt;div&gt;&amp;nbsp; assign commit_instr_rs2 = instr.commit_instr_rs2;&lt;/div&gt;&lt;div&gt;&amp;nbsp; assign commit_instr_rd = instr.commit_instr_rd;&lt;/div&gt;&lt;div&gt;&amp;nbsp; assign commit_instr_result = instr.commit_instr_result;&lt;/div&gt;&lt;div&gt;&amp;nbsp; assign commit_instr_valid = instr.commit_instr_valid;&lt;/div&gt;&lt;div&gt;&amp;nbsp; assign commit_drop = instr.commit_drop;&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;&amp;nbsp; assign ex_commit_cause = instr.ex_commit_cause;&lt;/div&gt;&lt;div&gt;&amp;nbsp; assign ex_commit_valid = instr.ex_commit_valid;&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;&amp;nbsp; assign valid_iti = instr.commit_ack;&lt;/div&gt;&lt;div&gt;&amp;nbsp; assign pc_iti = instr.commit_instr_pc;&lt;/div&gt;&lt;div&gt;&amp;nbsp; assign op_iti = instr.commit_instr_op;&lt;/div&gt;&lt;div&gt;&amp;nbsp; assign branch_valid_iti = instr.branch_valid;&lt;/div&gt;&lt;div&gt;&amp;nbsp; assign is_taken_iti = instr.is_taken;&lt;/div&gt;&lt;div&gt;&amp;nbsp; assign tval_iti = instr.tval;&lt;/div&gt;&lt;div&gt;&amp;nbsp; assign time_iti = rvfi_probes_i.csr.cycle_q;&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;&amp;nbsp; assign priv_lvl = instr.priv_lvl;&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;&amp;nbsp; assign wbdata = instr.wbdata;&lt;/div&gt;&lt;div&gt;&amp;nbsp; assign commit_ack = instr.commit_ack;&lt;/div&gt;&lt;div&gt;&amp;nbsp; assign mem_paddr = instr.mem_paddr;&lt;/div&gt;&lt;div&gt;&amp;nbsp; assign debug_mode = instr.debug_mode;&lt;/div&gt;&lt;div&gt;&amp;nbsp; assign wdata = instr.wdata;&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;&amp;nbsp; assign lsu_addr = instr.lsu_ctrl_vaddr;&lt;/div&gt;&lt;div&gt;&amp;nbsp; assign lsu_rmask = instr.lsu_ctrl_fu == LOAD ? instr.lsu_ctrl_be : &#39;0;&lt;/div&gt;&lt;div&gt;&amp;nbsp; assign lsu_wmask = instr.lsu_ctrl_fu == STORE ? instr.lsu_ctrl_be : &#39;0;&lt;/div&gt;&lt;div&gt;&amp;nbsp; assign lsu_addr_trans_id = instr.lsu_ctrl_trans_id;&lt;/div&gt;&lt;div&gt;&amp;nbsp; assign branch_trans_id = instr.branch_trans_id;&lt;/div&gt;" vertex="1">
          <mxGeometry height="500" width="660" y="400" as="geometry" />
        </mxCell>
        <mxCell id="YD8wXlY8oEXokaMSZj_n-184" parent="YD8wXlY8oEXokaMSZj_n-179" style="text;strokeColor=default;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;html=1;" value="//ID STAGE" vertex="1">
          <mxGeometry height="220" width="660" y="900" as="geometry" />
        </mxCell>
        <mxCell id="YD8wXlY8oEXokaMSZj_n-185" parent="YD8wXlY8oEXokaMSZj_n-179" style="text;strokeColor=default;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;html=1;" value="//ISSUE STAGE" vertex="1">
          <mxGeometry height="238" width="660" y="1120" as="geometry" />
        </mxCell>
        <mxCell id="YD8wXlY8oEXokaMSZj_n-186" parent="YD8wXlY8oEXokaMSZj_n-179" style="text;strokeColor=default;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;html=1;" value="// PACK" vertex="1">
          <mxGeometry height="238" width="660" y="1358" as="geometry" />
        </mxCell>
        <mxCell id="YD8wXlY8oEXokaMSZj_n-187" parent="YD8wXlY8oEXokaMSZj_n-179" style="text;strokeColor=default;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;html=1;" value="// CSR" vertex="1">
          <mxGeometry height="238" width="660" y="1596" as="geometry" />
        </mxCell>
        <mxCell id="YD8wXlY8oEXokaMSZj_n-188" edge="1" parent="1" source="YD8wXlY8oEXokaMSZj_n-177" style="endArrow=classic;html=1;rounded=0;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=0;entryY=0;entryDx=0;entryDy=0;" target="YD8wXlY8oEXokaMSZj_n-179" value="">
          <mxGeometry height="50" relative="1" width="50" as="geometry">
            <Array as="points">
              <mxPoint x="5910" y="8050" />
            </Array>
            <mxPoint x="5590" y="8160" as="sourcePoint" />
            <mxPoint x="5640" y="8110" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="YD8wXlY8oEXokaMSZj_n-189" parent="1" style="swimlane;fontStyle=1;align=center;verticalAlign=top;childLayout=stackLayout;horizontal=1;startSize=26;horizontalStack=0;resizeParent=1;resizeParentMax=0;resizeLast=0;collapsible=1;marginBottom=0;whiteSpace=wrap;html=1;fillColor=#dae8fc;strokeColor=#6c8ebf;" value="&lt;span style=&quot;text-align: left;&quot;&gt;ID STAGE&lt;/span&gt;" vertex="1">
          <mxGeometry height="1100" width="615" x="7160" y="7740" as="geometry" />
        </mxCell>
        <mxCell id="YD8wXlY8oEXokaMSZj_n-190" parent="YD8wXlY8oEXokaMSZj_n-189" style="line;strokeWidth=1;fillColor=none;align=left;verticalAlign=middle;spacingTop=-1;spacingLeft=3;spacingRight=3;rotatable=0;labelPosition=right;points=[];portConstraint=eastwest;strokeColor=inherit;" value="" vertex="1">
          <mxGeometry height="8" width="615" y="26" as="geometry" />
        </mxCell>
        <mxCell id="YD8wXlY8oEXokaMSZj_n-191" parent="YD8wXlY8oEXokaMSZj_n-189" style="text;strokeColor=default;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;html=1;" value="// , &lt;br&gt;&lt;div&gt;&lt;div&gt;for (genvar i = 0; i &amp;lt; CVA6Cfg.NrIssuePorts; i++) begin&lt;/div&gt;&lt;div&gt;&amp;nbsp; assign truncated[i] = (is_compressed[i]) ? {16&#39;b0, instruction[i][15:0]} : instruction[i];&lt;/div&gt;&lt;div&gt;end&lt;/div&gt;&lt;/div&gt;" vertex="1">
          <mxGeometry height="76" width="615" y="34" as="geometry" />
        </mxCell>
        <mxCell id="YD8wXlY8oEXokaMSZj_n-192" parent="YD8wXlY8oEXokaMSZj_n-189" style="text;strokeColor=default;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;html=1;" value="&lt;div&gt;typedef struct packed {&lt;/div&gt;&lt;div&gt;&amp;nbsp; logic&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; valid;&lt;/div&gt;&lt;div&gt;&amp;nbsp; logic [31:0] instr;&lt;/div&gt;&lt;div&gt;&amp;nbsp; logic&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; is_compressed;&lt;/div&gt;&lt;div&gt;} issue_struct_t;&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;issue_struct_t [CVA6Cfg.NrIssuePorts-1:0] issue_n, issue_q;&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;logic took0;&lt;/div&gt;" vertex="1">
          <mxGeometry height="140" width="615" y="110" as="geometry" />
        </mxCell>
        <mxCell id="YD8wXlY8oEXokaMSZj_n-193" parent="YD8wXlY8oEXokaMSZj_n-189" style="text;strokeColor=default;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;html=1;" value="&lt;div&gt;always_comb begin&lt;/div&gt;&lt;div&gt;&amp;nbsp; issue_n = issue_q;&lt;/div&gt;&lt;div&gt;&amp;nbsp; took0&amp;nbsp; &amp;nbsp;= 1&#39;b0;&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;&amp;nbsp; // #1 ISSUE ACT , next valid 0&amp;nbsp;&lt;/div&gt;&lt;div&gt;&amp;nbsp; for (int unsigned i = 0; i &amp;lt; CVA6Cfg.NrIssuePorts; i++) begin&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; if (issue_instr_ack[i]) begin&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; issue_n[i].valid = 1&#39;b0;&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; end&lt;/div&gt;&lt;div&gt;&amp;nbsp; end&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;&amp;nbsp; // #2 next valid 0, next issue_struct_t&lt;/div&gt;&lt;div&gt;&amp;nbsp; if (!issue_n[CVA6Cfg.NrIssuePorts-1].valid) begin&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp;&amp;nbsp;&lt;span style=&quot;background-color: rgb(213, 232, 212);&quot;&gt;issue_n[CVA6Cfg.NrIssuePorts-1].valid = fetch_entry_valid[0];&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; issue_n[CVA6Cfg.NrIssuePorts-1].instr = truncated[0];&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; issue_n[CVA6Cfg.NrIssuePorts-1].is_compressed = is_compressed[0];&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; &lt;span style=&quot;background-color: rgb(213, 232, 212);&quot;&gt;took0 = 1&#39;b1;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;// next_issue[0]  instr&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&amp;nbsp; end&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;&amp;nbsp; // #3 : next issue   fifo, next issue[0] (valid==0) #2 &lt;br&gt;&amp;nbsp; //&amp;nbsp; &amp;nbsp; &amp;nbsp;  next_issue[&lt;span style=&quot;background-color: transparent; color: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));&quot;&gt;CVA6Cfg.NrIssuePorts - 1&lt;/span&gt;&lt;span style=&quot;background-color: transparent; color: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));&quot;&gt;]  valid = 0, active next_issue&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&amp;nbsp; if (!issue_n[0].valid) begin&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; issue_n[0] = issue_n[CVA6Cfg.NrIssuePorts-1];&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; issue_n[CVA6Cfg.NrIssuePorts-1].valid = 1&#39;b0;&lt;/div&gt;&lt;div&gt;&amp;nbsp; end&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;&amp;nbsp; // #4&amp;nbsp;&lt;span style=&quot;background-color: transparent; color: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));&quot;&gt;: #3 , &amp;nbsp;&lt;/span&gt;&lt;span style=&quot;background-color: transparent; color: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));&quot;&gt;next_issue[&lt;/span&gt;&lt;span style=&quot;background-color: transparent; color: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));&quot;&gt;CVA6Cfg.NrIssuePorts - 1&lt;/span&gt;&lt;span style=&quot;background-color: transparent; color: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));&quot;&gt;] = 0, &lt;br&gt;&amp;nbsp; //&amp;nbsp; &amp;nbsp; &amp;nbsp; #2 &lt;/span&gt;&lt;span style=&quot;background-color: transparent; color: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));&quot;&gt;next_issue[0]  instr, &lt;/span&gt;&lt;span style=&quot;background-color: transparent; color: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));&quot;&gt;issue_n[CVA6Cfg.NrIssuePorts-1] &lt;br&gt;&amp;nbsp; //&amp;nbsp; &amp;nbsp; &amp;nbsp; [&lt;/span&gt;&lt;span style=&quot;background-color: transparent; color: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));&quot;&gt;CVA6Cfg.NrIssuePorts-1] , [0]&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&amp;nbsp; if (!issue_n[CVA6Cfg.NrIssuePorts-1].valid) begin&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; if (took0) begin&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; issue_n[CVA6Cfg.NrIssuePorts-1].valid = fetch_entry_valid[CVA6Cfg.NrIssuePorts-1];&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; issue_n[CVA6Cfg.NrIssuePorts-1].instr = truncated[CVA6Cfg.NrIssuePorts-1];&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; issue_n[CVA6Cfg.NrIssuePorts-1].is_compressed = is_compressed[CVA6Cfg.NrIssuePorts-1];&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; end else begin&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; issue_n[CVA6Cfg.NrIssuePorts-1].valid = fetch_entry_valid[0];&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; issue_n[CVA6Cfg.NrIssuePorts-1].instr = truncated[0];&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; issue_n[CVA6Cfg.NrIssuePorts-1].is_compressed = is_compressed[0];&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; end&lt;/div&gt;&lt;div&gt;&amp;nbsp; end&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;&amp;nbsp; // #5  flush, next_issue valid 0 )&lt;/div&gt;&lt;div&gt;&amp;nbsp; &lt;span style=&quot;background-color: rgb(213, 232, 212);&quot;&gt;if (flush) begin&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; for (int unsigned i = 0; i &amp;lt; CVA6Cfg.NrIssuePorts; i++) begin&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; issue_n[i].valid = 1&#39;b0;&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; end&lt;/div&gt;&lt;div&gt;&amp;nbsp; end&lt;/div&gt;&lt;div&gt;end&lt;/div&gt;" vertex="1">
          <mxGeometry height="710" width="615" y="250" as="geometry" />
        </mxCell>
        <mxCell id="YD8wXlY8oEXokaMSZj_n-194" parent="YD8wXlY8oEXokaMSZj_n-189" style="text;strokeColor=default;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;html=1;" value="&lt;div&gt;// clk Q(issue_q )&lt;/div&gt;&lt;div&gt;always_ff @(posedge clk_i or negedge rst_ni) begin&lt;/div&gt;&lt;div&gt;&amp;nbsp; if (~rst_ni) begin&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; issue_q &amp;lt;= &#39;0;&lt;/div&gt;&lt;div&gt;&amp;nbsp; end else begin&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; issue_q &amp;lt;= issue_n;&lt;/div&gt;&lt;div&gt;&amp;nbsp; end&lt;/div&gt;&lt;div&gt;end&lt;/div&gt;" vertex="1">
          <mxGeometry height="140" width="615" y="960" as="geometry" />
        </mxCell>
        <mxCell id="YD8wXlY8oEXokaMSZj_n-195" edge="1" parent="1" source="YD8wXlY8oEXokaMSZj_n-184" style="html=1;verticalAlign=bottom;endArrow=block;curved=0;rounded=0;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=0;entryY=0;entryDx=0;entryDy=0;" target="YD8wXlY8oEXokaMSZj_n-189" value="dispatch">
          <mxGeometry relative="1" width="80" as="geometry">
            <Array as="points">
              <mxPoint x="6920" y="8864" />
              <mxPoint x="7050" y="7740" />
            </Array>
            <mxPoint x="7220" y="8230" as="sourcePoint" />
            <mxPoint x="7300" y="8230" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="YD8wXlY8oEXokaMSZj_n-196" parent="1" style="swimlane;fontStyle=1;align=center;verticalAlign=top;childLayout=stackLayout;horizontal=1;startSize=26;horizontalStack=0;resizeParent=1;resizeParentMax=0;resizeLast=0;collapsible=1;marginBottom=0;whiteSpace=wrap;html=1;fillColor=#dae8fc;strokeColor=#6c8ebf;" value="&lt;span style=&quot;text-align: left;&quot;&gt;ISSUE STAGE&lt;/span&gt;" vertex="1">
          <mxGeometry height="960" width="615" x="8010" y="8480" as="geometry" />
        </mxCell>
        <mxCell id="YD8wXlY8oEXokaMSZj_n-197" parent="YD8wXlY8oEXokaMSZj_n-196" style="line;strokeWidth=1;fillColor=none;align=left;verticalAlign=middle;spacingTop=-1;spacingLeft=3;spacingRight=3;rotatable=0;labelPosition=right;points=[];portConstraint=eastwest;strokeColor=inherit;" value="" vertex="1">
          <mxGeometry height="8" width="615" y="26" as="geometry" />
        </mxCell>
        <mxCell id="YD8wXlY8oEXokaMSZj_n-198" parent="YD8wXlY8oEXokaMSZj_n-196" style="text;strokeColor=default;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;html=1;" value="&lt;div&gt;// this is the FIFO struct of the issue queue&lt;/div&gt;&lt;div&gt;typedef struct packed {&lt;/div&gt;&lt;div&gt;&amp;nbsp; logic [CVA6Cfg.XLEN-1:0] rs1_rdata;&lt;/div&gt;&lt;div&gt;&amp;nbsp; logic [CVA6Cfg.XLEN-1:0] rs2_rdata;&lt;/div&gt;&lt;div&gt;&amp;nbsp; logic [CVA6Cfg.VLEN-1:0] lsu_addr;&lt;/div&gt;&lt;div&gt;&amp;nbsp; logic [(CVA6Cfg.XLEN/8)-1:0] lsu_rmask;&lt;/div&gt;&lt;div&gt;&amp;nbsp; logic [(CVA6Cfg.XLEN/8)-1:0] lsu_wmask;&lt;/div&gt;&lt;div&gt;&amp;nbsp; logic [CVA6Cfg.XLEN-1:0] lsu_wdata;&lt;/div&gt;&lt;div&gt;&amp;nbsp; logic [31:0] instr;&lt;/div&gt;&lt;div&gt;&amp;nbsp; logic branch_valid;&lt;/div&gt;&lt;div&gt;&amp;nbsp; logic is_taken;&lt;/div&gt;&lt;div&gt;&amp;nbsp; logic is_compressed;&lt;/div&gt;&lt;div&gt;} sb_mem_t;&lt;br&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;sb_mem_t [CVA6Cfg.NR_SB_ENTRIES-1:0] mem_q, mem_n;&lt;/div&gt;" vertex="1">
          <mxGeometry height="236" width="615" y="34" as="geometry" />
        </mxCell>
        <mxCell id="YD8wXlY8oEXokaMSZj_n-199" parent="YD8wXlY8oEXokaMSZj_n-196" style="text;strokeColor=default;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;html=1;" value="&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;always_comb begin : issue_fifo&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp; mem_n = mem_q;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp;&amp;nbsp;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp; //  issue queue&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp; for (int unsigned i = 0; i &amp;lt; CVA6Cfg.NrIssuePorts; i++) begin&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp; &amp;nbsp; &lt;span style=&quot;background-color: rgb(213, 232, 212);&quot;&gt;if (decoded_instr_valid[i] &amp;amp;&amp;amp; decoded_instr_ack[i] &amp;amp;&amp;amp; !flush_unissued_instr)&lt;/span&gt; begin&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; mem_n[issue_pointer[i]] = &#39;{&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; rs1_rdata: rs1[i],&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; rs2_rdata: rs2[i],&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; lsu_addr: &#39;0,&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; lsu_rmask: &#39;0,&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; lsu_wmask: &#39;0,&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; lsu_wdata: &#39;0,&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; instr: issue_q[i].instr,&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; branch_valid: 1&#39;b0,&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; is_taken: 1&#39;b0,&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; is_compressed: issue_q[i].is_compressed&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; };&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp; &amp;nbsp; end&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp; end&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&lt;br&gt;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp; // branch valid, branch valid&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp;&lt;span style=&quot;background-color: rgb(213, 232, 212);&quot;&gt; if (branch_valid_iti)&lt;/span&gt; begin&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp; &amp;nbsp; mem_n[branch_trans_id].branch_valid = branch_valid_iti;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp; &amp;nbsp; mem_n[branch_trans_id].is_taken = is_taken_iti;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp; end&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp; // lsu ,  lsu &lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp; &lt;span style=&quot;background-color: rgb(213, 232, 212);&quot;&gt;if (lsu_rmask != 0)&lt;/span&gt; begin&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp; &amp;nbsp; mem_n[lsu_addr_trans_id].lsu_addr&amp;nbsp; = lsu_addr;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp; &amp;nbsp; mem_n[lsu_addr_trans_id].lsu_rmask = lsu_rmask;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp; // lsu ,  lsu &lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp; &lt;span style=&quot;background-color: rgb(213, 232, 212);&quot;&gt;end else if (lsu_wmask != 0)&lt;/span&gt; begin&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp; &amp;nbsp; mem_n[lsu_addr_trans_id].lsu_addr&amp;nbsp; = lsu_addr;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp; &amp;nbsp; mem_n[lsu_addr_trans_id].lsu_wmask = lsu_wmask;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp; &amp;nbsp; mem_n[lsu_addr_trans_id].lsu_wdata = wbdata[STORE_WB];&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp; end&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;end&lt;/span&gt;&lt;/div&gt;" vertex="1">
          <mxGeometry height="550" width="615" y="270" as="geometry" />
        </mxCell>
        <mxCell id="YD8wXlY8oEXokaMSZj_n-200" parent="YD8wXlY8oEXokaMSZj_n-196" style="text;strokeColor=default;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;html=1;" value="&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;//  next_mem  q&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;always_ff @(posedge clk_i or negedge rst_ni) begin : regs&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp; if (!rst_ni) begin&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp; &amp;nbsp; mem_q &amp;lt;= &#39;{default: sb_mem_t&#39;(0)};&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp; end else begin&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp; &amp;nbsp; mem_q &amp;lt;= mem_n;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp; end&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;end&lt;/span&gt;&lt;/div&gt;" vertex="1">
          <mxGeometry height="140" width="615" y="820" as="geometry" />
        </mxCell>
        <mxCell id="YD8wXlY8oEXokaMSZj_n-201" edge="1" parent="1" source="YD8wXlY8oEXokaMSZj_n-185" style="html=1;verticalAlign=bottom;endArrow=block;curved=0;rounded=0;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=0;entryY=0;entryDx=0;entryDy=0;" target="YD8wXlY8oEXokaMSZj_n-196" value="dispatch">
          <mxGeometry relative="1" width="80" as="geometry">
            <Array as="points">
              <mxPoint x="7860" y="9089" />
              <mxPoint x="7940" y="8480" />
            </Array>
            <mxPoint x="7020" y="9690" as="sourcePoint" />
            <mxPoint x="7390" y="8570" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="YD8wXlY8oEXokaMSZj_n-202" parent="1" style="swimlane;fontStyle=1;align=center;verticalAlign=top;childLayout=stackLayout;horizontal=1;startSize=26;horizontalStack=0;resizeParent=1;resizeParentMax=0;resizeLast=0;collapsible=1;marginBottom=0;whiteSpace=wrap;html=1;fillColor=#dae8fc;strokeColor=#6c8ebf;" value="&lt;span style=&quot;text-align: left;&quot;&gt;PACK&lt;/span&gt;" vertex="1">
          <mxGeometry height="1020" width="615" x="8960" y="9180" as="geometry" />
        </mxCell>
        <mxCell id="YD8wXlY8oEXokaMSZj_n-203" parent="YD8wXlY8oEXokaMSZj_n-202" style="line;strokeWidth=1;fillColor=none;align=left;verticalAlign=middle;spacingTop=-1;spacingLeft=3;spacingRight=3;rotatable=0;labelPosition=right;points=[];portConstraint=eastwest;strokeColor=inherit;" value="" vertex="1">
          <mxGeometry height="8" width="615" y="26" as="geometry" />
        </mxCell>
        <mxCell id="YD8wXlY8oEXokaMSZj_n-204" parent="YD8wXlY8oEXokaMSZj_n-202" style="text;strokeColor=default;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;html=1;" value="&lt;div&gt;&lt;span style=&quot;background-color: transparent; color: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));&quot;&gt;always_ff @(posedge clk_i) begin&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp; for (int i = 0; i &amp;lt; CVA6Cfg.NrCommitPorts; i++) begin&lt;/span&gt;&lt;/div&gt;" vertex="1">
          <mxGeometry height="46" width="615" y="34" as="geometry" />
        </mxCell>
        <mxCell id="YD8wXlY8oEXokaMSZj_n-205" parent="YD8wXlY8oEXokaMSZj_n-202" style="text;strokeColor=default;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;html=1;" value="&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp; &amp;nbsp; logic exception;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp; &amp;nbsp; logic valid;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp; &amp;nbsp; &lt;span style=&quot;background-color: rgb(213, 232, 212);&quot;&gt;&lt;b&gt;exception &lt;/b&gt;= (i == 0) &amp;amp;&amp;amp; commit_instr_valid[i] &amp;amp;&amp;amp; ex_commit_valid &amp;amp;&amp;amp; !commit_drop[i];&lt;/span&gt;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp; &amp;nbsp; &lt;span style=&quot;background-color: rgb(213, 232, 212);&quot;&gt;&lt;b&gt;valid&amp;nbsp; &amp;nbsp; &amp;nbsp;&lt;/b&gt;= (commit_ack[i] &amp;amp;&amp;amp; !ex_commit_valid &amp;amp;&amp;amp; !commit_drop[i]) ||&lt;/span&gt;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &lt;span style=&quot;background-color: rgb(213, 232, 212);&quot;&gt;(exception &amp;amp;&amp;amp; (ex_commit_cause == riscv::ENV_CALL_MMODE ||&lt;/span&gt;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &lt;span style=&quot;background-color: rgb(213, 232, 212);&quot;&gt;ex_commit_cause == riscv::ENV_CALL_SMODE ||&lt;/span&gt;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &lt;span style=&quot;background-color: rgb(213, 232, 212);&quot;&gt;ex_commit_cause == riscv::ENV_CALL_UMODE));&lt;/span&gt;&lt;/span&gt;&lt;/div&gt;" vertex="1">
          <mxGeometry height="120" width="615" y="80" as="geometry" />
        </mxCell>
        <mxCell id="YD8wXlY8oEXokaMSZj_n-206" parent="YD8wXlY8oEXokaMSZj_n-202" style="text;strokeColor=default;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;html=1;" value="&lt;div&gt;&amp;nbsp; &amp;nbsp; rvfi_instr_o[i].valid &amp;lt;= valid;&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; rvfi_instr_o[i].insn&amp;nbsp; &amp;lt;= mem_q[commit_pointer[i]].instr;&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; // when synchronous trap, the instruction is not executed&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; rvfi_instr_o[i].trap&amp;nbsp; &amp;lt;= exception &amp;amp;&amp;amp; !ex_commit_cause[31];&lt;/div&gt;" vertex="1">
          <mxGeometry height="80" width="615" y="200" as="geometry" />
        </mxCell>
        <mxCell id="YD8wXlY8oEXokaMSZj_n-207" parent="YD8wXlY8oEXokaMSZj_n-202" style="text;strokeColor=default;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;html=1;" value="&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp; &amp;nbsp; // interrupt (exception or exti)&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp; &amp;nbsp; if (exception &amp;amp;&amp;amp; ex_commit_cause[31]) begin&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; rvfi_intr[i] &amp;lt;= &#39;b101;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp; &amp;nbsp; end else if (exception) begin&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; rvfi_intr[i] &amp;lt;= &#39;b11;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp; &amp;nbsp; end&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp; &amp;nbsp; if (valid) begin&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; rvfi_intr[i] &amp;lt;= 0;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp; &amp;nbsp; end&lt;br&gt;&lt;br&gt;&amp;nbsp; &amp;nbsp;&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;background-color: transparent; color: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));&quot;&gt;rvfi_instr_o[i].intr &amp;lt;= rvfi_intr[i];&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;background-color: transparent; color: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));&quot;&gt;&lt;br&gt;&lt;/span&gt;&lt;/div&gt;" vertex="1">
          <mxGeometry height="180" width="615" y="280" as="geometry" />
        </mxCell>
        <mxCell id="YD8wXlY8oEXokaMSZj_n-208" parent="YD8wXlY8oEXokaMSZj_n-202" style="text;strokeColor=default;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;html=1;" value="&lt;div&gt;&lt;span style=&quot;background-color: transparent; color: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));&quot;&gt;&amp;nbsp; &amp;nbsp; rvfi_instr_o[i].cause &amp;lt;= ex_commit_cause;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp; &amp;nbsp; rvfi_instr_o[i].mode &amp;lt;= (CVA6Cfg.DebugEn &amp;amp;&amp;amp; debug_mode) ? 2&#39;b10 : priv_lvl;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp; &amp;nbsp; rvfi_instr_o[i].ixl &amp;lt;= CVA6Cfg.XLEN == 64 ? 2 : 1;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp; &amp;nbsp; rvfi_instr_o[i].rs1_addr &amp;lt;= commit_instr_rs1[i];&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp; &amp;nbsp; rvfi_instr_o[i].rs2_addr &amp;lt;= commit_instr_rs2[i];&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp; &amp;nbsp; rvfi_instr_o[i].rd_addr &amp;lt;= commit_instr_rd[i];&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp; &amp;nbsp; rvfi_instr_o[i].rd_wdata &amp;lt;= (CVA6Cfg.FpPresent &amp;amp;&amp;amp; is_rd_fpr(&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; commit_instr_op[i]&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp; &amp;nbsp; )) ? commit_instr_result[i] : wdata[i];&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp; &amp;nbsp; rvfi_instr_o[i].pc_rdata &amp;lt;= commit_instr_pc[i];&lt;/span&gt;&lt;/div&gt;" vertex="1">
          <mxGeometry height="160" width="615" y="460" as="geometry" />
        </mxCell>
        <mxCell id="YD8wXlY8oEXokaMSZj_n-209" parent="YD8wXlY8oEXokaMSZj_n-202" style="text;strokeColor=default;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;html=1;" value="&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp; &amp;nbsp; rvfi_instr_o[i].mem_addr &amp;lt;= mem_q[commit_pointer[i]].lsu_addr;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp; &amp;nbsp; // So far, only write paddr is reported. TODO: read paddr&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp; &amp;nbsp; rvfi_instr_o[i].mem_paddr &amp;lt;= mem_paddr;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp; &amp;nbsp; rvfi_instr_o[i].mem_wmask &amp;lt;= mem_q[commit_pointer[i]].lsu_wmask;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp; &amp;nbsp; rvfi_instr_o[i].mem_wdata &amp;lt;= mem_q[commit_pointer[i]].lsu_wdata;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp; &amp;nbsp; rvfi_instr_o[i].mem_rmask &amp;lt;= mem_q[commit_pointer[i]].lsu_rmask;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp; &amp;nbsp; rvfi_instr_o[i].mem_rdata &amp;lt;= commit_instr_result[i];&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp; &amp;nbsp; rvfi_instr_o[i].rs1_rdata &amp;lt;= mem_q[commit_pointer[i]].rs1_rdata;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp; &amp;nbsp; rvfi_instr_o[i].rs2_rdata &amp;lt;= mem_q[commit_pointer[i]].rs2_rdata;&lt;/span&gt;&lt;/div&gt;" vertex="1">
          <mxGeometry height="160" width="615" y="620" as="geometry" />
        </mxCell>
        <mxCell id="YD8wXlY8oEXokaMSZj_n-210" parent="YD8wXlY8oEXokaMSZj_n-202" style="text;strokeColor=default;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;html=1;" value="&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp; &amp;nbsp; rvfi_to_iti_o.branch_valid[i] &amp;lt;= mem_q[commit_pointer[i]].branch_valid;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp; &amp;nbsp; rvfi_to_iti_o.is_taken[i] &amp;lt;= mem_q[commit_pointer[i]].is_taken;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp; &amp;nbsp; rvfi_to_iti_o.is_compressed[i] &amp;lt;= mem_q[commit_pointer[i]].is_compressed;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp; &amp;nbsp; rvfi_to_iti_o.valid[i] &amp;lt;= valid_iti[i];&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp; &amp;nbsp; rvfi_to_iti_o.pc[i] &amp;lt;= pc_iti[i];&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp; &amp;nbsp; rvfi_to_iti_o.op[i] &amp;lt;= op_iti[i];&lt;/span&gt;&lt;/div&gt;" vertex="1">
          <mxGeometry height="110" width="615" y="780" as="geometry" />
        </mxCell>
        <mxCell id="YD8wXlY8oEXokaMSZj_n-211" parent="YD8wXlY8oEXokaMSZj_n-202" style="text;strokeColor=default;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;html=1;" value="&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp; end&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp; rvfi_to_iti_o.ex_valid &amp;lt;= ex_commit_valid;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp; rvfi_to_iti_o.cycles &amp;lt;= time_iti;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp; rvfi_to_iti_o.cause &amp;lt;= ex_commit_cause;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp; rvfi_to_iti_o.tval &amp;lt;= tval_iti;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp; rvfi_to_iti_o.priv_lvl &amp;lt;= priv_lvl;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;end&lt;/span&gt;&lt;/div&gt;" vertex="1">
          <mxGeometry height="130" width="615" y="890" as="geometry" />
        </mxCell>
        <mxCell id="YD8wXlY8oEXokaMSZj_n-212" edge="1" parent="1" source="YD8wXlY8oEXokaMSZj_n-186" style="html=1;verticalAlign=bottom;endArrow=block;curved=0;rounded=0;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=0;entryY=0;entryDx=0;entryDy=0;" target="YD8wXlY8oEXokaMSZj_n-202" value="dispatch">
          <mxGeometry relative="1" width="80" as="geometry">
            <Array as="points">
              <mxPoint x="7360" y="9760" />
              <mxPoint x="8600" y="9760" />
              <mxPoint x="8850" y="9180" />
            </Array>
            <mxPoint x="7370" y="9779" as="sourcePoint" />
            <mxPoint x="8590" y="9170" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="YD8wXlY8oEXokaMSZj_n-213" parent="1" style="swimlane;fontStyle=1;align=center;verticalAlign=top;childLayout=stackLayout;horizontal=1;startSize=26;horizontalStack=0;resizeParent=1;resizeParentMax=0;resizeLast=0;collapsible=1;marginBottom=0;whiteSpace=wrap;html=1;fillColor=#dae8fc;strokeColor=#6c8ebf;" value="&lt;span style=&quot;text-align: left;&quot;&gt;CSR&lt;/span&gt;" vertex="1">
          <mxGeometry height="710" width="1000" x="8000" y="10310" as="geometry" />
        </mxCell>
        <mxCell id="YD8wXlY8oEXokaMSZj_n-214" parent="YD8wXlY8oEXokaMSZj_n-213" style="line;strokeWidth=1;fillColor=none;align=left;verticalAlign=middle;spacingTop=-1;spacingLeft=3;spacingRight=3;rotatable=0;labelPosition=right;points=[];portConstraint=eastwest;strokeColor=inherit;" value="" vertex="1">
          <mxGeometry height="8" width="1000" y="26" as="geometry" />
        </mxCell>
        <mxCell id="YD8wXlY8oEXokaMSZj_n-215" parent="YD8wXlY8oEXokaMSZj_n-213" style="text;strokeColor=default;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;html=1;" value="&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;//define csr  rvfi_csr_o_xxx &lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&lt;br&gt;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;`define CONNECT_RVFI_FULL(CSR_ENABLE_COND, CSR_NAME,&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; CSR_SOURCE_NAME) \&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp; always_ff @(posedge clk_i) begin \&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; if (CSR_ENABLE_COND) begin \&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; rvfi_csr_o.``CSR_NAME``.rdata &amp;lt;= {{CVA6Cfg.XLEN - $bits(CSR_SOURCE_NAME)}, CSR_SOURCE_NAME}; \&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; end \&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp; end \&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp; assign rvfi_csr_o.``CSR_NAME``.wdata = CSR_ENABLE_COND ? { {{CVA6Cfg.XLEN-$bits(CSR_SOURCE_NAME)}, CSR_SOURCE_NAME} } : 0; \&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp; assign rvfi_csr_o.``CSR_NAME``.rmask = CSR_ENABLE_COND ? 1 : 0; \&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp; assign rvfi_csr_o.``CSR_NAME``.wmask = (rvfi_csr_o.``CSR_NAME``.rdata != {{CVA6Cfg.XLEN - $bits(CSR_SOURCE_NAME)}, CSR_SOURCE_NAME}) &amp;amp;&amp;amp; CSR_ENABLE_COND;&lt;/span&gt;&lt;/div&gt;" vertex="1">
          <mxGeometry height="206" width="1000" y="34" as="geometry" />
        </mxCell>
        <mxCell id="YD8wXlY8oEXokaMSZj_n-216" parent="YD8wXlY8oEXokaMSZj_n-213" style="text;strokeColor=default;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;html=1;" value="&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;`define CONNECT_RVFI_SAME(CSR_ENABLE_COND, CSR_NAME) \&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; `CONNECT_RVFI_FULL(CSR_ENABLE_COND, CSR_NAME, csr.``CSR_NAME``_q)&lt;/span&gt;&lt;/div&gt;" vertex="1">
          <mxGeometry height="60" width="1000" y="240" as="geometry" />
        </mxCell>
        <mxCell id="YD8wXlY8oEXokaMSZj_n-217" parent="YD8wXlY8oEXokaMSZj_n-213" style="text;strokeColor=default;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;html=1;" value="&lt;div&gt;&amp;nbsp; `CONNECT_RVFI_FULL(CVA6Cfg.FpPresent, fflags, csr.fcsr_q.fflags)&lt;/div&gt;&lt;div&gt;&amp;nbsp; `CONNECT_RVFI_FULL(CVA6Cfg.FpPresent, frm, csr.fcsr_q.frm)&lt;/div&gt;&lt;div&gt;&amp;nbsp; `CONNECT_RVFI_FULL(CVA6Cfg.FpPresent, fcsr, {csr.fcsr_q.frm, csr.fcsr_q.fflags})&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;&amp;nbsp; `CONNECT_RVFI_FULL(CVA6Cfg.FpPresent, ftran, csr.fcsr_q.fprec)&lt;/div&gt;&lt;div&gt;&amp;nbsp; `CONNECT_RVFI_SAME(CVA6Cfg.FpPresent, dcsr)&lt;/div&gt;" vertex="1">
          <mxGeometry height="120" width="1000" y="300" as="geometry" />
        </mxCell>
        <mxCell id="YD8wXlY8oEXokaMSZj_n-218" parent="YD8wXlY8oEXokaMSZj_n-213" style="text;strokeColor=default;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;html=1;" value="&lt;div&gt;&amp;nbsp; `CONNECT_RVFI_SAME(CVA6Cfg.DebugEn, dpc)&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;&amp;nbsp; `CONNECT_RVFI_SAME(CVA6Cfg.DebugEn, dscratch0)&lt;/div&gt;&lt;div&gt;&amp;nbsp; `CONNECT_RVFI_SAME(CVA6Cfg.DebugEn, dscratch1)&lt;/div&gt;" vertex="1">
          <mxGeometry height="80" width="1000" y="420" as="geometry" />
        </mxCell>
        <mxCell id="YD8wXlY8oEXokaMSZj_n-219" parent="YD8wXlY8oEXokaMSZj_n-213" style="text;strokeColor=default;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;html=1;" value="&lt;div&gt;&amp;nbsp; `CONNECT_RVFI_FULL(CVA6Cfg.RVS, sstatus,&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;csr.mstatus_extended &amp;amp; SMODE_STATUS_READ_MASK[CVA6Cfg.XLEN-1:0])&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;&amp;nbsp; ...&lt;/div&gt;" vertex="1">
          <mxGeometry height="80" width="1000" y="500" as="geometry" />
        </mxCell>
        <mxCell id="YD8wXlY8oEXokaMSZj_n-220" parent="YD8wXlY8oEXokaMSZj_n-213" style="text;strokeColor=default;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;html=1;" value="&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;bit [CVA6Cfg.XLEN-1:0] pmpaddr_q;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;genvar i;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;generate&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp; for (i = 0; i &amp;lt; 16; i++) begin&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp; &amp;nbsp; `CONNECT_RVFI_FULL(1&#39;b1, pmpaddr[i], {&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;csr.pmpaddr_q[i][CVA6Cfg.PLEN-3:1], pmpcfg_q[i].addr_mode[1]})&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp; end&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;endgenerate&lt;/span&gt;&lt;/div&gt;" vertex="1">
          <mxGeometry height="130" width="1000" y="580" as="geometry" />
        </mxCell>
        <mxCell id="YD8wXlY8oEXokaMSZj_n-221" edge="1" parent="1" source="YD8wXlY8oEXokaMSZj_n-187" style="html=1;verticalAlign=bottom;endArrow=block;curved=0;rounded=0;exitX=1.003;exitY=0.611;exitDx=0;exitDy=0;entryX=0;entryY=0;entryDx=0;entryDy=0;exitPerimeter=0;" target="YD8wXlY8oEXokaMSZj_n-213" value="dispatch">
          <mxGeometry relative="1" width="80" as="geometry">
            <Array as="points">
              <mxPoint x="7760" y="10310" />
            </Array>
            <mxPoint x="7680" y="10227" as="sourcePoint" />
            <mxPoint x="9850" y="10080" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="YD8wXlY8oEXokaMSZj_n-222" parent="1" style="html=1;whiteSpace=wrap;align=left;verticalAlign=top;movable=0;resizable=0;rotatable=0;deletable=0;editable=0;locked=1;connectable=0;" value="&lt;font style=&quot;font-size: 48px;&quot;&gt;&amp;nbsp;&amp;nbsp;&lt;/font&gt;&lt;div&gt;&lt;font style=&quot;font-size: 48px;&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; Design / Front End&lt;/font&gt;&lt;/div&gt;" vertex="1">
          <mxGeometry height="4440" width="3020" x="4560" y="1230" as="geometry" />
        </mxCell>
        <mxCell id="YD8wXlY8oEXokaMSZj_n-223" parent="1" style="swimlane;fontStyle=1;align=center;verticalAlign=top;childLayout=stackLayout;horizontal=1;startSize=26;horizontalStack=0;resizeParent=1;resizeParentMax=0;resizeLast=0;collapsible=1;marginBottom=0;whiteSpace=wrap;html=1;fillColor=#0050ef;strokeColor=#001DBC;fontColor=#ffffff;" value="&lt;span style=&quot;text-align: left;&quot;&gt;Front End&lt;/span&gt;" vertex="1">
          <mxGeometry height="520" width="615" x="4840" y="2950" as="geometry" />
        </mxCell>
        <mxCell id="YD8wXlY8oEXokaMSZj_n-224" parent="YD8wXlY8oEXokaMSZj_n-223" style="line;strokeWidth=1;fillColor=none;align=left;verticalAlign=middle;spacingTop=-1;spacingLeft=3;spacingRight=3;rotatable=0;labelPosition=right;points=[];portConstraint=eastwest;strokeColor=inherit;" value="" vertex="1">
          <mxGeometry height="8" width="615" y="26" as="geometry" />
        </mxCell>
        <mxCell id="YD8wXlY8oEXokaMSZj_n-225" parent="YD8wXlY8oEXokaMSZj_n-223" style="text;strokeColor=default;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;html=1;" value="&lt;div&gt;Next PC&lt;/div&gt;" vertex="1">
          <mxGeometry height="66" width="615" y="34" as="geometry" />
        </mxCell>
        <mxCell id="YD8wXlY8oEXokaMSZj_n-226" parent="YD8wXlY8oEXokaMSZj_n-223" style="text;strokeColor=default;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;html=1;" value="Instr Re-Align" vertex="1">
          <mxGeometry height="70" width="615" y="100" as="geometry" />
        </mxCell>
        <mxCell id="YD8wXlY8oEXokaMSZj_n-227" parent="YD8wXlY8oEXokaMSZj_n-223" style="text;strokeColor=default;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;html=1;" value="&lt;div&gt;Instr Queue&lt;/div&gt;" vertex="1">
          <mxGeometry height="70" width="615" y="170" as="geometry" />
        </mxCell>
        <mxCell id="YD8wXlY8oEXokaMSZj_n-228" parent="YD8wXlY8oEXokaMSZj_n-223" style="text;strokeColor=default;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;html=1;" value="&lt;div&gt;Instr Scan&lt;/div&gt;" vertex="1">
          <mxGeometry height="70" width="615" y="240" as="geometry" />
        </mxCell>
        <mxCell id="YD8wXlY8oEXokaMSZj_n-229" parent="YD8wXlY8oEXokaMSZj_n-223" style="text;strokeColor=default;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;html=1;" value="BHT" vertex="1">
          <mxGeometry height="70" width="615" y="310" as="geometry" />
        </mxCell>
        <mxCell id="YD8wXlY8oEXokaMSZj_n-230" parent="YD8wXlY8oEXokaMSZj_n-223" style="text;strokeColor=default;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;html=1;" value="&lt;div&gt;BTB&lt;/div&gt;" vertex="1">
          <mxGeometry height="70" width="615" y="380" as="geometry" />
        </mxCell>
        <mxCell id="YD8wXlY8oEXokaMSZj_n-231" parent="YD8wXlY8oEXokaMSZj_n-223" style="text;strokeColor=default;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;html=1;" value="&lt;div&gt;RAS&lt;/div&gt;" vertex="1">
          <mxGeometry height="70" width="615" y="450" as="geometry" />
        </mxCell>
        <mxCell id="YD8wXlY8oEXokaMSZj_n-232" parent="1" style="swimlane;fontStyle=1;align=center;verticalAlign=top;childLayout=stackLayout;horizontal=1;startSize=26;horizontalStack=0;resizeParent=1;resizeParentMax=0;resizeLast=0;collapsible=1;marginBottom=0;whiteSpace=wrap;html=1;fillColor=#0050ef;strokeColor=#001DBC;fontColor=#ffffff;" value="&lt;span style=&quot;font-weight: 400; text-align: left;&quot;&gt;Next PC&lt;/span&gt;" vertex="1">
          <mxGeometry height="690" width="850" x="5800" y="1850" as="geometry" />
        </mxCell>
        <mxCell id="YD8wXlY8oEXokaMSZj_n-233" parent="YD8wXlY8oEXokaMSZj_n-232" style="line;strokeWidth=1;fillColor=none;align=left;verticalAlign=middle;spacingTop=-1;spacingLeft=3;spacingRight=3;rotatable=0;labelPosition=right;points=[];portConstraint=eastwest;strokeColor=inherit;" value="" vertex="1">
          <mxGeometry height="8" width="850" y="26" as="geometry" />
        </mxCell>
        <mxCell id="YD8wXlY8oEXokaMSZj_n-234" parent="YD8wXlY8oEXokaMSZj_n-232" style="text;strokeColor=#666666;fillColor=#f5f5f5;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;html=1;fontColor=#333333;" value="&lt;div&gt;:&lt;br&gt;1) Reset state: At reset, the PC is assigned to the boot address.&lt;br&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;2)&amp;nbsp;Branch Prediction: The fetched instruction is predecoded by the &lt;b style=&quot;background-color: rgb(213, 232, 212);&quot;&gt;instr_scan &lt;/b&gt;submodule. When the instruction is a control flow, three cases are considered:&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;background-color: transparent; color: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));&quot;&gt;&amp;nbsp; &amp;nbsp; 2.1&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;background-color: transparent;&quot;&gt;When the instruction is a JALR which corresponds to a return (rs1 = x1 or rs1 = x5). &lt;/span&gt;&lt;span style=&quot;background-color: rgb(213, 232, 212);&quot;&gt;RAS &lt;/span&gt;&lt;span style=&quot;background-color: transparent;&quot;&gt;provides next PC as a prediction.&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; 2.2 When the instruction is a JALR which does not correspond to areturn. If BTB (Branch Target Buffer) returns a valid address, then BTB predicts next PC. Else JALR is not considered as a control flow instruction, which will generate a &lt;span style=&quot;background-color: rgb(213, 232, 212);&quot;&gt;mispredict&lt;/span&gt;.&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; 2.3 When the instruction is a conditional branch. If BHT (Branch History table) returns a valid address, then BHT predicts next PC. Else the prediction depends on the PC relative jump offset sign: if sign is negative the prediction is taken, otherwise the prediction is not taken.&lt;/div&gt;&lt;div&gt;&lt;br&gt;3)&amp;nbsp;Default: The next 64-bit block is fetched. PC Gen fetches word boundary 64-bits block from CACHES module. And the fetch stage identifies the instructions from the 64-bits blocks.&lt;br&gt;4)&amp;nbsp;Mispredict: Misprediction are feedbacked by EX_STAGE module. In any case we need to correct our action and start fetching from the correct address.&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;5)&amp;nbsp;Replay instruction fetch: When the &lt;span style=&quot;background-color: rgb(213, 232, 212);&quot;&gt;instruction queue&lt;/span&gt; is full, the&lt;span style=&quot;background-color: rgb(213, 232, 212);&quot;&gt; instr_queue &lt;/span&gt;submodule asks the fetch replay and provides the address to be replayed.&lt;br&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;6)&amp;nbsp;&lt;span style=&quot;background-color: transparent;&quot;&gt;Return from&lt;/span&gt;&lt;span style=&quot;background-color: rgb(213, 232, 212);&quot;&gt; environment call&lt;/span&gt;&lt;span style=&quot;background-color: transparent;&quot;&gt;: When CSR requests a return from an environment call, next PC takes the value of the PC of the instruction after the one pointed to by the mepc CSR.&lt;br&gt;&lt;br&gt;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;background-color: transparent;&quot;&gt;7)&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;background-color: transparent;&quot;&gt;Exception/Interrupt: If an exception is triggered by CSR_REGISTER, next PC takes the value of the trap vector base address CSR.&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;background-color: transparent; color: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));&quot;&gt;&lt;br&gt;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;background-color: transparent; color: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));&quot;&gt;8)&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;background-color: transparent;&quot;&gt;Pipeline starting fetching from &lt;/span&gt;&lt;span style=&quot;background-color: rgb(213, 232, 212);&quot;&gt;COMMIT PC&lt;/span&gt;&lt;span style=&quot;background-color: transparent;&quot;&gt;: When the commit stage is halted by a WFI instruction or when the pipeline has been flushed due to CSR change, next PC takes the value of the PC coming from the COMMIT submodule. As CSR instructions do not exist in a compressed form, &lt;/span&gt;&lt;span style=&quot;background-color: rgb(213, 232, 212);&quot;&gt;PC is unconditionally incremented by 4&lt;/span&gt;&lt;span style=&quot;background-color: transparent;&quot;&gt;.&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;background-color: transparent; color: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));&quot;&gt;&lt;br&gt;&lt;/span&gt;&lt;/div&gt;" vertex="1">
          <mxGeometry height="376" width="850" y="34" as="geometry" />
        </mxCell>
        <mxCell id="YD8wXlY8oEXokaMSZj_n-235" parent="YD8wXlY8oEXokaMSZj_n-232" style="text;strokeColor=default;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;html=1;" value="1) input logic [CVA6Cfg.VLEN-1:0] boot_addr_i&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; //reset  boot_addr_i (frontend module )" vertex="1">
          <mxGeometry height="30" width="850" y="410" as="geometry" />
        </mxCell>
        <mxCell id="YD8wXlY8oEXokaMSZj_n-236" parent="YD8wXlY8oEXokaMSZj_n-232" style="text;strokeColor=#666666;fillColor=#f5f5f5;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;html=1;fontColor=#333333;" value="2) logic [&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;CVA6Cfg.VLEN-1:0] predict_address&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; //Branch Predict  " vertex="1">
          <mxGeometry height="30" width="850" y="440" as="geometry" />
        </mxCell>
        <mxCell id="YD8wXlY8oEXokaMSZj_n-237" parent="YD8wXlY8oEXokaMSZj_n-232" style="text;strokeColor=#36393d;fillColor=#eeeeee;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;html=1;" value="3) fetch_address[CVA6Cfg.VLEN-1:CVA6Cfg.FETCH_ALIGN_BITS] + 1, {CVA6Cfg.FETCH_ALIGN_BITS{1&#39;b0}} // PC+4" vertex="1">
          <mxGeometry height="30" width="850" y="470" as="geometry" />
        </mxCell>
        <mxCell id="YD8wXlY8oEXokaMSZj_n-238" parent="YD8wXlY8oEXokaMSZj_n-232" style="text;strokeColor=#666666;fillColor=#f5f5f5;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;html=1;fontColor=#333333;" value="4) logic [&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;CVA6Cfg.VLEN-1:0] replay_addr&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;// instr_queue replay " vertex="1">
          <mxGeometry height="30" width="850" y="500" as="geometry" />
        </mxCell>
        <mxCell id="YD8wXlY8oEXokaMSZj_n-239" parent="YD8wXlY8oEXokaMSZj_n-232" style="text;strokeColor=#ae4132;fillColor=#fad9d5;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;html=1;" value="5)&amp;nbsp;input bp_resolve_t resolved_branch_i&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; // EXECUTE  Mispredict event and next PC&lt;br&gt;&amp;nbsp; &amp;nbsp; resolved_branch_i.target_address&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;// mispredict ,  nextPC" vertex="1">
          <mxGeometry height="40" width="850" y="530" as="geometry" />
        </mxCell>
        <mxCell id="YD8wXlY8oEXokaMSZj_n-240" parent="YD8wXlY8oEXokaMSZj_n-232" style="text;strokeColor=#82b366;fillColor=#d5e8d4;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;html=1;" value="6) input logic [CVA6Cfg.VLEN-1:0] epc_i&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;// CSR  nextPC (eXpc)" vertex="1">
          <mxGeometry height="30" width="850" y="570" as="geometry" />
        </mxCell>
        <mxCell id="YD8wXlY8oEXokaMSZj_n-241" parent="YD8wXlY8oEXokaMSZj_n-232" style="text;strokeColor=#82b366;fillColor=#d5e8d4;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;html=1;" value="7) input logic [CVA6Cfg.VLEN-1:0] trap_vector_base_i&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;// CSR  nextPC ()" vertex="1">
          <mxGeometry height="30" width="850" y="600" as="geometry" />
        </mxCell>
        <mxCell id="YD8wXlY8oEXokaMSZj_n-242" parent="YD8wXlY8oEXokaMSZj_n-232" style="text;strokeColor=#36393d;fillColor=#ffcc99;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;html=1;" value="8)&amp;nbsp;pc_commit_i + (halt_i ? &#39;0 : {{CVA6Cfg.VLEN - 3{1&#39;b0}}, 3&#39;b100})&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;// Controller  nextPC,  fence, AMO, CSR side effect  " vertex="1">
          <mxGeometry height="30" width="850" y="630" as="geometry" />
        </mxCell>
        <mxCell id="YD8wXlY8oEXokaMSZj_n-243" parent="YD8wXlY8oEXokaMSZj_n-232" style="text;strokeColor=default;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;html=1;" value="9)&amp;nbsp;CVA6Cfg.DmBaseAddress[CVA6Cfg.VLEN-1:0] + CVA6Cfg.HaltAddress[CVA6Cfg.VLEN-1:0]&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;//DEBUG DBG base " vertex="1">
          <mxGeometry height="30" width="850" y="660" as="geometry" />
        </mxCell>
        <mxCell id="YD8wXlY8oEXokaMSZj_n-244" parent="1" style="swimlane;fontStyle=1;align=center;verticalAlign=top;childLayout=stackLayout;horizontal=1;startSize=40;horizontalStack=0;resizeParent=1;resizeParentMax=0;resizeLast=0;collapsible=1;marginBottom=0;whiteSpace=wrap;html=1;fillColor=#0050ef;strokeColor=#001DBC;fontColor=#ffffff;" value="&lt;div style=&quot;text-align: left;&quot;&gt;&lt;span style=&quot;background-color: transparent;&quot;&gt;instr_realign&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;text-align: left;&quot;&gt;&lt;span style=&quot;background-color: transparent;&quot;&gt;/home/ICer/proj/cva6/core/instr_realign.sv&lt;/span&gt;&lt;/div&gt;" vertex="1">
          <mxGeometry height="444" width="870" x="5870" y="2610" as="geometry" />
        </mxCell>
        <mxCell id="YD8wXlY8oEXokaMSZj_n-245" parent="YD8wXlY8oEXokaMSZj_n-244" style="line;strokeWidth=1;fillColor=none;align=left;verticalAlign=middle;spacingTop=-1;spacingLeft=3;spacingRight=3;rotatable=0;labelPosition=right;points=[];portConstraint=eastwest;strokeColor=inherit;" value="" vertex="1">
          <mxGeometry height="8" width="870" y="40" as="geometry" />
        </mxCell>
        <mxCell id="YD8wXlY8oEXokaMSZj_n-246" parent="YD8wXlY8oEXokaMSZj_n-244" style="text;strokeColor=default;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;html=1;" value=":&lt;br&gt;1)&amp;nbsp;The 64-bit aligned block coming from the CACHE module enters the instr_realign submodule.&lt;br&gt;2) This submodule extracts the instructions from the 64-bit blocks.&lt;br&gt;3)&amp;nbsp;Based on the fetch address and the fetched data, the instr_realign module extracts the valid instructions to be sent to the queue.&lt;br&gt;4)&amp;nbsp;It is possible to fetch up to 4 instructions per cycle when C extension is used&lt;br&gt;5)&amp;nbsp;A not-compressed instruction can be misaligned on the block size, interleaved with two cache blocks. In that case, two cache accesses are needed to get the whole instruction.&amp;nbsp;&lt;br&gt;6)&amp;nbsp;Incomplete instruction is stored in instr_realign submodule until its second half is fetched.&lt;br&gt;7)&amp;nbsp;The instr_realign submodule provides up to 4 instructions per cycle when compressed extension is enabled, else one instruction per cycle." vertex="1">
          <mxGeometry height="156" width="870" y="48" as="geometry" />
        </mxCell>
        <mxCell id="YD8wXlY8oEXokaMSZj_n-247" parent="YD8wXlY8oEXokaMSZj_n-244" style="text;strokeColor=#b46504;fillColor=#fad7ac;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;html=1;" value="input logic flush_i&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; // CONTROLLER : Flush Fetch" vertex="1">
          <mxGeometry height="30" width="870" y="204" as="geometry" />
        </mxCell>
        <mxCell id="YD8wXlY8oEXokaMSZj_n-248" parent="YD8wXlY8oEXokaMSZj_n-244" style="text;strokeColor=#10739e;fillColor=#b1ddf0;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;html=1;" value="&lt;div&gt;input logic valid_i&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; // CACHE : 32bit  &lt;/div&gt;" vertex="1">
          <mxGeometry height="30" width="870" y="234" as="geometry" />
        </mxCell>
        <mxCell id="YD8wXlY8oEXokaMSZj_n-249" parent="YD8wXlY8oEXokaMSZj_n-244" style="text;strokeColor=#10739e;fillColor=#b1ddf0;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;html=1;" value="&lt;div&gt;input logic [CVA6Cfg.VLEN-1:0] address_i&amp;nbsp; &amp;nbsp; // CACHE : 32bit &lt;/div&gt;" vertex="1">
          <mxGeometry height="30" width="870" y="264" as="geometry" />
        </mxCell>
        <mxCell id="YD8wXlY8oEXokaMSZj_n-250" parent="YD8wXlY8oEXokaMSZj_n-244" style="text;strokeColor=#10739e;fillColor=#b1ddf0;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;html=1;" value="&lt;div&gt;input logic [CVA6Cfg.VLEN-1:0] address_i&amp;nbsp; &amp;nbsp; // CACHE : 32bit &lt;/div&gt;" vertex="1">
          <mxGeometry height="30" width="870" y="294" as="geometry" />
        </mxCell>
        <mxCell id="YD8wXlY8oEXokaMSZj_n-251" parent="YD8wXlY8oEXokaMSZj_n-244" style="text;strokeColor=#36393d;fillColor=#eeeeee;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;html=1;" value="&lt;div&gt;output logic [CVA6Cfg.INSTR_PER_FETCH-1:0] valid_o&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;// FRONTEND : &lt;/div&gt;" vertex="1">
          <mxGeometry height="30" width="870" y="324" as="geometry" />
        </mxCell>
        <mxCell id="YD8wXlY8oEXokaMSZj_n-252" parent="YD8wXlY8oEXokaMSZj_n-244" style="text;strokeColor=#36393d;fillColor=#eeeeee;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;html=1;" value="&lt;div&gt;output logic serving_unaligned_o&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; // FRONTEND : &lt;/div&gt;" vertex="1">
          <mxGeometry height="30" width="870" y="354" as="geometry" />
        </mxCell>
        <mxCell id="YD8wXlY8oEXokaMSZj_n-253" parent="YD8wXlY8oEXokaMSZj_n-244" style="text;strokeColor=#36393d;fillColor=#eeeeee;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;html=1;" value="&lt;div&gt;output logic [CVA6Cfg.INSTR_PER_FETCH-1:0][CVA6Cfg.VLEN-1:0] addr_o&amp;nbsp; &amp;nbsp; // FRONTEND : &lt;/div&gt;" vertex="1">
          <mxGeometry height="30" width="870" y="384" as="geometry" />
        </mxCell>
        <mxCell id="YD8wXlY8oEXokaMSZj_n-254" parent="YD8wXlY8oEXokaMSZj_n-244" style="text;strokeColor=#666666;fillColor=#f5f5f5;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;html=1;fontColor=#333333;" value="&lt;div&gt;output logic [CVA6Cfg.INSTR_PER_FETCH-1:0][31:0]&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; // instr_scan&amp;amp;instr_queue : &lt;/div&gt;" vertex="1">
          <mxGeometry height="30" width="870" y="414" as="geometry" />
        </mxCell>
        <mxCell id="YD8wXlY8oEXokaMSZj_n-255" edge="1" parent="1" source="YD8wXlY8oEXokaMSZj_n-225" style="endArrow=classic;html=1;rounded=0;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=0;entryY=0;entryDx=0;entryDy=0;" target="YD8wXlY8oEXokaMSZj_n-232" value="">
          <mxGeometry height="50" relative="1" width="50" as="geometry">
            <mxPoint x="5360" y="2700" as="sourcePoint" />
            <mxPoint x="5410" y="2650" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="YD8wXlY8oEXokaMSZj_n-256" edge="1" parent="1" source="YD8wXlY8oEXokaMSZj_n-226" style="endArrow=classic;html=1;rounded=0;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=0;entryY=0;entryDx=0;entryDy=0;" target="YD8wXlY8oEXokaMSZj_n-244" value="">
          <mxGeometry height="50" relative="1" width="50" as="geometry">
            <mxPoint x="5510" y="3030" as="sourcePoint" />
            <mxPoint x="5560" y="2980" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="YD8wXlY8oEXokaMSZj_n-257" parent="1" style="swimlane;fontStyle=1;align=center;verticalAlign=top;childLayout=stackLayout;horizontal=1;startSize=40;horizontalStack=0;resizeParent=1;resizeParentMax=0;resizeLast=0;collapsible=1;marginBottom=0;whiteSpace=wrap;html=1;fillColor=#0050ef;strokeColor=#001DBC;fontColor=#ffffff;" value="&lt;div style=&quot;text-align: left;&quot;&gt;&lt;span style=&quot;background-color: transparent;&quot;&gt;instr_queue&lt;br&gt;/home/ICer/proj/cva6/core/frontend/instr_queue.sv&lt;/span&gt;&lt;/div&gt;" vertex="1">
          <mxGeometry height="714" width="870" x="6130" y="3110" as="geometry" />
        </mxCell>
        <mxCell id="YD8wXlY8oEXokaMSZj_n-258" parent="YD8wXlY8oEXokaMSZj_n-257" style="line;strokeWidth=1;fillColor=none;align=left;verticalAlign=middle;spacingTop=-1;spacingLeft=3;spacingRight=3;rotatable=0;labelPosition=right;points=[];portConstraint=eastwest;strokeColor=inherit;" value="" vertex="1">
          <mxGeometry height="8" width="870" y="40" as="geometry" />
        </mxCell>
        <mxCell id="YD8wXlY8oEXokaMSZj_n-259" parent="YD8wXlY8oEXokaMSZj_n-257" style="text;strokeColor=default;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;html=1;" value=":&lt;br&gt;1)&amp;nbsp;The instr_queue receives mutliple instructions from &lt;span style=&quot;background-color: rgb(213, 232, 212);&quot;&gt;instr_realign &lt;/span&gt;submodule to create a valid stream to be executed.&lt;br&gt;2)&amp;nbsp;&lt;span style=&quot;background-color: rgb(213, 232, 212);&quot;&gt;Frontend &lt;/span&gt;&lt;span style=&quot;background-color: transparent;&quot;&gt;pushes instructions and all related information into the FIFO for storage, including details needed in case of a misprediction&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;background-color: transparent; color: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));&quot;&gt;or exception: the instructions themselves, instruction control flow type, exception, exception address, and predicted address.&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;background-color: transparent;&quot;&gt;&lt;br&gt;&lt;/span&gt;3)&amp;nbsp;&lt;span style=&quot;background-color: rgb(213, 232, 212);&quot;&gt;DECODE &lt;/span&gt;pops them when decode stage is ready and indicates to the FRONTEND the instruction has been consummed.&lt;br&gt;4)&amp;nbsp;The&lt;span style=&quot;background-color: rgb(213, 232, 212);&quot;&gt; instruction queue&lt;/span&gt; contains two FIFOs: one for instructions and one for addresses, which stores addresses in case of a prediction.&amp;nbsp;The instruction FIFO can hold up to 44 instructions, while the address FIFO can hold up to 2 addresses.&lt;div&gt;&amp;nbsp; &amp;nbsp; 4.1&amp;nbsp;If the instruction FIFO is full, &lt;span style=&quot;background-color: rgb(213, 232, 212);&quot;&gt;a replay request is sent to inform the fetch mechanism to replay the fetch&lt;/span&gt;.&amp;nbsp;&lt;br&gt;&amp;nbsp; &amp;nbsp; 4.2 &lt;span style=&quot;background-color: rgb(213, 232, 212);&quot;&gt;If the address FIFO is full and there is a prediction, a replay request is sent to inform the fetch mechanism to replay the fetch, even if the instruction FIFO is not full.&lt;/span&gt;&lt;br&gt;5)&amp;nbsp;The instruction queue can be flushed by the flush signal coming from the &lt;span style=&quot;background-color: rgb(213, 232, 212);&quot;&gt;CONTROLLER&lt;/span&gt;.&amp;nbsp;&lt;br&gt;&lt;/div&gt;" vertex="1">
          <mxGeometry height="176" width="870" y="48" as="geometry" />
        </mxCell>
        <mxCell id="YD8wXlY8oEXokaMSZj_n-260" parent="YD8wXlY8oEXokaMSZj_n-257" style="text;strokeColor=#b46504;fillColor=#fad7ac;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;html=1;" value="input logic flush_i&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; // CONTROLLER : Flush Fetch" vertex="1">
          <mxGeometry height="30" width="870" y="224" as="geometry" />
        </mxCell>
        <mxCell id="YD8wXlY8oEXokaMSZj_n-261" parent="YD8wXlY8oEXokaMSZj_n-257" style="text;strokeColor=#36393d;fillColor=#eeeeee;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;html=1;" value="&lt;div&gt;input logic [CVA6Cfg.INSTR_PER_FETCH-1:0] valid_i&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;// instr_realign  : &lt;/div&gt;" vertex="1">
          <mxGeometry height="30" width="870" y="254" as="geometry" />
        </mxCell>
        <mxCell id="YD8wXlY8oEXokaMSZj_n-262" parent="YD8wXlY8oEXokaMSZj_n-257" style="text;strokeColor=#36393d;fillColor=#eeeeee;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;html=1;" value="&lt;div&gt;input logic [CVA6Cfg.INSTR_PER_FETCH-1:0][CVA6Cfg.VLEN-1:0] addr_i&amp;nbsp; &amp;nbsp;&amp;nbsp;&lt;span style=&quot;background-color: transparent; color: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));&quot;&gt;// instr_realign : &lt;/span&gt;&lt;/div&gt;" vertex="1">
          <mxGeometry height="30" width="870" y="284" as="geometry" />
        </mxCell>
        <mxCell id="YD8wXlY8oEXokaMSZj_n-263" parent="YD8wXlY8oEXokaMSZj_n-257" style="text;strokeColor=#36393d;fillColor=#eeeeee;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;html=1;" value="&lt;div&gt;input logic [CVA6Cfg.INSTR_PER_FETCH-1:0][31:0] instr_i&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;// instr_realign : &lt;/div&gt;" vertex="1">
          <mxGeometry height="30" width="870" y="314" as="geometry" />
        </mxCell>
        <mxCell id="YD8wXlY8oEXokaMSZj_n-264" parent="YD8wXlY8oEXokaMSZj_n-257" style="text;strokeColor=#10739e;fillColor=#b1ddf0;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;html=1;" value="&lt;div&gt;output logic ready_o&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;// CACHE : ready&amp;nbsp;&lt;/div&gt;" vertex="1">
          <mxGeometry height="30" width="870" y="344" as="geometry" />
        </mxCell>
        <mxCell id="YD8wXlY8oEXokaMSZj_n-265" parent="YD8wXlY8oEXokaMSZj_n-257" style="text;strokeColor=#10739e;fillColor=#b1ddf0;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;html=1;" value="&lt;div&gt;input ariane_pkg::frontend_exception_t exception_i&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;&amp;nbsp;&lt;span style=&quot;background-color: transparent; color: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));&quot;&gt;// CACHE :&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;background-color: transparent;&quot;&gt;Exception (which is page-table fault, access fault )&lt;/span&gt;&lt;span style=&quot;background-color: transparent; color: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));&quot;&gt;&amp;nbsp;&lt;/span&gt;&lt;/div&gt;" vertex="1">
          <mxGeometry height="30" width="870" y="374" as="geometry" />
        </mxCell>
        <mxCell id="YD8wXlY8oEXokaMSZj_n-266" parent="YD8wXlY8oEXokaMSZj_n-257" style="text;strokeColor=#10739e;fillColor=#b1ddf0;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;html=1;" value="&lt;div&gt;input logic [CVA6Cfg.VLEN-1:0] exception_addr_i&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;// CACHE : Exception &lt;/div&gt;&lt;div&gt;input logic [CVA6Cfg.GPLEN-1:0] exception_gpaddr_i&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;background-color: transparent; color: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));&quot;&gt;input logic [31:0] exception_tinst_i&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;background-color: transparent;&quot;&gt;input logic exception_gva_i&lt;/span&gt;&lt;/div&gt;" vertex="1">
          <mxGeometry height="70" width="870" y="404" as="geometry" />
        </mxCell>
        <mxCell id="YD8wXlY8oEXokaMSZj_n-267" parent="YD8wXlY8oEXokaMSZj_n-257" style="text;strokeColor=#666666;fillColor=#f5f5f5;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;html=1;fontColor=#333333;" value="&lt;div&gt;input logic [CVA6Cfg.VLEN-1:0] predict_address_i&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; // FRONTEND : Branch Predict &lt;/div&gt;" vertex="1">
          <mxGeometry height="30" width="870" y="474" as="geometry" />
        </mxCell>
        <mxCell id="YD8wXlY8oEXokaMSZj_n-268" parent="YD8wXlY8oEXokaMSZj_n-257" style="text;strokeColor=#666666;fillColor=#f5f5f5;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;html=1;fontColor=#333333;" value="&lt;div&gt;input ariane_pkg::cf_t [CVA6Cfg.INSTR_PER_FETCH-1:0] cf_type_i&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;// FRONTEND : Branch Predict &lt;span style=&quot;background-color: rgb(255, 153, 153);&quot;&gt; (Branch, JUMP, JUMPR, RETURN)&lt;/span&gt;&lt;/div&gt;" vertex="1">
          <mxGeometry height="30" width="870" y="504" as="geometry" />
        </mxCell>
        <mxCell id="YD8wXlY8oEXokaMSZj_n-269" parent="YD8wXlY8oEXokaMSZj_n-257" style="text;strokeColor=#666666;fillColor=#f5f5f5;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;html=1;fontColor=#333333;" value="&lt;div&gt;output logic [CVA6Cfg.INSTR_PER_FETCH-1:0] consumed_o&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;// FRONTEND :  ID_STAGE &lt;span style=&quot;background-color: rgb(255, 153, 153);&quot;&gt;consumed, or popped&lt;/span&gt;&lt;/div&gt;" vertex="1">
          <mxGeometry height="30" width="870" y="534" as="geometry" />
        </mxCell>
        <mxCell id="YD8wXlY8oEXokaMSZj_n-270" parent="YD8wXlY8oEXokaMSZj_n-257" style="text;strokeColor=#666666;fillColor=#f5f5f5;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;html=1;fontColor=#333333;" value="&lt;div&gt;output logic replay_o&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;// FRONTEND : replay , Address  Instruction FIFO &lt;/div&gt;" vertex="1">
          <mxGeometry height="30" width="870" y="564" as="geometry" />
        </mxCell>
        <mxCell id="YD8wXlY8oEXokaMSZj_n-271" parent="YD8wXlY8oEXokaMSZj_n-257" style="text;strokeColor=#666666;fillColor=#f5f5f5;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;html=1;fontColor=#333333;" value="&lt;div&gt;output logic [CVA6Cfg.VLEN-1:0] replay_addr_o&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; // FRONTEND : fetch  replay &lt;/div&gt;" vertex="1">
          <mxGeometry height="30" width="870" y="594" as="geometry" />
        </mxCell>
        <mxCell id="YD8wXlY8oEXokaMSZj_n-272" parent="YD8wXlY8oEXokaMSZj_n-257" style="text;strokeColor=#82b366;fillColor=#d5e8d4;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;html=1;" value="&lt;div&gt;input logic [CVA6Cfg.NrIssuePorts-1:0] fetch_entry_ready_i&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; // ID_STAGE : fetch entry ready&lt;/div&gt;" vertex="1">
          <mxGeometry height="30" width="870" y="624" as="geometry" />
        </mxCell>
        <mxCell id="YD8wXlY8oEXokaMSZj_n-273" parent="YD8wXlY8oEXokaMSZj_n-257" style="text;strokeColor=#82b366;fillColor=#d5e8d4;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;html=1;" value="&lt;div&gt;output logic [CVA6Cfg.NrIssuePorts-1:0] fetch_entry_valid_o&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; // ID_STAGE : fetch entry valid&lt;/div&gt;" vertex="1">
          <mxGeometry height="30" width="870" y="654" as="geometry" />
        </mxCell>
        <mxCell id="YD8wXlY8oEXokaMSZj_n-274" parent="YD8wXlY8oEXokaMSZj_n-257" style="text;strokeColor=#82b366;fillColor=#d5e8d4;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;html=1;" value="&lt;div&gt;output fetch_entry_t [CVA6Cfg.NrIssuePorts-1:0] fetch_entry_o&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; // ID_STAGE : fetch entry &lt;/div&gt;" vertex="1">
          <mxGeometry height="30" width="870" y="684" as="geometry" />
        </mxCell>
        <mxCell id="YD8wXlY8oEXokaMSZj_n-275" edge="1" parent="1" source="YD8wXlY8oEXokaMSZj_n-227" style="endArrow=classic;html=1;rounded=0;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=0;entryY=0;entryDx=0;entryDy=0;" target="YD8wXlY8oEXokaMSZj_n-257" value="">
          <mxGeometry height="50" relative="1" width="50" as="geometry">
            <mxPoint x="5750" y="3005" as="sourcePoint" />
            <mxPoint x="6115" y="2760" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="YD8wXlY8oEXokaMSZj_n-276" parent="1" style="swimlane;fontStyle=1;align=center;verticalAlign=top;childLayout=stackLayout;horizontal=1;startSize=40;horizontalStack=0;resizeParent=1;resizeParentMax=0;resizeLast=0;collapsible=1;marginBottom=0;whiteSpace=wrap;html=1;fillColor=#0050ef;strokeColor=#001DBC;fontColor=#ffffff;" value="&lt;div style=&quot;text-align: left;&quot;&gt;Instr_scan&lt;/div&gt;&lt;div style=&quot;text-align: left;&quot;&gt;/home/ICer/proj/cva6/core/frontend/instr_scan.sv&lt;/div&gt;" vertex="1">
          <mxGeometry height="574" width="870" x="6290" y="3890" as="geometry" />
        </mxCell>
        <mxCell id="YD8wXlY8oEXokaMSZj_n-277" parent="YD8wXlY8oEXokaMSZj_n-276" style="line;strokeWidth=1;fillColor=none;align=left;verticalAlign=middle;spacingTop=-1;spacingLeft=3;spacingRight=3;rotatable=0;labelPosition=right;points=[];portConstraint=eastwest;strokeColor=inherit;" value="" vertex="1">
          <mxGeometry height="8" width="870" y="40" as="geometry" />
        </mxCell>
        <mxCell id="YD8wXlY8oEXokaMSZj_n-278" parent="YD8wXlY8oEXokaMSZj_n-276" style="text;strokeColor=default;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;html=1;" value=":&lt;br&gt;1) As compressed extension is enabled, 4 instr_scan are instantiated to handle up to 4 instructions per cycle.&lt;br&gt;2) Each instr_scan submodule pre-decodes the fetched instructions coming from the instr_realign module, also calculate the immediate, instructions could be compressed or not.&lt;div&gt;3)&amp;nbsp;&lt;span style=&quot;background-color: transparent;&quot;&gt;The instr_scan submodule is a flow controller which provides the intruction type: branch, jump, return, jalr, imm, call or others. These outputs are used by the branch prediction feature.&lt;/span&gt;&lt;br&gt;&lt;/div&gt;" vertex="1">
          <mxGeometry height="106" width="870" y="48" as="geometry" />
        </mxCell>
        <mxCell id="YD8wXlY8oEXokaMSZj_n-279" parent="YD8wXlY8oEXokaMSZj_n-276" style="text;strokeColor=#36393d;fillColor=#eeeeee;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;html=1;" value="&lt;div&gt;input logic [31:0] instr_i&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;// instr_realign  : &lt;/div&gt;" vertex="1">
          <mxGeometry height="30" width="870" y="154" as="geometry" />
        </mxCell>
        <mxCell id="YD8wXlY8oEXokaMSZj_n-280" parent="YD8wXlY8oEXokaMSZj_n-276" style="text;strokeColor=#36393d;fillColor=#eeeeee;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;html=1;" value="&lt;div&gt;output logic rvi_return_o&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;&amp;nbsp;&lt;span style=&quot;background-color: transparent; color: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));&quot;&gt;// FRONTEND  :&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;background-color: transparent;&quot;&gt;Return instruction&lt;/span&gt;&lt;/div&gt;" vertex="1">
          <mxGeometry height="30" width="870" y="184" as="geometry" />
        </mxCell>
        <mxCell id="YD8wXlY8oEXokaMSZj_n-281" parent="YD8wXlY8oEXokaMSZj_n-276" style="text;strokeColor=#36393d;fillColor=#eeeeee;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;html=1;" value="&lt;div&gt;output logic rvi_call_o&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; // FRONTEND : JAL instruction&lt;/div&gt;" vertex="1">
          <mxGeometry height="30" width="870" y="214" as="geometry" />
        </mxCell>
        <mxCell id="YD8wXlY8oEXokaMSZj_n-282" parent="YD8wXlY8oEXokaMSZj_n-276" style="text;strokeColor=#36393d;fillColor=#eeeeee;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;html=1;" value="&lt;div&gt;output logic rvi_branch_o&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; // FRONTEND : Branch instruction&lt;/div&gt;" vertex="1">
          <mxGeometry height="30" width="870" y="244" as="geometry" />
        </mxCell>
        <mxCell id="YD8wXlY8oEXokaMSZj_n-283" parent="YD8wXlY8oEXokaMSZj_n-276" style="text;strokeColor=#36393d;fillColor=#eeeeee;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;html=1;" value="&lt;div&gt;output logic rvi_jalr_o&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; // FRONTEND : JALR instruction&lt;/div&gt;" vertex="1">
          <mxGeometry height="30" width="870" y="274" as="geometry" />
        </mxCell>
        <mxCell id="YD8wXlY8oEXokaMSZj_n-284" parent="YD8wXlY8oEXokaMSZj_n-276" style="text;strokeColor=#36393d;fillColor=#eeeeee;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;html=1;" value="&lt;div&gt;output logic rvi_jump_o&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;// FRONTEND : Unconditional jump instruction&lt;/div&gt;" vertex="1">
          <mxGeometry height="30" width="870" y="304" as="geometry" />
        </mxCell>
        <mxCell id="YD8wXlY8oEXokaMSZj_n-285" parent="YD8wXlY8oEXokaMSZj_n-276" style="text;strokeColor=#36393d;fillColor=#eeeeee;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;html=1;" value="&lt;div&gt;output logic [CVA6Cfg.VLEN-1:0] rvi_imm_o&amp;nbsp; &amp;nbsp; // FRONTEND : Instruction immediate&lt;/div&gt;" vertex="1">
          <mxGeometry height="30" width="870" y="334" as="geometry" />
        </mxCell>
        <mxCell id="YD8wXlY8oEXokaMSZj_n-286" parent="YD8wXlY8oEXokaMSZj_n-276" style="text;strokeColor=#36393d;fillColor=#eeeeee;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;html=1;" value="&lt;div&gt;output logic rvc_return_o&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;// FRONTEND : Return compressed instruction&lt;/div&gt;" vertex="1">
          <mxGeometry height="30" width="870" y="364" as="geometry" />
        </mxCell>
        <mxCell id="YD8wXlY8oEXokaMSZj_n-287" parent="YD8wXlY8oEXokaMSZj_n-276" style="text;strokeColor=#36393d;fillColor=#eeeeee;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;html=1;" value="&lt;div&gt;output logic rvc_call_o&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;// FRONTEND : JAL compressed instruction&lt;/div&gt;" vertex="1">
          <mxGeometry height="30" width="870" y="394" as="geometry" />
        </mxCell>
        <mxCell id="YD8wXlY8oEXokaMSZj_n-288" parent="YD8wXlY8oEXokaMSZj_n-276" style="text;strokeColor=#36393d;fillColor=#eeeeee;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;html=1;" value="&lt;div&gt;output logic rvc_branch_o&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;// FRONTEND : Branch compressed instruction&lt;/div&gt;" vertex="1">
          <mxGeometry height="30" width="870" y="424" as="geometry" />
        </mxCell>
        <mxCell id="YD8wXlY8oEXokaMSZj_n-289" parent="YD8wXlY8oEXokaMSZj_n-276" style="text;strokeColor=#36393d;fillColor=#eeeeee;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;html=1;" value="&lt;div&gt;output logic rvc_jalr_o&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;// FRONTEND : JALR compressed instruction&lt;/div&gt;" vertex="1">
          <mxGeometry height="30" width="870" y="454" as="geometry" />
        </mxCell>
        <mxCell id="YD8wXlY8oEXokaMSZj_n-290" parent="YD8wXlY8oEXokaMSZj_n-276" style="text;strokeColor=#36393d;fillColor=#eeeeee;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;html=1;" value="&lt;div&gt;output logic rvc_jr_o&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;// FRONTEND : &lt;span style=&quot;background-color: rgb(255, 153, 153);&quot;&gt;JR compressed instruction&lt;/span&gt;&lt;/div&gt;" vertex="1">
          <mxGeometry height="30" width="870" y="484" as="geometry" />
        </mxCell>
        <mxCell id="YD8wXlY8oEXokaMSZj_n-291" parent="YD8wXlY8oEXokaMSZj_n-276" style="text;strokeColor=#36393d;fillColor=#eeeeee;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;html=1;" value="&lt;div&gt;output logic rvc_jump_o&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; // FRONTEND : Unconditional jump compressed instruction&lt;/div&gt;" vertex="1">
          <mxGeometry height="30" width="870" y="514" as="geometry" />
        </mxCell>
        <mxCell id="YD8wXlY8oEXokaMSZj_n-292" parent="YD8wXlY8oEXokaMSZj_n-276" style="text;strokeColor=#36393d;fillColor=#eeeeee;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;html=1;" value="&lt;div&gt;output logic [CVA6Cfg.VLEN-1:0] rvc_imm_o&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; // FRONTEND : Instruction compressed immediate&lt;/div&gt;" vertex="1">
          <mxGeometry height="30" width="870" y="544" as="geometry" />
        </mxCell>
        <mxCell id="YD8wXlY8oEXokaMSZj_n-293" edge="1" parent="1" source="YD8wXlY8oEXokaMSZj_n-228" style="endArrow=classic;html=1;rounded=0;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=0;entryY=0;entryDx=0;entryDy=0;" target="YD8wXlY8oEXokaMSZj_n-276" value="">
          <mxGeometry height="50" relative="1" width="50" as="geometry">
            <mxPoint x="5560" y="3060" as="sourcePoint" />
            <mxPoint x="5925" y="3245" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="YD8wXlY8oEXokaMSZj_n-294" parent="1" style="swimlane;fontStyle=1;align=center;verticalAlign=top;childLayout=stackLayout;horizontal=1;startSize=40;horizontalStack=0;resizeParent=1;resizeParentMax=0;resizeLast=0;collapsible=1;marginBottom=0;whiteSpace=wrap;html=1;fillColor=#0050ef;strokeColor=#001DBC;fontColor=#ffffff;" value="&lt;div style=&quot;text-align: left;&quot;&gt;BHT (Branch History Table)&lt;br&gt;/home/ICer/proj/cva6/core/frontend/bht.sv&lt;/div&gt;" vertex="1">
          <mxGeometry height="444" width="870" x="6360" y="4560" as="geometry" />
        </mxCell>
        <mxCell id="YD8wXlY8oEXokaMSZj_n-295" parent="YD8wXlY8oEXokaMSZj_n-294" style="line;strokeWidth=1;fillColor=none;align=left;verticalAlign=middle;spacingTop=-1;spacingLeft=3;spacingRight=3;rotatable=0;labelPosition=right;points=[];portConstraint=eastwest;strokeColor=inherit;" value="" vertex="1">
          <mxGeometry height="8" width="870" y="40" as="geometry" />
        </mxCell>
        <mxCell id="YD8wXlY8oEXokaMSZj_n-296" parent="YD8wXlY8oEXokaMSZj_n-294" style="text;strokeColor=default;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;html=1;" value=":&lt;br&gt;1)&amp;nbsp;&lt;span style=&quot;background-color: transparent;&quot;&gt;The BHT is implemented as a memory which is composed of 32 entries. The BHT is a two-dimensional table:&lt;/span&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; 1.1 The first dimension represents the access address, with a length equal to 32 / 4.&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; 1.2 The second dimension represents the row index, with a length equal to 4.&lt;/div&gt;&lt;div&gt;2) Two distinct branches with different addresses can share the same BHT entry if they have the same ACCESS_ADDRESS.&lt;br&gt;&lt;span style=&quot;background-color: transparent;&quot;&gt;&amp;nbsp; &amp;nbsp; In the case of branch prediction, the BHT uses only part of the virtual address to get the value of the saturation counter.&amp;nbsp;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; In the case of a valid misprediction, the BHT uses only part of the misprediction address to access the BHT table and update the saturation counter.&lt;/div&gt;&lt;div&gt;3)&amp;nbsp;Each BHT entry contains a two-bit saturating counter and a valid bit.&lt;br&gt;&amp;nbsp; &amp;nbsp; 3.1&amp;nbsp;On reset, the counters are set to 0 (strongly not taken) and the valid bits are cleared.&amp;nbsp;&lt;br&gt;&amp;nbsp; &amp;nbsp; 3.2&amp;nbsp;When a branch instruction is resolved by the EX_STAGE module, the valid bit is set and the counter is updated.&lt;br&gt;&amp;nbsp; &amp;nbsp; 3.3&amp;nbsp;The two bit counter is updated by the successive execution of the instructions as shown in the following figure.&lt;br&gt;4)&amp;nbsp;When a branch instruction is pre-decoded by instr_scan submodule, the BHT valids whether the PC address is inside the BHT and provides the taken or not prediction.&amp;nbsp;&lt;br&gt;&amp;nbsp; &amp;nbsp; 4.1&amp;nbsp;The prediction is the most significant bit from the counter, where 1 means &quot;taken&quot;.&lt;br&gt;&amp;nbsp; &amp;nbsp; 4.2&amp;nbsp;When the &lt;span style=&quot;background-color: rgb(213, 232, 212);&quot;&gt;Execute stage&lt;/span&gt; processes a branch instruction, it sends the branch status (whether its taken or not) to the &lt;span style=&quot;background-color: rgb(213, 232, 212);&quot;&gt;Frontend&lt;/span&gt; to update the BHT table.&lt;br&gt;5)&amp;nbsp;The BHT is never flushed.&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;" vertex="1">
          <mxGeometry height="246" width="870" y="48" as="geometry" />
        </mxCell>
        <mxCell id="YD8wXlY8oEXokaMSZj_n-297" parent="YD8wXlY8oEXokaMSZj_n-294" style="text;strokeColor=#36393d;fillColor=#eeeeee;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;html=1;" value="&lt;div&gt;input logic flush_bp_i&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;// Branch prediction flush request - zero (TIE `0)&lt;/div&gt;" vertex="1">
          <mxGeometry height="30" width="870" y="294" as="geometry" />
        </mxCell>
        <mxCell id="YD8wXlY8oEXokaMSZj_n-298" parent="YD8wXlY8oEXokaMSZj_n-294" style="text;strokeColor=#82b366;fillColor=#d5e8d4;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;html=1;" value="&lt;div&gt;input logic debug_mode_i&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &lt;span style=&quot;background-color: transparent; color: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));&quot;&gt;// CSR  :&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;background-color: transparent;&quot;&gt;Debug mode state&lt;/span&gt;&lt;/div&gt;" vertex="1">
          <mxGeometry height="30" width="870" y="324" as="geometry" />
        </mxCell>
        <mxCell id="YD8wXlY8oEXokaMSZj_n-299" parent="YD8wXlY8oEXokaMSZj_n-294" style="text;strokeColor=#82b366;fillColor=#d5e8d4;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;html=1;" value="&lt;div&gt;input logic [CVA6Cfg.VLEN-1:0] vpc_i&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;// CACHE : Virtual PC&lt;/div&gt;" vertex="1">
          <mxGeometry height="30" width="870" y="354" as="geometry" />
        </mxCell>
        <mxCell id="YD8wXlY8oEXokaMSZj_n-300" parent="YD8wXlY8oEXokaMSZj_n-294" style="text;strokeColor=#b85450;fillColor=#f8cecc;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;html=1;" value="&lt;div&gt;input bht_update_i bht_update_i&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; // EXECUTE : Update bht with resolved address&amp;nbsp;&lt;/div&gt;" vertex="1">
          <mxGeometry height="30" width="870" y="384" as="geometry" />
        </mxCell>
        <mxCell id="YD8wXlY8oEXokaMSZj_n-301" parent="YD8wXlY8oEXokaMSZj_n-294" style="text;strokeColor=#36393d;fillColor=#eeeeee;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;html=1;" value="&lt;div&gt;output ariane_pkg::bht_prediction_t [CVA6Cfg.INSTR_PER_FETCH-1:0] bht_prediction_o&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; // FRONTEND : Prediction from bht&lt;/div&gt;" vertex="1">
          <mxGeometry height="30" width="870" y="414" as="geometry" />
        </mxCell>
        <mxCell id="YD8wXlY8oEXokaMSZj_n-302" edge="1" parent="1" source="YD8wXlY8oEXokaMSZj_n-229" style="endArrow=classic;html=1;rounded=0;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=0;entryY=0;entryDx=0;entryDy=0;" target="YD8wXlY8oEXokaMSZj_n-294" value="">
          <mxGeometry height="50" relative="1" width="50" as="geometry">
            <mxPoint x="5930" y="3700" as="sourcePoint" />
            <mxPoint x="6765" y="4365" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="YD8wXlY8oEXokaMSZj_n-303" parent="1" style="swimlane;fontStyle=1;align=center;verticalAlign=top;childLayout=stackLayout;horizontal=1;startSize=40;horizontalStack=0;resizeParent=1;resizeParentMax=0;resizeLast=0;collapsible=1;marginBottom=0;whiteSpace=wrap;html=1;fillColor=#0050ef;strokeColor=#001DBC;fontColor=#ffffff;" value="&lt;div style=&quot;text-align: left;&quot;&gt;RAS (Return Address Stack)&lt;br&gt;/home/ICer/proj/cva6/core/frontend/ras.sv&lt;/div&gt;" vertex="1">
          <mxGeometry height="290" width="870" x="6360" y="5140" as="geometry" />
        </mxCell>
        <mxCell id="YD8wXlY8oEXokaMSZj_n-304" parent="YD8wXlY8oEXokaMSZj_n-303" style="line;strokeWidth=1;fillColor=none;align=left;verticalAlign=middle;spacingTop=-1;spacingLeft=3;spacingRight=3;rotatable=0;labelPosition=right;points=[];portConstraint=eastwest;strokeColor=inherit;" value="" vertex="1">
          <mxGeometry height="8" width="870" y="40" as="geometry" />
        </mxCell>
        <mxCell id="YD8wXlY8oEXokaMSZj_n-305" parent="YD8wXlY8oEXokaMSZj_n-303" style="text;strokeColor=default;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;html=1;" value=":&lt;br&gt;1) RAS is implemented as a LIFO which is composed of 2 entries.&lt;div&gt;2)&amp;nbsp;&lt;span style=&quot;background-color: transparent;&quot;&gt;When a &quot;call&quot; JAL instruction (rd = x1 or x5) is added to the instruction queue, the PC of the instruction following the JAL instruction is pushed into the stack.&lt;/span&gt;&lt;/div&gt;&lt;div&gt;3) When a &quot;ret&quot; JALR instruction (rs1 = x1 or x5, and rd != rs1) is added to the instruction queue, the predicted return address is popped from the stack.&amp;nbsp;&lt;br&gt;4)&amp;nbsp;If the predicted return address is wrong due for instance to speculation or RAS depth limitation, a mispredict will be generated.&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;" vertex="1">
          <mxGeometry height="92" width="870" y="48" as="geometry" />
        </mxCell>
        <mxCell id="YD8wXlY8oEXokaMSZj_n-306" parent="YD8wXlY8oEXokaMSZj_n-303" style="text;strokeColor=#36393d;fillColor=#eeeeee;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;html=1;" value="&lt;div&gt;input logic flush_bp_i&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; // Branch prediction flush request - zero (TIE `0)&lt;/div&gt;" vertex="1">
          <mxGeometry height="30" width="870" y="140" as="geometry" />
        </mxCell>
        <mxCell id="YD8wXlY8oEXokaMSZj_n-307" parent="YD8wXlY8oEXokaMSZj_n-303" style="text;strokeColor=#666666;fillColor=#f5f5f5;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;html=1;fontColor=#333333;" value="&lt;div&gt;input logic push_i&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;&lt;span style=&quot;background-color: transparent; color: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));&quot;&gt;// FRONTEND  :&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;background-color: transparent;&quot;&gt;Push address in RAS&lt;/span&gt;&lt;/div&gt;" vertex="1">
          <mxGeometry height="30" width="870" y="170" as="geometry" />
        </mxCell>
        <mxCell id="YD8wXlY8oEXokaMSZj_n-308" parent="YD8wXlY8oEXokaMSZj_n-303" style="text;strokeColor=#666666;fillColor=#f5f5f5;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;html=1;fontColor=#333333;" value="&lt;div&gt;input logic pop_i&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;&lt;span style=&quot;background-color: transparent; color: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));&quot;&gt;// FRONTEND  :&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;background-color: transparent;&quot;&gt;Pop address from RAS&lt;/span&gt;&lt;/div&gt;" vertex="1">
          <mxGeometry height="30" width="870" y="200" as="geometry" />
        </mxCell>
        <mxCell id="YD8wXlY8oEXokaMSZj_n-309" parent="YD8wXlY8oEXokaMSZj_n-303" style="text;strokeColor=#666666;fillColor=#f5f5f5;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;html=1;fontColor=#333333;" value="&lt;div&gt;input logic [CVA6Cfg.VLEN-1:0] data_i&amp;nbsp; &amp;nbsp; // FRONTEND&amp;nbsp;: Data to be pushed&amp;nbsp;&lt;/div&gt;" vertex="1">
          <mxGeometry height="30" width="870" y="230" as="geometry" />
        </mxCell>
        <mxCell id="YD8wXlY8oEXokaMSZj_n-310" parent="YD8wXlY8oEXokaMSZj_n-303" style="text;strokeColor=#36393d;fillColor=#eeeeee;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;html=1;" value="&lt;div&gt;output ras_t data_o&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; // FRONTEND :&amp;nbsp;Popped data&lt;/div&gt;" vertex="1">
          <mxGeometry height="30" width="870" y="260" as="geometry" />
        </mxCell>
        <mxCell id="YD8wXlY8oEXokaMSZj_n-311" edge="1" parent="1" source="YD8wXlY8oEXokaMSZj_n-231" style="endArrow=classic;html=1;rounded=0;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=0;entryY=0;entryDx=0;entryDy=0;" target="YD8wXlY8oEXokaMSZj_n-303" value="">
          <mxGeometry height="50" relative="1" width="50" as="geometry">
            <mxPoint x="6240" y="4520" as="sourcePoint" />
            <mxPoint x="7145" y="5785" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="YD8wXlY8oEXokaMSZj_n-312" parent="1" style="html=1;whiteSpace=wrap;align=left;verticalAlign=top;movable=0;resizable=0;rotatable=0;deletable=0;editable=0;locked=1;connectable=0;" value="&lt;font style=&quot;font-size: 48px;&quot;&gt;&amp;nbsp;&amp;nbsp;&lt;/font&gt;&lt;div&gt;&lt;font style=&quot;font-size: 48px;&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; Design / ID STAGE&lt;/font&gt;&lt;/div&gt;" vertex="1">
          <mxGeometry height="3120" width="2170" x="7900" y="1240" as="geometry" />
        </mxCell>
        <mxCell id="YD8wXlY8oEXokaMSZj_n-313" parent="1" style="swimlane;fontStyle=1;align=center;verticalAlign=top;childLayout=stackLayout;horizontal=1;startSize=40;horizontalStack=0;resizeParent=1;resizeParentMax=0;resizeLast=0;collapsible=1;marginBottom=0;whiteSpace=wrap;html=1;fillColor=#0050ef;strokeColor=#001DBC;fontColor=#ffffff;" value="&lt;span style=&quot;text-align: left;&quot;&gt;ID STAGE&lt;/span&gt;&lt;div&gt;&lt;span style=&quot;text-align: left;&quot;&gt;/home/ICer/proj/cva6/core/id_stage.sv&lt;/span&gt;&lt;span style=&quot;text-align: left;&quot;&gt;&lt;/span&gt;&lt;/div&gt;" vertex="1">
          <mxGeometry height="390" width="710" x="8130" y="2380" as="geometry" />
        </mxCell>
        <mxCell id="YD8wXlY8oEXokaMSZj_n-314" parent="YD8wXlY8oEXokaMSZj_n-313" style="line;strokeWidth=1;fillColor=none;align=left;verticalAlign=middle;spacingTop=-1;spacingLeft=3;spacingRight=3;rotatable=0;labelPosition=right;points=[];portConstraint=eastwest;strokeColor=inherit;" value="" vertex="1">
          <mxGeometry height="8" width="710" y="40" as="geometry" />
        </mxCell>
        <mxCell id="YD8wXlY8oEXokaMSZj_n-315" parent="YD8wXlY8oEXokaMSZj_n-313" style="text;strokeColor=default;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;html=1;" value="COMPRESS DECODER" vertex="1">
          <mxGeometry height="70" width="710" y="48" as="geometry" />
        </mxCell>
        <mxCell id="YD8wXlY8oEXokaMSZj_n-316" parent="YD8wXlY8oEXokaMSZj_n-313" style="text;strokeColor=default;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;html=1;" value="DECODER" vertex="1">
          <mxGeometry height="66" width="710" y="118" as="geometry" />
        </mxCell>
        <mxCell id="YD8wXlY8oEXokaMSZj_n-317" parent="YD8wXlY8oEXokaMSZj_n-313" style="text;strokeColor=#b85450;fillColor=#f8cecc;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;html=1;" value="&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;// ------------------&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;// 3. Pipeline Register&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;// ------------------&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;for (genvar i = 0; i &amp;lt; CVA6Cfg.NrIssuePorts; i++) begin&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp; assign issue_entry_o[i] = issue_q[i].sbe;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp; assign issue_entry_o_prev[i] = CVA6Cfg.FpgaAlteraEn ? issue_n[i].sbe : &#39;0;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp; &lt;span style=&quot;background-color: rgb(0, 204, 0);&quot;&gt;assign issue_entry_valid_o[i] = issue_q[i].valid;&lt;/span&gt;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp; assign is_ctrl_flow_o[i] = issue_q[i].is_ctrl_flow;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp; assign orig_instr_o[i] = issue_q[i].orig_instr;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;end&lt;/span&gt;&lt;/div&gt;" vertex="1">
          <mxGeometry height="176" width="710" y="184" as="geometry" />
        </mxCell>
        <mxCell id="YD8wXlY8oEXokaMSZj_n-318" parent="YD8wXlY8oEXokaMSZj_n-313" style="text;strokeColor=#005700;fillColor=#008a00;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;html=1;fontColor=#ffffff;fontStyle=1" value="&lt;div&gt;output logic [CVA6Cfg.NrIssuePorts-1:0] rvfi_is_compressed_o&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; // RVFI :&amp;nbsp;Information dedicated to RVFI&lt;/div&gt;" vertex="1">
          <mxGeometry height="30" width="710" y="360" as="geometry" />
        </mxCell>
        <mxCell id="YD8wXlY8oEXokaMSZj_n-319" parent="1" style="swimlane;fontStyle=1;align=center;verticalAlign=top;childLayout=stackLayout;horizontal=1;startSize=40;horizontalStack=0;resizeParent=1;resizeParentMax=0;resizeLast=0;collapsible=1;marginBottom=0;whiteSpace=wrap;html=1;fillColor=#0050ef;strokeColor=#001DBC;fontColor=#ffffff;" value="&lt;span style=&quot;text-align: left;&quot;&gt;DECODER&lt;br&gt;/home/ICer/proj/cva6/core/decoder.sv&lt;/span&gt;" vertex="1">
          <mxGeometry height="1120" width="660" x="9190" y="2520" as="geometry" />
        </mxCell>
        <mxCell id="YD8wXlY8oEXokaMSZj_n-320" parent="YD8wXlY8oEXokaMSZj_n-319" style="line;strokeWidth=1;fillColor=none;align=left;verticalAlign=middle;spacingTop=-1;spacingLeft=3;spacingRight=3;rotatable=0;labelPosition=right;points=[];portConstraint=eastwest;strokeColor=inherit;" value="" vertex="1">
          <mxGeometry height="8" width="660" y="40" as="geometry" />
        </mxCell>
        <mxCell id="YD8wXlY8oEXokaMSZj_n-321" parent="YD8wXlY8oEXokaMSZj_n-319" style="text;strokeColor=default;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;html=1;" value=":&lt;div&gt;&lt;div&gt;The decoder module takes the output of compressed_decoder module and decodes it.&amp;nbsp;&lt;/div&gt;&lt;div&gt;It transforms the instruction to the most fundamental control structure in pipeline, a scoreboard entry.&lt;br&gt;1)&amp;nbsp;&lt;span style=&quot;background-color: transparent;&quot;&gt;The &lt;/span&gt;&lt;span style=&quot;background-color: rgb(213, 232, 212);&quot;&gt;scoreboard entry&lt;/span&gt;&lt;span style=&quot;background-color: transparent;&quot;&gt; contains an exception entry which is composed of a valid field, a cause and a value called TVAL.&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;background-color: transparent; color: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));&quot;&gt;As TVALEn configuration parameter is zero, the TVAL field is not implemented.&lt;br&gt;2)&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;background-color: transparent;&quot;&gt;A potential illegal instruction exception can be detected during decoding.&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;background-color: transparent; color: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));&quot;&gt;If no exception has happened previously in fetch stage, the decoder will valid the exception and add the cause and tval value to the scoreboard entry.&lt;/span&gt;&lt;/div&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;background-color: transparent; color: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));&quot;&gt;3)&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;background-color: transparent;&quot;&gt;A potential interrupt can be sent to the decoder.&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;background-color: transparent; color: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));&quot;&gt;If no exception has happened previously in fetch stage, the exception is inserted to into the scoreboard entry.&lt;/span&gt;&lt;/div&gt;" vertex="1">
          <mxGeometry height="162" width="660" y="48" as="geometry" />
        </mxCell>
        <mxCell id="YD8wXlY8oEXokaMSZj_n-322" parent="YD8wXlY8oEXokaMSZj_n-319" style="text;strokeColor=#666666;fillColor=#f5f5f5;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;html=1;fontColor=#333333;" value="&lt;div&gt;input logic debug_req_i&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;// SUBSYSTEM  : Debug (async) request&lt;/div&gt;" vertex="1">
          <mxGeometry height="30" width="660" y="210" as="geometry" />
        </mxCell>
        <mxCell id="YD8wXlY8oEXokaMSZj_n-323" parent="YD8wXlY8oEXokaMSZj_n-319" style="text;strokeColor=#666666;fillColor=#f5f5f5;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;html=1;fontColor=#333333;" value="&lt;div&gt;input logic [1:0] irq_i&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; // SUBSYSTEM&amp;nbsp; :&amp;nbsp;Level sensitive (async) interrupts&lt;/div&gt;" vertex="1">
          <mxGeometry height="30" width="660" y="240" as="geometry" />
        </mxCell>
        <mxCell id="YD8wXlY8oEXokaMSZj_n-324" parent="YD8wXlY8oEXokaMSZj_n-319" style="text;strokeColor=#6c8ebf;fillColor=#dae8fc;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;html=1;" value="&lt;div&gt;input logic [CVA6Cfg.VLEN-1:0] pc_i&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;// FRONTEND  : PC from fetch stage&lt;/div&gt;" vertex="1">
          <mxGeometry height="30" width="660" y="270" as="geometry" />
        </mxCell>
        <mxCell id="YD8wXlY8oEXokaMSZj_n-325" parent="YD8wXlY8oEXokaMSZj_n-319" style="text;strokeColor=#6c8ebf;fillColor=#dae8fc;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;html=1;" value="&lt;div&gt;input logic [15:0] compressed_instr_i&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;// FRONTEND  : Compressed form of instruction&lt;/div&gt;" vertex="1">
          <mxGeometry height="30" width="660" y="300" as="geometry" />
        </mxCell>
        <mxCell id="YD8wXlY8oEXokaMSZj_n-326" parent="YD8wXlY8oEXokaMSZj_n-319" style="text;strokeColor=#6c8ebf;fillColor=#dae8fc;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;html=1;" value="&lt;div&gt;input logic [31:0] instruction_i&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;// FRONTEND  : Instruction from fetch stage&lt;/div&gt;" vertex="1">
          <mxGeometry height="30" width="660" y="330" as="geometry" />
        </mxCell>
        <mxCell id="YD8wXlY8oEXokaMSZj_n-327" parent="YD8wXlY8oEXokaMSZj_n-319" style="text;strokeColor=#6c8ebf;fillColor=#dae8fc;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;html=1;" value="&lt;div&gt;input logic is_zcmt_i&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;// FRONTEND  : Zcmt instruction&lt;/div&gt;" vertex="1">
          <mxGeometry height="30" width="660" y="360" as="geometry" />
        </mxCell>
        <mxCell id="YD8wXlY8oEXokaMSZj_n-328" parent="YD8wXlY8oEXokaMSZj_n-319" style="text;strokeColor=#6c8ebf;fillColor=#dae8fc;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;html=1;" value="&lt;div&gt;input branchpredict_sbe_t branch_predict_i&amp;nbsp; // FRONTEND  : Is a branch predict instruction&lt;/div&gt;" vertex="1">
          <mxGeometry height="30" width="660" y="390" as="geometry" />
        </mxCell>
        <mxCell id="YD8wXlY8oEXokaMSZj_n-329" parent="YD8wXlY8oEXokaMSZj_n-319" style="text;strokeColor=#6c8ebf;fillColor=#dae8fc;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;html=1;" value="&lt;div&gt;input exception_t ex_i&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; // FRONTEND  : If an exception occurred in fetch stage&lt;/div&gt;" vertex="1">
          <mxGeometry height="30" width="660" y="420" as="geometry" />
        </mxCell>
        <mxCell id="YD8wXlY8oEXokaMSZj_n-330" parent="YD8wXlY8oEXokaMSZj_n-319" style="text;strokeColor=#666666;fillColor=#f5f5f5;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;html=1;fontColor=#333333;" value="&lt;div&gt;input logic is_compressed_i&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; // compressed_decoder  :&amp;nbsp;Is a compressed instruction&lt;/div&gt;" vertex="1">
          <mxGeometry height="30" width="660" y="450" as="geometry" />
        </mxCell>
        <mxCell id="YD8wXlY8oEXokaMSZj_n-331" parent="YD8wXlY8oEXokaMSZj_n-319" style="text;strokeColor=#666666;fillColor=#f5f5f5;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;html=1;fontColor=#333333;" value="&lt;div&gt;input logic is_illegal_i&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; // compressed_decoder  :&amp;nbsp;Illegal compressed instruction&lt;/div&gt;" vertex="1">
          <mxGeometry height="30" width="660" y="480" as="geometry" />
        </mxCell>
        <mxCell id="YD8wXlY8oEXokaMSZj_n-332" parent="YD8wXlY8oEXokaMSZj_n-319" style="text;strokeColor=#666666;fillColor=#f5f5f5;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;html=1;fontColor=#333333;" value="&lt;div&gt;input logic is_macro_instr_i&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; // macro_decoder  :&amp;nbsp;&lt;span style=&quot;background-color: rgb(255, 153, 153);&quot;&gt;Is a macro instruction&lt;/span&gt;&lt;/div&gt;" vertex="1">
          <mxGeometry height="30" width="660" y="510" as="geometry" />
        </mxCell>
        <mxCell id="YD8wXlY8oEXokaMSZj_n-333" parent="YD8wXlY8oEXokaMSZj_n-319" style="text;strokeColor=#666666;fillColor=#f5f5f5;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;html=1;fontColor=#333333;" value="&lt;div&gt;input logic is_last_macro_instr_i&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; // macro_decoder  :&amp;nbsp;Is a last macro instruction&lt;/div&gt;" vertex="1">
          <mxGeometry height="30" width="660" y="540" as="geometry" />
        </mxCell>
        <mxCell id="YD8wXlY8oEXokaMSZj_n-334" parent="YD8wXlY8oEXokaMSZj_n-319" style="text;strokeColor=#666666;fillColor=#f5f5f5;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;html=1;fontColor=#333333;" value="&lt;div&gt;input logic is_double_rd_macro_instr_i&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; // macro_decoder  :&amp;nbsp;&lt;span style=&quot;background-color: rgb(255, 153, 153);&quot;&gt;Is mvsa01/mva01s macro instruction&lt;/span&gt;&lt;/div&gt;" vertex="1">
          <mxGeometry height="30" width="660" y="570" as="geometry" />
        </mxCell>
        <mxCell id="YD8wXlY8oEXokaMSZj_n-335" parent="YD8wXlY8oEXokaMSZj_n-319" style="text;strokeColor=#666666;fillColor=#f5f5f5;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;html=1;fontColor=#333333;" value="&lt;div&gt;input logic [CVA6Cfg.XLEN-1:0] jump_address_i&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;// zcmt_decoder  :&amp;nbsp;Jump address&lt;/div&gt;" vertex="1">
          <mxGeometry height="30" width="660" y="600" as="geometry" />
        </mxCell>
        <mxCell id="YD8wXlY8oEXokaMSZj_n-336" parent="YD8wXlY8oEXokaMSZj_n-319" style="text;strokeColor=#82b366;fillColor=#d5e8d4;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;html=1;" value="&lt;div&gt;input irq_ctrl_t irq_ctrl_i&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; // CSR_REGFILE  :&amp;nbsp;Interrupt control status&lt;/div&gt;" vertex="1">
          <mxGeometry height="30" width="660" y="630" as="geometry" />
        </mxCell>
        <mxCell id="YD8wXlY8oEXokaMSZj_n-337" parent="YD8wXlY8oEXokaMSZj_n-319" style="text;strokeColor=#82b366;fillColor=#d5e8d4;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;html=1;" value="&lt;div&gt;input riscv::priv_lvl_t priv_lvl_i&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;// CSR_REGFILE  :&amp;nbsp;Current privilege level&lt;/div&gt;" vertex="1">
          <mxGeometry height="30" width="660" y="660" as="geometry" />
        </mxCell>
        <mxCell id="YD8wXlY8oEXokaMSZj_n-338" parent="YD8wXlY8oEXokaMSZj_n-319" style="text;strokeColor=#82b366;fillColor=#d5e8d4;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;html=1;" value="&lt;div&gt;input logic v_i&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;// CSR_REGFILE  :&amp;nbsp;Current virtualization mode&lt;/div&gt;" vertex="1">
          <mxGeometry height="30" width="660" y="690" as="geometry" />
        </mxCell>
        <mxCell id="YD8wXlY8oEXokaMSZj_n-339" parent="YD8wXlY8oEXokaMSZj_n-319" style="text;strokeColor=#82b366;fillColor=#d5e8d4;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;html=1;" value="&lt;div&gt;input logic debug_mode_i&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; // CSR_REGFILE  :&amp;nbsp;Is debug mode&lt;/div&gt;" vertex="1">
          <mxGeometry height="30" width="660" y="720" as="geometry" />
        </mxCell>
        <mxCell id="YD8wXlY8oEXokaMSZj_n-340" parent="YD8wXlY8oEXokaMSZj_n-319" style="text;strokeColor=#82b366;fillColor=#d5e8d4;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;html=1;" value="&lt;div&gt;input riscv::xs_t fs_i&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; // CSR_REGFILE  :&amp;nbsp;Floating point extension status&lt;/div&gt;" vertex="1">
          <mxGeometry height="30" width="660" y="750" as="geometry" />
        </mxCell>
        <mxCell id="YD8wXlY8oEXokaMSZj_n-341" parent="YD8wXlY8oEXokaMSZj_n-319" style="text;strokeColor=#82b366;fillColor=#d5e8d4;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;html=1;" value="&lt;div&gt;input riscv::xs_t vfs_i&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; // CSR_REGFILE  :&amp;nbsp;Virtual floating point extension status&lt;/div&gt;" vertex="1">
          <mxGeometry height="30" width="660" y="780" as="geometry" />
        </mxCell>
        <mxCell id="YD8wXlY8oEXokaMSZj_n-342" parent="YD8wXlY8oEXokaMSZj_n-319" style="text;strokeColor=#82b366;fillColor=#d5e8d4;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;html=1;" value="&lt;div&gt;input logic [2:0] frm_i&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; // CSR_REGFILE  :&amp;nbsp;Floating-point dynamic rounding mode&lt;/div&gt;" vertex="1">
          <mxGeometry height="30" width="660" y="810" as="geometry" />
        </mxCell>
        <mxCell id="YD8wXlY8oEXokaMSZj_n-343" parent="YD8wXlY8oEXokaMSZj_n-319" style="text;strokeColor=#82b366;fillColor=#d5e8d4;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;html=1;" value="&lt;div&gt;input riscv::xs_t vs_i&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;// CSR_REGFILE  :&amp;nbsp;Vector extension status&lt;/div&gt;" vertex="1">
          <mxGeometry height="30" width="660" y="840" as="geometry" />
        </mxCell>
        <mxCell id="YD8wXlY8oEXokaMSZj_n-344" parent="YD8wXlY8oEXokaMSZj_n-319" style="text;strokeColor=#82b366;fillColor=#d5e8d4;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;html=1;" value="&lt;div&gt;input logic tvm_i&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;// CSR_REGFILE  :&amp;nbsp;Trap virtual memory&lt;/div&gt;" vertex="1">
          <mxGeometry height="30" width="660" y="870" as="geometry" />
        </mxCell>
        <mxCell id="YD8wXlY8oEXokaMSZj_n-345" parent="YD8wXlY8oEXokaMSZj_n-319" style="text;strokeColor=#82b366;fillColor=#d5e8d4;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;html=1;" value="&lt;div&gt;input logic tw_i&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;// CSR_REGFILE  :&amp;nbsp;Timeout wait&lt;/div&gt;" vertex="1">
          <mxGeometry height="30" width="660" y="900" as="geometry" />
        </mxCell>
        <mxCell id="YD8wXlY8oEXokaMSZj_n-346" parent="YD8wXlY8oEXokaMSZj_n-319" style="text;strokeColor=#82b366;fillColor=#d5e8d4;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;html=1;" value="&lt;div&gt;input logic vtw_i&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; // CSR_REGFILE  :&amp;nbsp;Virtual timeout wait&lt;/div&gt;" vertex="1">
          <mxGeometry height="30" width="660" y="930" as="geometry" />
        </mxCell>
        <mxCell id="YD8wXlY8oEXokaMSZj_n-347" parent="YD8wXlY8oEXokaMSZj_n-319" style="text;strokeColor=#82b366;fillColor=#d5e8d4;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;html=1;" value="&lt;div&gt;input logic tsr_i&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;// CSR_REGFILE  :&amp;nbsp;Trap sret&lt;/div&gt;" vertex="1">
          <mxGeometry height="30" width="660" y="960" as="geometry" />
        </mxCell>
        <mxCell id="YD8wXlY8oEXokaMSZj_n-348" parent="YD8wXlY8oEXokaMSZj_n-319" style="text;strokeColor=#82b366;fillColor=#d5e8d4;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;html=1;" value="&lt;div&gt;input logic hu_i&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;// CSR_REGFILE  :&amp;nbsp;Hypervisor user mode&lt;/div&gt;" vertex="1">
          <mxGeometry height="30" width="660" y="990" as="geometry" />
        </mxCell>
        <mxCell id="YD8wXlY8oEXokaMSZj_n-349" parent="YD8wXlY8oEXokaMSZj_n-319" style="text;strokeColor=#d6b656;fillColor=#fff2cc;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;html=1;" value="&lt;div&gt;output scoreboard_entry_t instruction_o&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; // ISSUE_STAGE :&amp;nbsp;Instruction to be added to scoreboard entry&lt;/div&gt;" vertex="1">
          <mxGeometry height="30" width="660" y="1020" as="geometry" />
        </mxCell>
        <mxCell id="YD8wXlY8oEXokaMSZj_n-350" parent="YD8wXlY8oEXokaMSZj_n-319" style="text;strokeColor=#d6b656;fillColor=#fff2cc;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;html=1;" value="&lt;div&gt;output logic [31:0] orig_instr_o&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;// ISSUE_STAGE&amp;nbsp; :&amp;nbsp;Instruction&lt;/div&gt;" vertex="1">
          <mxGeometry height="30" width="660" y="1050" as="geometry" />
        </mxCell>
        <mxCell id="YD8wXlY8oEXokaMSZj_n-351" parent="YD8wXlY8oEXokaMSZj_n-319" style="text;strokeColor=#d6b656;fillColor=#fff2cc;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;html=1;" value="&lt;div&gt;output logic is_control_flow_instr_o&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;// ISSUE_STAGE&amp;nbsp; :&amp;nbsp;Is a control flow instruction&lt;br&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;Branch, Jump  accelerator  flow instr&lt;/div&gt;" vertex="1">
          <mxGeometry height="40" width="660" y="1080" as="geometry" />
        </mxCell>
        <mxCell id="YD8wXlY8oEXokaMSZj_n-352" edge="1" parent="1" source="YD8wXlY8oEXokaMSZj_n-316" style="endArrow=classic;html=1;rounded=0;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=0;entryY=0;entryDx=0;entryDy=0;" target="YD8wXlY8oEXokaMSZj_n-319" value="">
          <mxGeometry height="50" relative="1" width="50" as="geometry">
            <mxPoint x="8650" y="2330" as="sourcePoint" />
            <mxPoint x="8700" y="2280" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="YD8wXlY8oEXokaMSZj_n-353" parent="1" style="swimlane;fontStyle=1;align=center;verticalAlign=top;childLayout=stackLayout;horizontal=1;startSize=40;horizontalStack=0;resizeParent=1;resizeParentMax=0;resizeLast=0;collapsible=1;marginBottom=0;whiteSpace=wrap;html=1;fillColor=#0050ef;strokeColor=#001DBC;fontColor=#ffffff;" value="&lt;span style=&quot;text-align: left;&quot;&gt;compressed_decoder&lt;br&gt;/home/ICer/proj/cva6/core/compressed_decoder.sv&lt;/span&gt;" vertex="1">
          <mxGeometry height="300" width="615" x="9190" y="1970" as="geometry" />
        </mxCell>
        <mxCell id="YD8wXlY8oEXokaMSZj_n-354" parent="YD8wXlY8oEXokaMSZj_n-353" style="line;strokeWidth=1;fillColor=none;align=left;verticalAlign=middle;spacingTop=-1;spacingLeft=3;spacingRight=3;rotatable=0;labelPosition=right;points=[];portConstraint=eastwest;strokeColor=inherit;" value="" vertex="1">
          <mxGeometry height="8" width="615" y="40" as="geometry" />
        </mxCell>
        <mxCell id="YD8wXlY8oEXokaMSZj_n-355" parent="YD8wXlY8oEXokaMSZj_n-353" style="text;strokeColor=default;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;html=1;" value=":&lt;div&gt;1)&amp;nbsp;The compressed_decoder module decompresses all the compressed instructions taking a 16-bit compressed instruction and expanding it to its 32-bit equivalent.&amp;nbsp;&lt;br&gt;2)&amp;nbsp;All compressed instructions have a 32-bit equivalent.&lt;/div&gt;" vertex="1">
          <mxGeometry height="72" width="615" y="48" as="geometry" />
        </mxCell>
        <mxCell id="YD8wXlY8oEXokaMSZj_n-356" parent="YD8wXlY8oEXokaMSZj_n-353" style="text;strokeColor=#6c8ebf;fillColor=#dae8fc;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;html=1;" value="&lt;div&gt;input logic [31:0] instr_i&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;// FRONTEND  : Input instruction coming from fetch stage&lt;/div&gt;" vertex="1">
          <mxGeometry height="30" width="615" y="120" as="geometry" />
        </mxCell>
        <mxCell id="YD8wXlY8oEXokaMSZj_n-357" parent="YD8wXlY8oEXokaMSZj_n-353" style="text;strokeColor=#36393d;fillColor=#eeeeee;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;html=1;" value="&lt;div&gt;output logic [31:0] instr_o&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;// decoder  : Output instruction in uncompressed format&lt;/div&gt;" vertex="1">
          <mxGeometry height="30" width="615" y="150" as="geometry" />
        </mxCell>
        <mxCell id="YD8wXlY8oEXokaMSZj_n-358" parent="YD8wXlY8oEXokaMSZj_n-353" style="text;strokeColor=#36393d;fillColor=#eeeeee;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;html=1;" value="&lt;div&gt;output logic&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; illegal_instr_o&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;// decoder  : Input instruction is illegal&lt;/div&gt;" vertex="1">
          <mxGeometry height="30" width="615" y="180" as="geometry" />
        </mxCell>
        <mxCell id="YD8wXlY8oEXokaMSZj_n-359" parent="YD8wXlY8oEXokaMSZj_n-353" style="text;strokeColor=#36393d;fillColor=#eeeeee;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;html=1;" value="&lt;div&gt;output logic&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; is_macro_instr_o&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; // decoder  : Output instruction is macro&lt;/div&gt;" vertex="1">
          <mxGeometry height="30" width="615" y="210" as="geometry" />
        </mxCell>
        <mxCell id="YD8wXlY8oEXokaMSZj_n-360" parent="YD8wXlY8oEXokaMSZj_n-353" style="text;strokeColor=#36393d;fillColor=#eeeeee;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;html=1;" value="&lt;div&gt;output logic&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; is_compressed_o&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;// decoder  : Output instruction is compressed&lt;/div&gt;" vertex="1">
          <mxGeometry height="30" width="615" y="240" as="geometry" />
        </mxCell>
        <mxCell id="YD8wXlY8oEXokaMSZj_n-361" parent="YD8wXlY8oEXokaMSZj_n-353" style="text;strokeColor=#36393d;fillColor=#eeeeee;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;html=1;" value="&lt;div&gt;output logic&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; is_zcmt_instr_o&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; // decoder  : Output instruction is macro&lt;/div&gt;" vertex="1">
          <mxGeometry height="30" width="615" y="270" as="geometry" />
        </mxCell>
        <mxCell id="YD8wXlY8oEXokaMSZj_n-362" edge="1" parent="1" source="YD8wXlY8oEXokaMSZj_n-315" style="endArrow=classic;html=1;rounded=0;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=0;entryY=0;entryDx=0;entryDy=0;" target="YD8wXlY8oEXokaMSZj_n-353" value="">
          <mxGeometry height="50" relative="1" width="50" as="geometry">
            <mxPoint x="9170" y="2467" as="sourcePoint" />
            <mxPoint x="9595" y="2410" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="YD8wXlY8oEXokaMSZj_n-363" parent="1" style="swimlane;fontStyle=1;align=center;verticalAlign=top;childLayout=stackLayout;horizontal=1;startSize=40;horizontalStack=0;resizeParent=1;resizeParentMax=0;resizeLast=0;collapsible=1;marginBottom=0;whiteSpace=wrap;html=1;fillColor=#0050ef;strokeColor=#001DBC;fontColor=#ffffff;" value="&lt;span style=&quot;text-align: left;&quot;&gt;ISSUE STAGE&lt;br&gt;/home/ICer/proj/cva6/core/issue_stage.sv&lt;/span&gt;" vertex="1">
          <mxGeometry height="184" width="615" x="10590" y="1950" as="geometry" />
        </mxCell>
        <mxCell id="YD8wXlY8oEXokaMSZj_n-364" parent="YD8wXlY8oEXokaMSZj_n-363" style="line;strokeWidth=1;fillColor=none;align=left;verticalAlign=middle;spacingTop=-1;spacingLeft=3;spacingRight=3;rotatable=0;labelPosition=right;points=[];portConstraint=eastwest;strokeColor=inherit;" value="" vertex="1">
          <mxGeometry height="8" width="615" y="40" as="geometry" />
        </mxCell>
        <mxCell id="YD8wXlY8oEXokaMSZj_n-365" parent="YD8wXlY8oEXokaMSZj_n-363" style="text;strokeColor=default;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;html=1;" value="scoreboard" vertex="1">
          <mxGeometry height="70" width="615" y="48" as="geometry" />
        </mxCell>
        <mxCell id="YD8wXlY8oEXokaMSZj_n-366" parent="YD8wXlY8oEXokaMSZj_n-363" style="text;strokeColor=default;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;html=1;" value="issue_read_operands" vertex="1">
          <mxGeometry height="66" width="615" y="118" as="geometry" />
        </mxCell>
        <mxCell id="YD8wXlY8oEXokaMSZj_n-367" parent="1" style="swimlane;fontStyle=1;align=center;verticalAlign=top;childLayout=stackLayout;horizontal=1;startSize=40;horizontalStack=0;resizeParent=1;resizeParentMax=0;resizeLast=0;collapsible=1;marginBottom=0;whiteSpace=wrap;html=1;fillColor=#0050ef;strokeColor=#001DBC;fontColor=#ffffff;" value="&lt;span style=&quot;text-align: left;&quot;&gt;Scoreboard&lt;br&gt;/home/ICer/proj/cva6/core/scoreboard.sv&lt;/span&gt;" vertex="1">
          <mxGeometry height="1260" width="800" x="11370" y="1350" as="geometry" />
        </mxCell>
        <mxCell id="YD8wXlY8oEXokaMSZj_n-368" parent="YD8wXlY8oEXokaMSZj_n-367" style="line;strokeWidth=1;fillColor=none;align=left;verticalAlign=middle;spacingTop=-1;spacingLeft=3;spacingRight=3;rotatable=0;labelPosition=right;points=[];portConstraint=eastwest;strokeColor=inherit;" value="" vertex="1">
          <mxGeometry height="8" width="800" y="40" as="geometry" />
        </mxCell>
        <mxCell id="YD8wXlY8oEXokaMSZj_n-369" parent="YD8wXlY8oEXokaMSZj_n-367" style="text;strokeColor=default;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;html=1;" value=":&lt;div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;1) Scoreboard contains a FIFO which contains an entry for each issued instruction. Each entry is removed once the instruction is committed.&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;background-color: transparent; color: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));&quot;&gt;Instruction results are inserted into Scoreboard when they are ready. The FIFO is flushed when requested by CONTROLLER.&lt;br&gt;2)&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;background-color: transparent; font-size: 12px;&quot;&gt;Scoreboard has a capacity of 8 entries. Instructions which would make Scoreboard overflow are not transmitted to Issue_read_operands (ISSUE_STAGE stalls).&lt;br&gt;3)&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;background-color: transparent; font-size: 12px;&quot;&gt;The flush signal from CONTROLLER module removes all entries from the Scoreboard and prevents from issuing. The transaction ID of the next issued instruction is 0.&lt;/span&gt;&lt;/div&gt;4)&amp;nbsp;Scoreboard is used in all three functionalities of ISSUE_STAGE.&lt;br&gt;&amp;nbsp; &amp;nbsp; 4.1 ISSUE_STAGE issues instructions. Up to 2 instruction(s) can be received from ID_STAGE each cycle. They are transmitted to &lt;span style=&quot;background-color: rgb(213, 232, 212);&quot;&gt;Issue_read_operands&lt;/span&gt; with incremental transaction IDs which wrap at 8. The &lt;span style=&quot;background-color: rgb(213, 232, 212);&quot;&gt;result buses&lt;/span&gt; and Scoreboard entries are also transmitted to &lt;span style=&quot;background-color: rgb(213, 232, 212);&quot;&gt;Issue_read_operands &lt;/span&gt;for it to detect data dependences and perform operand forwarding. When &lt;span style=&quot;background-color: rgb(213, 232, 212);&quot;&gt;Issue_read_operands &lt;/span&gt;acknowledges an instruction, it is inserted into the FIFO.&lt;br&gt;&amp;nbsp; &amp;nbsp; 4.2&amp;nbsp;ISSUE_STAGE reorders instructions results. Results are returned from functional units in the &lt;span style=&quot;background-color: rgb(213, 232, 212);&quot;&gt;EX_STAGE &lt;/span&gt;to Scoreboard via &lt;span style=&quot;background-color: rgb(213, 232, 212);&quot;&gt;result buses&lt;/span&gt;, with their transaction IDs. Scoreboard stores this result into the entry associated with this transaction ID. If an exception is returned, it is stored too. If the result is a branch miss, the speculative instructions following it are cancelled.&lt;br&gt;&amp;nbsp; &amp;nbsp; 4.3&amp;nbsp;ISSUE_STAGE sends completed instructions in-order to &lt;span style=&quot;background-color: rgb(213, 232, 212);&quot;&gt;COMMIT_STAGE&lt;/span&gt;. Each of the 2 oldest entry(ies) in Scoreboard are exposed to &lt;span style=&quot;background-color: rgb(213, 232, 212);&quot;&gt;COMMIT_STAGE&lt;/span&gt;, one per commit port. This makes commit happen in-order. When &lt;span style=&quot;background-color: rgb(213, 232, 212);&quot;&gt;COMMIT_STAGE &lt;/span&gt;acknowledges on a commit port, the entry is removed from Scoreboard.&lt;/div&gt;" vertex="1">
          <mxGeometry height="282" width="800" y="48" as="geometry" />
        </mxCell>
        <mxCell id="YD8wXlY8oEXokaMSZj_n-370" parent="YD8wXlY8oEXokaMSZj_n-367" style="text;strokeColor=#36393d;fillColor=#eeeeee;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;html=1;" value="&lt;div&gt;output logic&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; sb_full_o&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; // PERF_COUNTER  : Is scoreboard full&lt;/div&gt;" vertex="1">
          <mxGeometry height="30" width="800" y="330" as="geometry" />
        </mxCell>
        <mxCell id="YD8wXlY8oEXokaMSZj_n-371" parent="YD8wXlY8oEXokaMSZj_n-367" style="text;strokeColor=#36393d;fillColor=#eeeeee;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;html=1;" value="&lt;div&gt;input logic [4:0] x_rd_i&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;&lt;span style=&quot;background-color: transparent; color: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));&quot;&gt;//&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;background-color: transparent; font-size: 12px;&quot;&gt;ISSUE_STAGE&lt;/span&gt;&lt;span style=&quot;background-color: transparent; color: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));&quot;&gt;&amp;nbsp; :&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;background-color: transparent; color: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));&quot;&gt;CVXIF &lt;/span&gt;&lt;/div&gt;" vertex="1">
          <mxGeometry height="30" width="800" y="360" as="geometry" />
        </mxCell>
        <mxCell id="YD8wXlY8oEXokaMSZj_n-372" parent="YD8wXlY8oEXokaMSZj_n-367" style="text;strokeColor=#d79b00;fillColor=#ffe6cc;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;html=1;" value="&lt;div&gt;input&amp;nbsp; logic&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;&amp;nbsp;flush_unissued_instr_i&amp;nbsp; &amp;nbsp;// CONTROLLER  :  issue&lt;/div&gt;" vertex="1">
          <mxGeometry height="30" width="800" y="390" as="geometry" />
        </mxCell>
        <mxCell id="YD8wXlY8oEXokaMSZj_n-373" parent="YD8wXlY8oEXokaMSZj_n-367" style="text;strokeColor=#d79b00;fillColor=#ffe6cc;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;html=1;" value="&lt;div&gt;input&amp;nbsp; logic&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;&amp;nbsp;flush_i&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; // CONTROLLER &amp;nbsp;: Flush  scoreboard&lt;/div&gt;" vertex="1">
          <mxGeometry height="30" width="800" y="420" as="geometry" />
        </mxCell>
        <mxCell id="YD8wXlY8oEXokaMSZj_n-374" parent="YD8wXlY8oEXokaMSZj_n-367" style="text;strokeColor=#36393d;fillColor=#eeeeee;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;html=1;" value="&lt;span style=&quot;font-size: 12px;&quot;&gt;instruction to issue logic, if issue_instr_valid and issue_ready is asserted, advance the issue pointer&lt;/span&gt;" vertex="1">
          <mxGeometry height="30" width="800" y="450" as="geometry" />
        </mxCell>
        <mxCell id="YD8wXlY8oEXokaMSZj_n-375" parent="YD8wXlY8oEXokaMSZj_n-367" style="text;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;html=1;fillColor=#f5f5f5;fontColor=#333333;strokeColor=#666666;" value="&lt;div&gt;input&amp;nbsp; logic&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; x_transaction_accepted_i&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; // ISSUE_READ_OPERANDS  : CVXF&lt;/div&gt;" vertex="1">
          <mxGeometry height="30" width="800" y="480" as="geometry" />
        </mxCell>
        <mxCell id="YD8wXlY8oEXokaMSZj_n-376" parent="YD8wXlY8oEXokaMSZj_n-367" style="text;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;html=1;fillColor=#f5f5f5;fontColor=#333333;strokeColor=#666666;" value="&lt;div&gt;input&amp;nbsp; logic&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; x_issue_writeback_i&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; // ISSUE_READ_OPERANDS&amp;nbsp; : CVXF&lt;/div&gt;" vertex="1">
          <mxGeometry height="30" width="800" y="510" as="geometry" />
        </mxCell>
        <mxCell id="YD8wXlY8oEXokaMSZj_n-377" parent="YD8wXlY8oEXokaMSZj_n-367" style="text;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;html=1;fillColor=#f5f5f5;fontColor=#333333;strokeColor=#666666;" value="&lt;div&gt;input&amp;nbsp; logic&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;[CVA6Cfg.TRANS_ID_BITS-1:0] x_id_i&amp;nbsp; &amp;nbsp; &lt;span style=&quot;background-color: transparent; color: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));&quot;&gt;// ISSUE_READ_OPERANDS&amp;nbsp; : CVXF&lt;/span&gt;&lt;/div&gt;" vertex="1">
          <mxGeometry height="30" width="800" y="540" as="geometry" />
        </mxCell>
        <mxCell id="YD8wXlY8oEXokaMSZj_n-378" parent="YD8wXlY8oEXokaMSZj_n-367" style="text;strokeColor=#36393d;fillColor=#eeeeee;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;html=1;" value="&lt;div&gt;input&amp;nbsp; logic&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;[CVA6Cfg.NrIssuePorts-1:0] issue_ack_i&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;&lt;span style=&quot;background-color: transparent; color: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));&quot;&gt;// ISSUE_READ_OPERANDS&amp;nbsp; :&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;background-color: transparent; font-size: 12px;&quot;&gt;Issue stage acknowledge&lt;/span&gt;&lt;/div&gt;" vertex="1">
          <mxGeometry height="30" width="800" y="570" as="geometry" />
        </mxCell>
        <mxCell id="YD8wXlY8oEXokaMSZj_n-379" parent="YD8wXlY8oEXokaMSZj_n-367" style="text;strokeColor=#36393d;fillColor=#eeeeee;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;html=1;" value="&lt;div&gt;output logic&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;[CVA6Cfg.NrIssuePorts-1:0]&amp;nbsp; issue_instr_valid_o&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;&lt;span style=&quot;background-color: transparent; color: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));&quot;&gt;// ISSUE_READ_OPERANDS&amp;nbsp; :&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;background-color: transparent; font-size: 12px;&quot;&gt;Is there an instruction to issue&lt;/span&gt;&lt;/div&gt;" vertex="1">
          <mxGeometry height="30" width="800" y="600" as="geometry" />
        </mxCell>
        <mxCell id="YD8wXlY8oEXokaMSZj_n-380" parent="YD8wXlY8oEXokaMSZj_n-367" style="text;strokeColor=#36393d;fillColor=#eeeeee;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;html=1;" value="&lt;div&gt;output scoreboard_entry_t [CVA6Cfg.NrIssuePorts-1:0] issue_instr_o&amp;nbsp; &amp;nbsp;&lt;span style=&quot;background-color: transparent; color: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));&quot;&gt;// ISSUE_READ_OPERANDS&amp;nbsp; :&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;background-color: transparent; font-size: 12px;&quot;&gt;Entry about the instruction to issue&lt;/span&gt;&lt;/div&gt;" vertex="1">
          <mxGeometry height="30" width="800" y="630" as="geometry" />
        </mxCell>
        <mxCell id="YD8wXlY8oEXokaMSZj_n-381" parent="YD8wXlY8oEXokaMSZj_n-367" style="text;strokeColor=#36393d;fillColor=#eeeeee;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;html=1;" value="&lt;div&gt;output logic&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;[CVA6Cfg.NrIssuePorts-1:0][31:0] orig_instr_o&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;&amp;nbsp;&lt;span style=&quot;background-color: transparent; color: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));&quot;&gt;// ISSUE_READ_OPERANDS&amp;nbsp; :&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;background-color: transparent; font-size: 12px;&quot;&gt;Instruction to issue&lt;/span&gt;&lt;/div&gt;" vertex="1">
          <mxGeometry height="30" width="800" y="660" as="geometry" />
        </mxCell>
        <mxCell id="YD8wXlY8oEXokaMSZj_n-382" parent="YD8wXlY8oEXokaMSZj_n-367" style="text;strokeColor=#36393d;fillColor=#eeeeee;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;html=1;" value="&lt;div&gt;output forwarding_t&amp;nbsp; &amp;nbsp; &amp;nbsp;fwd_o&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;&amp;nbsp;&lt;span style=&quot;background-color: transparent; color: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));&quot;&gt;// ISSUE_READ_OPERANDS&amp;nbsp; :&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;background-color: transparent; font-size: 12px;&quot;&gt;Forwarding&lt;/span&gt;&lt;/div&gt;" vertex="1">
          <mxGeometry height="30" width="800" y="690" as="geometry" />
        </mxCell>
        <mxCell id="YD8wXlY8oEXokaMSZj_n-383" parent="YD8wXlY8oEXokaMSZj_n-367" style="text;strokeColor=#82b366;fillColor=#d5e8d4;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;html=1;" value="&lt;span style=&quot;font-size: 12px;&quot;&gt;instruction to put on top of scoreboard e.g.: top pointer,&amp;nbsp;we can always put this instruction to the top unless we signal with asserted full_o.&lt;/span&gt;" vertex="1">
          <mxGeometry height="30" width="800" y="720" as="geometry" />
        </mxCell>
        <mxCell id="YD8wXlY8oEXokaMSZj_n-384" parent="YD8wXlY8oEXokaMSZj_n-367" style="text;strokeColor=#82b366;fillColor=#d5e8d4;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;html=1;" value="&lt;div&gt;input&amp;nbsp; scoreboard_entry_t [CVA6Cfg.NrIssuePorts-1:0]&amp;nbsp; decoded_instr_i&amp;nbsp; &amp;nbsp; &amp;nbsp; //&lt;span style=&quot;background-color: transparent;&quot;&gt;&lt;font&gt;&amp;nbsp;&lt;/font&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;ID_ST&lt;font&gt;AGE&lt;/font&gt;&lt;/span&gt;&lt;font&gt;&amp;nbsp; : scoreboard &lt;/font&gt;&lt;/span&gt;&lt;/div&gt;" vertex="1">
          <mxGeometry height="30" width="800" y="750" as="geometry" />
        </mxCell>
        <mxCell id="YD8wXlY8oEXokaMSZj_n-385" parent="YD8wXlY8oEXokaMSZj_n-367" style="text;strokeColor=#82b366;fillColor=#d5e8d4;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;html=1;" value="&lt;div&gt;input&amp;nbsp; logic&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; [CVA6Cfg.NrIssuePorts-1:0][31:0]&amp;nbsp; orig_instr_i&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &lt;span style=&quot;background-color: transparent; color: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));&quot;&gt;//&amp;nbsp;&lt;/span&gt;ID_STAGE&amp;nbsp;&lt;span style=&quot;background-color: transparent; color: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));&quot;&gt;&lt;/span&gt;&lt;span style=&quot;background-color: transparent; color: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));&quot;&gt;&amp;nbsp;:&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;background-color: transparent; font-size: 12px;&quot;&gt;&lt;/span&gt;&lt;/div&gt;" vertex="1">
          <mxGeometry height="30" width="800" y="780" as="geometry" />
        </mxCell>
        <mxCell id="YD8wXlY8oEXokaMSZj_n-386" parent="YD8wXlY8oEXokaMSZj_n-367" style="text;strokeColor=#82b366;fillColor=#d5e8d4;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;html=1;" value="&lt;div&gt;input&amp;nbsp; logic&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; [CVA6Cfg.NrIssuePorts-1:0]&amp;nbsp; &amp;nbsp;decoded_instr_valid_i&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;&lt;span style=&quot;background-color: transparent; color: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));&quot;&gt;//&amp;nbsp;&lt;/span&gt;ID_STAGE&amp;nbsp;&lt;span style=&quot;background-color: transparent; color: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));&quot;&gt;&lt;/span&gt;&lt;span style=&quot;background-color: transparent; color: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));&quot;&gt;&amp;nbsp;:&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;background-color: transparent; font-size: 12px;&quot;&gt;valid&lt;/span&gt;&lt;/div&gt;" vertex="1">
          <mxGeometry height="30" width="800" y="810" as="geometry" />
        </mxCell>
        <mxCell id="YD8wXlY8oEXokaMSZj_n-387" parent="YD8wXlY8oEXokaMSZj_n-367" style="text;strokeColor=#82b366;fillColor=#d5e8d4;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;html=1;" value="&lt;div&gt;output logic&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;[CVA6Cfg.NrIssuePorts-1:0]&amp;nbsp; &amp;nbsp;decoded_instr_ack_o&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;&amp;nbsp;&lt;span style=&quot;background-color: transparent; color: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));&quot;&gt;//&amp;nbsp;&lt;/span&gt;ID_STAGE&amp;nbsp;&lt;span style=&quot;background-color: transparent; color: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));&quot;&gt;&lt;/span&gt;&lt;span style=&quot;background-color: transparent; color: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));&quot;&gt;&amp;nbsp;: ack&lt;/span&gt;&lt;/div&gt;" vertex="1">
          <mxGeometry height="30" width="800" y="840" as="geometry" />
        </mxCell>
        <mxCell id="YD8wXlY8oEXokaMSZj_n-388" parent="YD8wXlY8oEXokaMSZj_n-367" style="text;strokeColor=#b85450;fillColor=#f8cecc;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;html=1;" value="&lt;div&gt;input bp_resolve_t resolved_branch_i&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;&lt;span style=&quot;background-color: transparent; color: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));&quot;&gt;//&amp;nbsp;&lt;/span&gt;EX_STAGE&amp;nbsp;&lt;span style=&quot;background-color: transparent; color: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));&quot;&gt;&lt;/span&gt;&lt;span style=&quot;background-color: transparent; color: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));&quot;&gt;&amp;nbsp;: branch unit &lt;/span&gt;&lt;/div&gt;" vertex="1">
          <mxGeometry height="30" width="800" y="870" as="geometry" />
        </mxCell>
        <mxCell id="YD8wXlY8oEXokaMSZj_n-389" parent="YD8wXlY8oEXokaMSZj_n-367" style="text;strokeColor=#b85450;fillColor=#f8cecc;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;html=1;" value="&lt;div&gt;input logic [CVA6Cfg.NrWbPorts-1:0][CVA6Cfg.TRANS_ID_BITS-1:0] trans_id_i&amp;nbsp; &amp;nbsp; &lt;span style=&quot;background-color: transparent; color: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));&quot;&gt;//&amp;nbsp;&lt;/span&gt;EX_STAGE&amp;nbsp;&lt;span style=&quot;background-color: transparent; color: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));&quot;&gt;&lt;/span&gt;&lt;span style=&quot;background-color: transparent; color: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));&quot;&gt;&amp;nbsp;: transaction_id&lt;/span&gt;&lt;/div&gt;" vertex="1">
          <mxGeometry height="30" width="800" y="900" as="geometry" />
        </mxCell>
        <mxCell id="YD8wXlY8oEXokaMSZj_n-390" parent="YD8wXlY8oEXokaMSZj_n-367" style="text;strokeColor=#b85450;fillColor=#f8cecc;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;html=1;" value="&lt;div&gt;input logic [CVA6Cfg.NrWbPorts-1:0][CVA6Cfg.XLEN-1:0] wbdata_i&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;&amp;nbsp;&lt;span style=&quot;background-color: transparent; color: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));&quot;&gt;//&amp;nbsp;&lt;/span&gt;EX_STAGE&amp;nbsp;&lt;span style=&quot;background-color: transparent; color: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));&quot;&gt;&lt;/span&gt;&lt;span style=&quot;background-color: transparent; color: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));&quot;&gt;&amp;nbsp;: &lt;/span&gt;&lt;/div&gt;" vertex="1">
          <mxGeometry height="30" width="800" y="930" as="geometry" />
        </mxCell>
        <mxCell id="YD8wXlY8oEXokaMSZj_n-391" parent="YD8wXlY8oEXokaMSZj_n-367" style="text;strokeColor=#b85450;fillColor=#f8cecc;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;html=1;" value="&lt;div&gt;input exception_t [CVA6Cfg.NrWbPorts-1:0] ex_i&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &lt;span style=&quot;background-color: transparent; color: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));&quot;&gt;//&amp;nbsp;&lt;/span&gt;EX_STAGE&amp;nbsp;&lt;span style=&quot;background-color: transparent; color: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));&quot;&gt;&lt;/span&gt;&lt;span style=&quot;background-color: transparent; color: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));&quot;&gt;&amp;nbsp;: FU &lt;/span&gt;&lt;/div&gt;" vertex="1">
          <mxGeometry height="30" width="800" y="960" as="geometry" />
        </mxCell>
        <mxCell id="YD8wXlY8oEXokaMSZj_n-392" parent="YD8wXlY8oEXokaMSZj_n-367" style="text;strokeColor=#b85450;fillColor=#f8cecc;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;html=1;" value="&lt;div&gt;input logic [CVA6Cfg.NrWbPorts-1:0] wt_valid_i&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;&amp;nbsp;&lt;span style=&quot;background-color: transparent; color: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));&quot;&gt;//&amp;nbsp;&lt;/span&gt;EX_STAGE&amp;nbsp;&lt;span style=&quot;background-color: transparent; color: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));&quot;&gt;&lt;/span&gt;&lt;span style=&quot;background-color: transparent; color: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));&quot;&gt;&amp;nbsp;: results valid&lt;/span&gt;&lt;/div&gt;" vertex="1">
          <mxGeometry height="30" width="800" y="990" as="geometry" />
        </mxCell>
        <mxCell id="YD8wXlY8oEXokaMSZj_n-393" parent="YD8wXlY8oEXokaMSZj_n-367" style="text;strokeColor=#b85450;fillColor=#f8cecc;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;html=1;" value="&lt;div&gt;input logic x_we_i&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;&amp;nbsp;&lt;span style=&quot;background-color: transparent; color: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));&quot;&gt;//&amp;nbsp;&lt;/span&gt;EX_STAGE&amp;nbsp;&lt;span style=&quot;background-color: transparent; color: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));&quot;&gt;&lt;/span&gt;&lt;span style=&quot;background-color: transparent; color: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));&quot;&gt;&amp;nbsp;: CVXIF we for writeback&lt;/span&gt;&lt;/div&gt;" vertex="1">
          <mxGeometry height="30" width="800" y="1020" as="geometry" />
        </mxCell>
        <mxCell id="YD8wXlY8oEXokaMSZj_n-394" parent="YD8wXlY8oEXokaMSZj_n-367" style="text;strokeColor=#b85450;fillColor=#f8cecc;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;html=1;" value="&lt;div&gt;input logic x_we_i&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;&amp;nbsp;&lt;span style=&quot;background-color: transparent; color: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));&quot;&gt;//&amp;nbsp;&lt;/span&gt;EX_STAGE&amp;nbsp;&lt;span style=&quot;background-color: transparent; color: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));&quot;&gt;&lt;/span&gt;&lt;span style=&quot;background-color: transparent; color: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));&quot;&gt;&amp;nbsp;: CVXIF we for writeback&lt;/span&gt;&lt;/div&gt;" vertex="1">
          <mxGeometry height="30" width="800" y="1050" as="geometry" />
        </mxCell>
        <mxCell id="YD8wXlY8oEXokaMSZj_n-395" parent="YD8wXlY8oEXokaMSZj_n-367" style="text;strokeColor=#9673a6;fillColor=#e1d5e7;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;html=1;" value="&lt;span style=&quot;font-size: 12px;&quot;&gt;advertise instruction to commit stage, if commit_ack_i is asserted advance the commit pointer&lt;/span&gt;" vertex="1">
          <mxGeometry height="30" width="800" y="1080" as="geometry" />
        </mxCell>
        <mxCell id="YD8wXlY8oEXokaMSZj_n-396" parent="YD8wXlY8oEXokaMSZj_n-367" style="text;strokeColor=#9673a6;fillColor=#e1d5e7;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;html=1;" value="&lt;div&gt;output scoreboard_entry_t [CVA6Cfg.NrCommitPorts-1:0] commit_instr_o&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;&amp;nbsp;&lt;span style=&quot;background-color: transparent; color: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));&quot;&gt;//&amp;nbsp;&lt;/span&gt;COMMIT_STAGE&amp;nbsp;&lt;span style=&quot;background-color: transparent; color: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));&quot;&gt;&lt;/span&gt;&lt;span style=&quot;background-color: transparent; color: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));&quot;&gt;&amp;nbsp;:&amp;nbsp; Commit&lt;/span&gt;&lt;/div&gt;" vertex="1">
          <mxGeometry height="30" width="800" y="1110" as="geometry" />
        </mxCell>
        <mxCell id="YD8wXlY8oEXokaMSZj_n-397" parent="YD8wXlY8oEXokaMSZj_n-367" style="text;strokeColor=#9673a6;fillColor=#e1d5e7;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;html=1;" value="&lt;div&gt;output logic&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; [CVA6Cfg.NrCommitPorts-1:0] commit_drop_o&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;&lt;span style=&quot;background-color: transparent; color: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));&quot;&gt;//&amp;nbsp;&lt;/span&gt;COMMIT_STAGE&amp;nbsp;&lt;span style=&quot;background-color: transparent; color: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));&quot;&gt;&lt;/span&gt;&lt;span style=&quot;background-color: transparent; color: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));&quot;&gt;&amp;nbsp;:&amp;nbsp; Cancel&lt;/span&gt;&lt;/div&gt;" vertex="1">
          <mxGeometry height="30" width="800" y="1140" as="geometry" />
        </mxCell>
        <mxCell id="YD8wXlY8oEXokaMSZj_n-398" parent="YD8wXlY8oEXokaMSZj_n-367" style="text;strokeColor=#9673a6;fillColor=#e1d5e7;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;html=1;" value="&lt;div&gt;input&amp;nbsp; logic&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; [CVA6Cfg.NrCommitPorts-1:0] commit_ack_i&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;&lt;span style=&quot;background-color: transparent; color: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));&quot;&gt;//&amp;nbsp;&lt;/span&gt;COMMIT_STAGE&amp;nbsp;&lt;span style=&quot;background-color: transparent; color: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));&quot;&gt;&lt;/span&gt;&lt;span style=&quot;background-color: transparent; color: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));&quot;&gt;&amp;nbsp;: Commit acknowledge&lt;/span&gt;&lt;/div&gt;" vertex="1">
          <mxGeometry height="30" width="800" y="1170" as="geometry" />
        </mxCell>
        <mxCell id="YD8wXlY8oEXokaMSZj_n-399" parent="YD8wXlY8oEXokaMSZj_n-367" style="text;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;html=1;fontStyle=1;fillColor=#008a00;fontColor=#ffffff;strokeColor=#005700;" value="&lt;span style=&quot;font-size: 12px;&quot;&gt;output logic [ CVA6Cfg.NrIssuePorts-1:0][CVA6Cfg.TRANS_ID_BITS-1:0] rvfi_issue_pointer_o&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; // RVFI :&amp;nbsp;Issue pointer&lt;/span&gt;" vertex="1">
          <mxGeometry height="30" width="800" y="1200" as="geometry" />
        </mxCell>
        <mxCell id="YD8wXlY8oEXokaMSZj_n-400" parent="YD8wXlY8oEXokaMSZj_n-367" style="text;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;html=1;fontStyle=1;fillColor=#008a00;fontColor=#ffffff;strokeColor=#005700;" value="&lt;div&gt;output logic [CVA6Cfg.NrCommitPorts-1:0][CVA6Cfg.TRANS_ID_BITS-1:0] rvfi_commit_pointer_o&amp;nbsp; &amp;nbsp; // RVFI :&amp;nbsp;Commit pointer&lt;/div&gt;" vertex="1">
          <mxGeometry height="30" width="800" y="1230" as="geometry" />
        </mxCell>
        <mxCell id="YD8wXlY8oEXokaMSZj_n-401" edge="1" parent="1" source="YD8wXlY8oEXokaMSZj_n-365" style="endArrow=classic;html=1;rounded=0;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=0;entryY=0;entryDx=0;entryDy=0;" target="YD8wXlY8oEXokaMSZj_n-367" value="">
          <mxGeometry height="50" relative="1" width="50" as="geometry">
            <mxPoint x="11060" y="2319" as="sourcePoint" />
            <mxPoint x="11505" y="1840" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="YD8wXlY8oEXokaMSZj_n-402" parent="1" style="swimlane;fontStyle=1;align=center;verticalAlign=top;childLayout=stackLayout;horizontal=1;startSize=40;horizontalStack=0;resizeParent=1;resizeParentMax=0;resizeLast=0;collapsible=1;marginBottom=0;whiteSpace=wrap;html=1;fillColor=#0050ef;strokeColor=#001DBC;fontColor=#ffffff;" value="&lt;span style=&quot;text-align: left;&quot;&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;Issue_read_operands&lt;/span&gt;&lt;br&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;/home/ICer/proj/cva6/core/issue_read_operands.sv&lt;/span&gt;&lt;/span&gt;" vertex="1">
          <mxGeometry height="1530" width="800" x="11370" y="2930" as="geometry" />
        </mxCell>
        <mxCell id="YD8wXlY8oEXokaMSZj_n-403" parent="YD8wXlY8oEXokaMSZj_n-402" style="line;strokeWidth=1;fillColor=none;align=left;verticalAlign=middle;spacingTop=-1;spacingLeft=3;spacingRight=3;rotatable=0;labelPosition=right;points=[];portConstraint=eastwest;strokeColor=inherit;" value="" vertex="1">
          <mxGeometry height="8" width="800" y="40" as="geometry" />
        </mxCell>
        <mxCell id="YD8wXlY8oEXokaMSZj_n-404" parent="YD8wXlY8oEXokaMSZj_n-402" style="text;strokeColor=default;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;html=1;" value=":&lt;div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;1)&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;background-color: transparent; font-size: 12px;&quot;&gt;Issue_read_operands tracks hazards and gets the input operands for the instructions to execute.&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;background-color: transparent; color: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));&quot;&gt;The following hazards can prevent instructions from being issued.&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;background-color: transparent; color: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));&quot;&gt;&amp;nbsp; 1.1&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;background-color: transparent; font-size: 12px;&quot;&gt;Data hazards: ISSUE_STAGE checks that the instruction operands are available.&lt;br&gt;&amp;nbsp; 1.2&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;background-color: transparent; font-size: 12px;&quot;&gt;Structural hazards: ISSUE_STAGE checks that a functional unit (FU) and its result bus (RB) are ready to execute the instruction.&lt;br&gt;&amp;nbsp; 1.3&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;background-color: transparent; font-size: 12px;&quot;&gt;Control hazards: ISSUE_STAGE checks that no instruction is executed speculatively while it must not.&lt;br&gt;&amp;nbsp; &amp;nbsp;&lt;/span&gt;&lt;span style=&quot;background-color: transparent; font-size: 12px;&quot;&gt;Data hazards are ignored when an exception occurred earlier in the pipeline. As no FU is involved, there are no structural hazards either.&lt;br&gt;2)&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;background-color: transparent; font-size: 12px;&quot;&gt;Instructions are issued in-order, which means that when an instruction makes ISSUE_STAGE stall, next instructions are blocked.&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;background-color: transparent; font-size: 12px;&quot;&gt;As a consequence, it is not possible to issue the instruction in the second issue port when the instruction in the first issue port is blocked.&lt;br&gt;3)&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;background-color: transparent; font-size: 12px;&quot;&gt;However, it is possible that the instruction in the first issue port is issued while the instruction in the second issue port is not. In such case, ID_STAGE moves the instruction in the second issue port to the first issue port so that it is issued next.&lt;br&gt;4)&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;background-color: transparent; font-size: 12px;&quot;&gt;The input operands provided to EX_STAGE come from the register file by default. However, when one of the source registers has a RAW dependence, the corresponding input operand is replaced by the &lt;/span&gt;&lt;span style=&quot;font-size: 12px; background-color: rgb(213, 232, 212);&quot;&gt;forwarded value&lt;/span&gt;&lt;span style=&quot;background-color: transparent; font-size: 12px;&quot;&gt; (see Data hazards/RAW hazards above). The register file is an instance of &lt;/span&gt;&lt;span style=&quot;font-size: 12px; background-color: rgb(213, 232, 212);&quot;&gt;ariane_regfile&lt;/span&gt;&lt;span style=&quot;background-color: transparent; font-size: 12px;&quot;&gt; where ach register stores 32 bits and the register at index 0 is wired to zero.&lt;br&gt;5)&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;background-color: transparent; font-size: 12px;&quot;&gt;Instructions are sent to EX_STAGE via a register so they are visible in EX_STAGE one cycle after being issued.&lt;/span&gt;&lt;/div&gt;&lt;/div&gt;" vertex="1">
          <mxGeometry height="232" width="800" y="48" as="geometry" />
        </mxCell>
        <mxCell id="YD8wXlY8oEXokaMSZj_n-405" parent="YD8wXlY8oEXokaMSZj_n-402" style="text;strokeColor=#36393d;fillColor=#eeeeee;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;html=1;" value="&lt;div&gt;output logic stall_issue_o&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; // PERF_COUNTER  : Issue stall&lt;/div&gt;" vertex="1">
          <mxGeometry height="30" width="800" y="280" as="geometry" />
        </mxCell>
        <mxCell id="YD8wXlY8oEXokaMSZj_n-406" parent="YD8wXlY8oEXokaMSZj_n-402" style="text;strokeColor=#36393d;fillColor=#eeeeee;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;html=1;" value="&lt;div&gt;input logic [CVA6Cfg.XLEN-1:0] hart_id_i&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; // SUBSYSTEM  : CVA6 Hart ID&lt;/div&gt;" vertex="1">
          <mxGeometry height="30" width="800" y="310" as="geometry" />
        </mxCell>
        <mxCell id="YD8wXlY8oEXokaMSZj_n-407" parent="YD8wXlY8oEXokaMSZj_n-402" style="text;strokeColor=#d79b00;fillColor=#ffe6cc;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;html=1;" value="&lt;div&gt;input&amp;nbsp; logic&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;&amp;nbsp;flush_i&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; // CONTROLLER &amp;nbsp;: Flush  scoreboard&lt;/div&gt;" vertex="1">
          <mxGeometry height="30" width="800" y="340" as="geometry" />
        </mxCell>
        <mxCell id="YD8wXlY8oEXokaMSZj_n-408" parent="YD8wXlY8oEXokaMSZj_n-402" style="text;strokeColor=#36393d;fillColor=#eeeeee;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;html=1;" value="&lt;span style=&quot;font-size: 12px;&quot;&gt;input scoreboard_entry_t [CVA6Cfg.NrIssuePorts-1:0]&amp;nbsp;issue_instr_i&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;&amp;nbsp;&lt;/span&gt;// SCOREBOARD  : Entry about the instruction to issue" vertex="1">
          <mxGeometry height="30" width="800" y="370" as="geometry" />
        </mxCell>
        <mxCell id="YD8wXlY8oEXokaMSZj_n-409" parent="YD8wXlY8oEXokaMSZj_n-402" style="text;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;html=1;fillColor=#f5f5f5;fontColor=#333333;strokeColor=#666666;" value="&lt;div&gt;input scoreboard_entry_t [CVA6Cfg.NrIssuePorts-1:0] issue_instr_i_prev&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;// SCOREBOARD  : Entry about the instruction to issue&lt;/div&gt;" vertex="1">
          <mxGeometry height="30" width="800" y="400" as="geometry" />
        </mxCell>
        <mxCell id="YD8wXlY8oEXokaMSZj_n-410" parent="YD8wXlY8oEXokaMSZj_n-402" style="text;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;html=1;fillColor=#f5f5f5;fontColor=#333333;strokeColor=#666666;" value="&lt;div&gt;input logic [CVA6Cfg.NrIssuePorts-1:0][31:0] orig_instr_i&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;// SCOREBOARD  : instruction to issue&lt;/div&gt;" vertex="1">
          <mxGeometry height="30" width="800" y="430" as="geometry" />
        </mxCell>
        <mxCell id="YD8wXlY8oEXokaMSZj_n-411" parent="YD8wXlY8oEXokaMSZj_n-402" style="text;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;html=1;fillColor=#f5f5f5;fontColor=#333333;strokeColor=#666666;" value="&lt;div&gt;input &lt;span style=&quot;background-color: rgb(255, 204, 255);&quot;&gt;forwarding_t&lt;/span&gt; fwd_i&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; // SCOREBOARD  : &lt;span style=&quot;background-color: rgb(255, 204, 255);&quot;&gt;Forwarding&lt;/span&gt;&lt;/div&gt;" vertex="1">
          <mxGeometry height="30" width="800" y="460" as="geometry" />
        </mxCell>
        <mxCell id="YD8wXlY8oEXokaMSZj_n-412" parent="YD8wXlY8oEXokaMSZj_n-402" style="text;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;html=1;fillColor=#f5f5f5;fontColor=#333333;strokeColor=#666666;" value="&lt;div&gt;input logic [CVA6Cfg.NrIssuePorts-1:0] issue_instr_valid_i&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; // SCOREBOARD  : valid,  instruction to issue&lt;/div&gt;" vertex="1">
          <mxGeometry height="30" width="800" y="490" as="geometry" />
        </mxCell>
        <mxCell id="YD8wXlY8oEXokaMSZj_n-413" parent="YD8wXlY8oEXokaMSZj_n-402" style="text;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;html=1;fillColor=#f5f5f5;fontColor=#333333;strokeColor=#666666;" value="&lt;div&gt;output logic [CVA6Cfg.NrIssuePorts-1:0] issue_ack_o&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;// SCOREBOARD  : ack, Issue stage acknowledge&lt;/div&gt;" vertex="1">
          <mxGeometry height="30" width="800" y="520" as="geometry" />
        </mxCell>
        <mxCell id="YD8wXlY8oEXokaMSZj_n-414" parent="YD8wXlY8oEXokaMSZj_n-402" style="text;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;html=1;fillColor=#fad9d5;strokeColor=#ae4132;" value="&lt;div&gt;output fu_data_t [CVA6Cfg.NrIssuePorts-1:0] fu_data_o&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;// EX_STAGE : FU data useful to execute instruction&lt;/div&gt;" vertex="1">
          <mxGeometry height="30" width="800" y="550" as="geometry" />
        </mxCell>
        <mxCell id="YD8wXlY8oEXokaMSZj_n-415" parent="YD8wXlY8oEXokaMSZj_n-402" style="text;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;html=1;fillColor=#fad9d5;strokeColor=#ae4132;" value="&lt;div&gt;output &lt;span style=&quot;background-color: rgb(255, 204, 255);&quot;&gt;alu_bypass_t &lt;/span&gt;alu_bypass_o&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; // EX_STAGE&amp;nbsp;: ALU to ALU bypass control&lt;/div&gt;" vertex="1">
          <mxGeometry height="30" width="800" y="580" as="geometry" />
        </mxCell>
        <mxCell id="YD8wXlY8oEXokaMSZj_n-416" parent="YD8wXlY8oEXokaMSZj_n-402" style="text;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;html=1;fillColor=#fad9d5;strokeColor=#ae4132;" value="&lt;div&gt;output logic [CVA6Cfg.NrIssuePorts-1:0][CVA6Cfg.VLEN-1:0] rs1_forwarding_o&amp;nbsp; &amp;nbsp;// EX_STAGE&amp;nbsp;: Unregistered version of fu_data_o.operanda&lt;/div&gt;" vertex="1">
          <mxGeometry height="40" width="800" y="610" as="geometry" />
        </mxCell>
        <mxCell id="YD8wXlY8oEXokaMSZj_n-417" parent="YD8wXlY8oEXokaMSZj_n-402" style="text;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;html=1;fillColor=#fad9d5;strokeColor=#ae4132;" value="&lt;div&gt;output logic [CVA6Cfg.NrIssuePorts-1:0][CVA6Cfg.VLEN-1:0] rs2_forwarding_o&amp;nbsp; &amp;nbsp;// EX_STAGE&amp;nbsp;: Unregistered version of fu_data_o.operandb&lt;/div&gt;" vertex="1">
          <mxGeometry height="40" width="800" y="650" as="geometry" />
        </mxCell>
        <mxCell id="YD8wXlY8oEXokaMSZj_n-418" parent="YD8wXlY8oEXokaMSZj_n-402" style="text;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;html=1;fillColor=#fad9d5;strokeColor=#ae4132;" value="&lt;div&gt;output logic [CVA6Cfg.VLEN-1:0] pc_o&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; // EX_STAGE&amp;nbsp;: Program Counter&lt;/div&gt;" vertex="1">
          <mxGeometry height="30" width="800" y="690" as="geometry" />
        </mxCell>
        <mxCell id="YD8wXlY8oEXokaMSZj_n-419" parent="YD8wXlY8oEXokaMSZj_n-402" style="text;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;html=1;fillColor=#fad9d5;strokeColor=#ae4132;" value="&lt;div&gt;output logic is_zcmt_o&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; // EX_STAGE&amp;nbsp;: Is zcmt&lt;/div&gt;" vertex="1">
          <mxGeometry height="30" width="800" y="720" as="geometry" />
        </mxCell>
        <mxCell id="YD8wXlY8oEXokaMSZj_n-420" parent="YD8wXlY8oEXokaMSZj_n-402" style="text;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;html=1;fillColor=#fad9d5;strokeColor=#ae4132;" value="&lt;div&gt;output logic is_compressed_instr_o&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;// EX_STAGE &amp;nbsp;: Is compressed instruction&lt;/div&gt;" vertex="1">
          <mxGeometry height="30" width="800" y="750" as="geometry" />
        </mxCell>
        <mxCell id="YD8wXlY8oEXokaMSZj_n-421" parent="YD8wXlY8oEXokaMSZj_n-402" style="text;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;html=1;fillColor=#fad9d5;strokeColor=#ae4132;" value="&lt;div&gt;input logic flu_ready_i&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;// EX_STAGE : Fixed Latency Unit is readye&lt;/div&gt;" vertex="1">
          <mxGeometry height="30" width="800" y="780" as="geometry" />
        </mxCell>
        <mxCell id="YD8wXlY8oEXokaMSZj_n-422" parent="YD8wXlY8oEXokaMSZj_n-402" style="text;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;html=1;fillColor=#fad9d5;strokeColor=#ae4132;" value="&lt;div&gt;output logic [CVA6Cfg.NrIssuePorts-1:0] alu_valid_o&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;// EX_STAGE&amp;nbsp;: ALU output is valid&lt;/div&gt;" vertex="1">
          <mxGeometry height="30" width="800" y="810" as="geometry" />
        </mxCell>
        <mxCell id="YD8wXlY8oEXokaMSZj_n-423" parent="YD8wXlY8oEXokaMSZj_n-402" style="text;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;html=1;fillColor=#fad9d5;strokeColor=#ae4132;" value="&lt;div&gt;output logic [CVA6Cfg.NrIssuePorts-1:0] aes_valid_o&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; // EX_STAGE&amp;nbsp;: AES output is valid&lt;/div&gt;" vertex="1">
          <mxGeometry height="30" width="800" y="840" as="geometry" />
        </mxCell>
        <mxCell id="YD8wXlY8oEXokaMSZj_n-424" parent="YD8wXlY8oEXokaMSZj_n-402" style="text;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;html=1;fillColor=#fad9d5;strokeColor=#ae4132;" value="&lt;div&gt;output logic [CVA6Cfg.NrIssuePorts-1:0] branch_valid_o&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;// EX_STAGE&amp;nbsp;: Branch unit is valid&lt;/div&gt;" vertex="1">
          <mxGeometry height="30" width="800" y="870" as="geometry" />
        </mxCell>
        <mxCell id="YD8wXlY8oEXokaMSZj_n-425" parent="YD8wXlY8oEXokaMSZj_n-402" style="text;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;html=1;fillColor=#fad9d5;strokeColor=#ae4132;" value="&lt;div&gt;output logic [CVA6Cfg.NrIssuePorts-1:0][31:0] tinst_o&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; // EX_STAGE&amp;nbsp;: &lt;span style=&quot;background-color: rgb(255, 204, 255);&quot;&gt;Transformed trap instruction&lt;/span&gt;&lt;/div&gt;" vertex="1">
          <mxGeometry height="30" width="800" y="900" as="geometry" />
        </mxCell>
        <mxCell id="YD8wXlY8oEXokaMSZj_n-426" parent="YD8wXlY8oEXokaMSZj_n-402" style="text;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;html=1;fillColor=#fad9d5;strokeColor=#ae4132;" value="&lt;div&gt;output branchpredict_sbe_t branch_predict_o&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; // EX_STAGE&amp;nbsp;:&amp;nbsp;Information of branch prediction&lt;/div&gt;" vertex="1">
          <mxGeometry height="30" width="800" y="930" as="geometry" />
        </mxCell>
        <mxCell id="YD8wXlY8oEXokaMSZj_n-427" parent="YD8wXlY8oEXokaMSZj_n-402" style="text;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;html=1;fillColor=#fad9d5;strokeColor=#ae4132;" value="&lt;div&gt;input logic lsu_ready_i&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;// EX_STAGE :&amp;nbsp;Load store unit FU is ready&lt;/div&gt;" vertex="1">
          <mxGeometry height="30" width="800" y="960" as="geometry" />
        </mxCell>
        <mxCell id="YD8wXlY8oEXokaMSZj_n-428" parent="YD8wXlY8oEXokaMSZj_n-402" style="text;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;html=1;fillColor=#fad9d5;strokeColor=#ae4132;" value="&lt;div&gt;output logic [CVA6Cfg.NrIssuePorts-1:0] lsu_valid_o&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;// EX_STAGE&amp;nbsp;:&amp;nbsp;Load store unit FU is valid&lt;/div&gt;" vertex="1">
          <mxGeometry height="30" width="800" y="990" as="geometry" />
        </mxCell>
        <mxCell id="YD8wXlY8oEXokaMSZj_n-429" parent="YD8wXlY8oEXokaMSZj_n-402" style="text;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;html=1;fillColor=#fad9d5;strokeColor=#ae4132;" value="&lt;div&gt;output logic [CVA6Cfg.NrIssuePorts-1:0] mult_valid_o&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;// EX_STAGE&amp;nbsp;:&amp;nbsp;Mult FU is valid&lt;/div&gt;" vertex="1">
          <mxGeometry height="30" width="800" y="1020" as="geometry" />
        </mxCell>
        <mxCell id="YD8wXlY8oEXokaMSZj_n-430" parent="YD8wXlY8oEXokaMSZj_n-402" style="text;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;html=1;fillColor=#fad9d5;strokeColor=#ae4132;" value="&lt;div&gt;input logic fpu_ready_i&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; // EX_STAGE :&amp;nbsp;FPU FU is ready&lt;/div&gt;" vertex="1">
          <mxGeometry height="30" width="800" y="1050" as="geometry" />
        </mxCell>
        <mxCell id="YD8wXlY8oEXokaMSZj_n-431" parent="YD8wXlY8oEXokaMSZj_n-402" style="text;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;html=1;fillColor=#fad9d5;strokeColor=#ae4132;" value="&lt;div&gt;output logic [CVA6Cfg.NrIssuePorts-1:0] fpu_valid_o&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;// EX_STAGE&amp;nbsp;:&amp;nbsp;FPU FU is valid&lt;/div&gt;" vertex="1">
          <mxGeometry height="30" width="800" y="1080" as="geometry" />
        </mxCell>
        <mxCell id="YD8wXlY8oEXokaMSZj_n-432" parent="YD8wXlY8oEXokaMSZj_n-402" style="text;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;html=1;fillColor=#fad9d5;strokeColor=#ae4132;" value="&lt;div&gt;output logic [1:0] fpu_fmt_o&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;// EX_STAGE&amp;nbsp;:&amp;nbsp;FPU fmt field&lt;/div&gt;" vertex="1">
          <mxGeometry height="30" width="800" y="1110" as="geometry" />
        </mxCell>
        <mxCell id="YD8wXlY8oEXokaMSZj_n-433" parent="YD8wXlY8oEXokaMSZj_n-402" style="text;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;html=1;fillColor=#fad9d5;strokeColor=#ae4132;" value="&lt;div&gt;output logic [2:0] fpu_rm_o&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;// EX_STAGE&amp;nbsp;:&amp;nbsp;FPU rm field&lt;/div&gt;" vertex="1">
          <mxGeometry height="30" width="800" y="1140" as="geometry" />
        </mxCell>
        <mxCell id="YD8wXlY8oEXokaMSZj_n-434" parent="YD8wXlY8oEXokaMSZj_n-402" style="text;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;html=1;fillColor=#fad9d5;strokeColor=#ae4132;" value="&lt;div&gt;output logic [5:0] orig_instr_aes_bits&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; // EX_STAGE&amp;nbsp;:&amp;nbsp;Original instruction bits for AES&lt;/div&gt;" vertex="1">
          <mxGeometry height="30" width="800" y="1170" as="geometry" />
        </mxCell>
        <mxCell id="YD8wXlY8oEXokaMSZj_n-435" parent="YD8wXlY8oEXokaMSZj_n-402" style="text;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;html=1;fillColor=#fad9d5;strokeColor=#ae4132;" value="&lt;div&gt;output logic [CVA6Cfg.NrIssuePorts-1:0] alu2_valid_o&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; // EX_STAGE&amp;nbsp;:&amp;nbsp;ALU2 FU is valid&lt;/div&gt;" vertex="1">
          <mxGeometry height="30" width="800" y="1200" as="geometry" />
        </mxCell>
        <mxCell id="YD8wXlY8oEXokaMSZj_n-436" parent="YD8wXlY8oEXokaMSZj_n-402" style="text;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;html=1;fillColor=#fad9d5;strokeColor=#ae4132;" value="&lt;div&gt;output logic [CVA6Cfg.NrIssuePorts-1:0] csr_valid_o&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; // EX_STAGE&amp;nbsp;:&amp;nbsp;CSR is valid&lt;/div&gt;" vertex="1">
          <mxGeometry height="30" width="800" y="1230" as="geometry" />
        </mxCell>
        <mxCell id="YD8wXlY8oEXokaMSZj_n-437" parent="YD8wXlY8oEXokaMSZj_n-402" style="text;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;html=1;fillColor=#fad9d5;strokeColor=#ae4132;" value="&lt;div&gt;output logic [CVA6Cfg.NrIssuePorts-1:0] cvxif_valid_o&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; // EX_STAGE&amp;nbsp;:&amp;nbsp;CVXIF FU is valid&lt;/div&gt;" vertex="1">
          <mxGeometry height="30" width="800" y="1260" as="geometry" />
        </mxCell>
        <mxCell id="YD8wXlY8oEXokaMSZj_n-438" parent="YD8wXlY8oEXokaMSZj_n-402" style="text;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;html=1;fillColor=#fad9d5;strokeColor=#ae4132;" value="&lt;div&gt;input logic cvxif_ready_i&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;// EX_STAGE :&amp;nbsp;CVXIF is FU ready&lt;/div&gt;" vertex="1">
          <mxGeometry height="30" width="800" y="1290" as="geometry" />
        </mxCell>
        <mxCell id="YD8wXlY8oEXokaMSZj_n-439" parent="YD8wXlY8oEXokaMSZj_n-402" style="text;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;html=1;fillColor=#fad9d5;strokeColor=#ae4132;" value="&lt;div&gt;output logic [31:0] cvxif_off_instr_o&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; // EX_STAGE&amp;nbsp;:&amp;nbsp;CVXIF offloader instruction value&lt;/div&gt;" vertex="1">
          <mxGeometry height="30" width="800" y="1320" as="geometry" />
        </mxCell>
        <mxCell id="YD8wXlY8oEXokaMSZj_n-440" parent="YD8wXlY8oEXokaMSZj_n-402" style="text;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;html=1;fillColor=#e1d5e7;strokeColor=#9673a6;" value="&lt;div&gt;input logic [CVA6Cfg.NrCommitPorts-1:0][4:0] waddr_i&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; // COMMIT_STAGE :&amp;nbsp;Destination register in the register file&lt;/div&gt;" vertex="1">
          <mxGeometry height="30" width="800" y="1350" as="geometry" />
        </mxCell>
        <mxCell id="YD8wXlY8oEXokaMSZj_n-441" parent="YD8wXlY8oEXokaMSZj_n-402" style="text;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;html=1;fillColor=#e1d5e7;strokeColor=#9673a6;" value="&lt;div&gt;input logic [CVA6Cfg.NrCommitPorts-1:0][CVA6Cfg.XLEN-1:0] wdata_i&amp;nbsp; &amp;nbsp; // COMMIT_STAGE :&amp;nbsp;Value to write to register file&lt;/div&gt;" vertex="1">
          <mxGeometry height="30" width="800" y="1380" as="geometry" />
        </mxCell>
        <mxCell id="YD8wXlY8oEXokaMSZj_n-442" parent="YD8wXlY8oEXokaMSZj_n-402" style="text;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;html=1;fillColor=#e1d5e7;strokeColor=#9673a6;" value="&lt;div&gt;input logic [CVA6Cfg.NrCommitPorts-1:0] we_gpr_i&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;// COMMIT_STAGE :&amp;nbsp;GPR write enable&lt;/div&gt;" vertex="1">
          <mxGeometry height="30" width="800" y="1410" as="geometry" />
        </mxCell>
        <mxCell id="YD8wXlY8oEXokaMSZj_n-443" parent="YD8wXlY8oEXokaMSZj_n-402" style="text;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;html=1;fillColor=#e1d5e7;strokeColor=#9673a6;" value="&lt;div&gt;input logic [CVA6Cfg.NrCommitPorts-1:0] we_fpr_i&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; // COMMIT_STAGE :&amp;nbsp;FPR write enable&lt;/div&gt;" vertex="1">
          <mxGeometry height="30" width="800" y="1440" as="geometry" />
        </mxCell>
        <mxCell id="YD8wXlY8oEXokaMSZj_n-444" parent="YD8wXlY8oEXokaMSZj_n-402" style="text;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;html=1;fillColor=#008a00;strokeColor=#005700;fontColor=#ffffff;" value="&lt;div&gt;output logic [CVA6Cfg.NrIssuePorts-1:0][CVA6Cfg.XLEN-1:0] rvfi_rs1_o&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;// RVFI :&amp;nbsp;&lt;/div&gt;" vertex="1">
          <mxGeometry height="30" width="800" y="1470" as="geometry" />
        </mxCell>
        <mxCell id="YD8wXlY8oEXokaMSZj_n-445" parent="YD8wXlY8oEXokaMSZj_n-402" style="text;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;html=1;fillColor=#008a00;strokeColor=#005700;fontColor=#ffffff;" value="&lt;div&gt;output logic [CVA6Cfg.NrIssuePorts-1:0][CVA6Cfg.XLEN-1:0] rvfi_rs2_o&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;// RVFI :&amp;nbsp;&lt;/div&gt;" vertex="1">
          <mxGeometry height="30" width="800" y="1500" as="geometry" />
        </mxCell>
        <mxCell id="YD8wXlY8oEXokaMSZj_n-446" edge="1" parent="1" source="YD8wXlY8oEXokaMSZj_n-366" style="endArrow=classic;html=1;rounded=0;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=0;entryY=0;entryDx=0;entryDy=0;" target="YD8wXlY8oEXokaMSZj_n-402" value="">
          <mxGeometry height="50" relative="1" width="50" as="geometry">
            <mxPoint x="11360" y="3231" as="sourcePoint" />
            <mxPoint x="11875" y="2400" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="YD8wXlY8oEXokaMSZj_n-447" parent="1" style="swimlane;fontStyle=1;align=center;verticalAlign=top;childLayout=stackLayout;horizontal=1;startSize=40;horizontalStack=0;resizeParent=1;resizeParentMax=0;resizeLast=0;collapsible=1;marginBottom=0;whiteSpace=wrap;html=1;fillColor=#0050ef;strokeColor=#001DBC;fontColor=#ffffff;" value="&lt;span style=&quot;text-align: left;&quot;&gt;ISSUE STAGE&lt;br&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;/home/ICer/proj/cva6/core/ex_stage.sv&lt;/span&gt;&lt;/span&gt;" vertex="1">
          <mxGeometry height="518" width="615" x="14025" y="2344" as="geometry" />
        </mxCell>
        <mxCell id="YD8wXlY8oEXokaMSZj_n-448" parent="YD8wXlY8oEXokaMSZj_n-447" style="line;strokeWidth=1;fillColor=none;align=left;verticalAlign=middle;spacingTop=-1;spacingLeft=3;spacingRight=3;rotatable=0;labelPosition=right;points=[];portConstraint=eastwest;strokeColor=inherit;" value="" vertex="1">
          <mxGeometry height="8" width="615" y="40" as="geometry" />
        </mxCell>
        <mxCell id="YD8wXlY8oEXokaMSZj_n-449" parent="YD8wXlY8oEXokaMSZj_n-447" style="text;strokeColor=default;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;html=1;" value=":&lt;div&gt;&lt;br/&gt;&lt;/div&gt;" vertex="1">
          <mxGeometry height="70" width="615" y="48" as="geometry" />
        </mxCell>
        <mxCell id="YD8wXlY8oEXokaMSZj_n-450" parent="YD8wXlY8oEXokaMSZj_n-447" style="text;strokeColor=default;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;html=1;" value="ALU" vertex="1">
          <mxGeometry height="70" width="615" y="118" as="geometry" />
        </mxCell>
        <mxCell id="YD8wXlY8oEXokaMSZj_n-451" parent="YD8wXlY8oEXokaMSZj_n-447" style="text;strokeColor=default;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;html=1;" value="Branch_unit" vertex="1">
          <mxGeometry height="66" width="615" y="188" as="geometry" />
        </mxCell>
        <mxCell id="YD8wXlY8oEXokaMSZj_n-452" parent="YD8wXlY8oEXokaMSZj_n-447" style="text;strokeColor=default;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;html=1;" value="CSR_buffer" vertex="1">
          <mxGeometry height="66" width="615" y="254" as="geometry" />
        </mxCell>
        <mxCell id="YD8wXlY8oEXokaMSZj_n-453" parent="YD8wXlY8oEXokaMSZj_n-447" style="text;strokeColor=default;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;html=1;" value="mult" vertex="1">
          <mxGeometry height="66" width="615" y="320" as="geometry" />
        </mxCell>
        <mxCell id="YD8wXlY8oEXokaMSZj_n-454" parent="YD8wXlY8oEXokaMSZj_n-447" style="text;strokeColor=default;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;html=1;" value="load_store_unit" vertex="1">
          <mxGeometry height="66" width="615" y="386" as="geometry" />
        </mxCell>
        <mxCell id="YD8wXlY8oEXokaMSZj_n-455" parent="YD8wXlY8oEXokaMSZj_n-447" style="text;strokeColor=default;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;html=1;" value="CVXIF if" vertex="1">
          <mxGeometry height="66" width="615" y="452" as="geometry" />
        </mxCell>
        <mxCell id="YD8wXlY8oEXokaMSZj_n-456" parent="1" style="swimlane;fontStyle=1;align=center;verticalAlign=top;childLayout=stackLayout;horizontal=1;startSize=40;horizontalStack=0;resizeParent=1;resizeParentMax=0;resizeLast=0;collapsible=1;marginBottom=0;whiteSpace=wrap;html=1;fillColor=#0050ef;strokeColor=#001DBC;fontColor=#ffffff;" value="&lt;span style=&quot;text-align: left;&quot;&gt;ALU_WRAPPER&lt;br&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;/home/ICer/proj/cva6/core/alu_wrapper.sv&lt;/span&gt;&lt;/span&gt;" vertex="1">
          <mxGeometry height="230" width="730" x="15200" y="1530" as="geometry" />
        </mxCell>
        <mxCell id="YD8wXlY8oEXokaMSZj_n-457" parent="YD8wXlY8oEXokaMSZj_n-456" style="line;strokeWidth=1;fillColor=none;align=left;verticalAlign=middle;spacingTop=-1;spacingLeft=3;spacingRight=3;rotatable=0;labelPosition=right;points=[];portConstraint=eastwest;strokeColor=inherit;" value="" vertex="1">
          <mxGeometry height="8" width="730" y="40" as="geometry" />
        </mxCell>
        <mxCell id="YD8wXlY8oEXokaMSZj_n-458" parent="YD8wXlY8oEXokaMSZj_n-456" style="text;strokeColor=default;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;html=1;" value=":&lt;div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;1)&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;background-color: transparent; font-size: 12px;&quot;&gt;The arithmetic logic unit (ALU) is a small piece of hardware which performs 32 and 64-bit arithmetic and bitwise operations: subtraction, addition, shifts, comparisonsIt always completes its operation in a single cycle.&lt;/span&gt;&lt;/div&gt;&lt;/div&gt;" vertex="1">
          <mxGeometry height="62" width="730" y="48" as="geometry" />
        </mxCell>
        <mxCell id="YD8wXlY8oEXokaMSZj_n-459" parent="YD8wXlY8oEXokaMSZj_n-456" style="text;strokeColor=#36393d;fillColor=#eeeeee;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;html=1;" value="&lt;div&gt;input&amp;nbsp; alu_bypass_t&amp;nbsp; &amp;nbsp; alu_bypass_i&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; //&amp;nbsp;&lt;span style=&quot;background-color: transparent;&quot;&gt;ISSUE_STAGE&lt;/span&gt;&lt;span style=&quot;color: light-dark(rgb(0, 0, 0), rgb(255, 255, 255)); background-color: transparent;&quot;&gt;&amp;nbsp;&lt;/span&gt; : ALU to ALU bypass&lt;/div&gt;" vertex="1">
          <mxGeometry height="30" width="730" y="110" as="geometry" />
        </mxCell>
        <mxCell id="YD8wXlY8oEXokaMSZj_n-460" parent="YD8wXlY8oEXokaMSZj_n-456" style="text;strokeColor=#36393d;fillColor=#eeeeee;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;html=1;" value="&lt;div&gt;input&amp;nbsp; fu_data_t&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;[CVA6Cfg.NrALUs-1:0]&amp;nbsp; &amp;nbsp;fu_data_i&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;&amp;nbsp;&lt;span style=&quot;background-color: transparent; color: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));&quot;&gt;//&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;background-color: transparent; font-size: 12px;&quot;&gt;ISSUE_STAGE&lt;/span&gt;&lt;span style=&quot;background-color: transparent; color: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));&quot;&gt;&amp;nbsp; :&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;background-color: transparent; color: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));&quot;&gt;ALU&lt;/span&gt;&lt;/div&gt;" vertex="1">
          <mxGeometry height="30" width="730" y="140" as="geometry" />
        </mxCell>
        <mxCell id="YD8wXlY8oEXokaMSZj_n-461" parent="YD8wXlY8oEXokaMSZj_n-456" style="text;strokeColor=#36393d;fillColor=#eeeeee;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;html=1;" value="&lt;div&gt;output logic&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; [CVA6Cfg.NrALUs-1:0][CVA6Cfg.XLEN-1:0] result_o&amp;nbsp; &amp;nbsp; &amp;nbsp;&amp;nbsp;&lt;span style=&quot;background-color: transparent; color: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));&quot;&gt;//&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;background-color: transparent; font-size: 12px;&quot;&gt;ISSUE_STAGE&lt;/span&gt;&lt;span style=&quot;background-color: transparent; color: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));&quot;&gt;&amp;nbsp; : ALU result&lt;/span&gt;&lt;/div&gt;" vertex="1">
          <mxGeometry height="30" width="730" y="170" as="geometry" />
        </mxCell>
        <mxCell id="YD8wXlY8oEXokaMSZj_n-462" parent="YD8wXlY8oEXokaMSZj_n-456" style="text;strokeColor=#36393d;fillColor=#eeeeee;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;html=1;" value="&lt;div&gt;output logic&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; alu_branch_res_o&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;&lt;span style=&quot;background-color: transparent; color: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));&quot;&gt;//&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;background-color: transparent; font-size: 12px;&quot;&gt;branch_unit &lt;/span&gt;&lt;font style=&quot;color: rgb(0, 0, 0);&quot;&gt;&amp;nbsp;: branch unit&amp;nbsp;&lt;/font&gt;&lt;/div&gt;" vertex="1">
          <mxGeometry height="30" width="730" y="200" as="geometry" />
        </mxCell>
        <mxCell id="YD8wXlY8oEXokaMSZj_n-463" edge="1" parent="1" source="YD8wXlY8oEXokaMSZj_n-450" style="endArrow=classic;html=1;rounded=0;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=0;entryY=0;entryDx=0;entryDy=0;" target="YD8wXlY8oEXokaMSZj_n-456" value="">
          <mxGeometry height="50" relative="1" width="50" as="geometry">
            <mxPoint x="14760" y="2354" as="sourcePoint" />
            <mxPoint x="15205" y="1875" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="YD8wXlY8oEXokaMSZj_n-464" edge="1" parent="1" source="YD8wXlY8oEXokaMSZj_n-452" style="endArrow=classic;html=1;rounded=0;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=0;entryY=0;entryDx=0;entryDy=0;fontStyle=4" target="YD8wXlY8oEXokaMSZj_n-483" value="">
          <mxGeometry height="50" relative="1" width="50" as="geometry">
            <mxPoint x="15060" y="3266" as="sourcePoint" />
            <mxPoint x="15430" y="2945.000000000001" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="YD8wXlY8oEXokaMSZj_n-465" parent="1" style="swimlane;fontStyle=1;align=center;verticalAlign=top;childLayout=stackLayout;horizontal=1;startSize=40;horizontalStack=0;resizeParent=1;resizeParentMax=0;resizeLast=0;collapsible=1;marginBottom=0;whiteSpace=wrap;html=1;fillColor=#0050ef;strokeColor=#001DBC;fontColor=#ffffff;" value="&lt;span style=&quot;text-align: left;&quot;&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;branch_unit&lt;/span&gt;&lt;br&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;/home/ICer/proj/cva6/core/branch_unit.sv&lt;/span&gt;&lt;/span&gt;" vertex="1">
          <mxGeometry height="540" width="730" x="15200" y="1880" as="geometry" />
        </mxCell>
        <mxCell id="YD8wXlY8oEXokaMSZj_n-466" parent="YD8wXlY8oEXokaMSZj_n-465" style="line;strokeWidth=1;fillColor=none;align=left;verticalAlign=middle;spacingTop=-1;spacingLeft=3;spacingRight=3;rotatable=0;labelPosition=right;points=[];portConstraint=eastwest;strokeColor=inherit;" value="" vertex="1">
          <mxGeometry height="8" width="730" y="40" as="geometry" />
        </mxCell>
        <mxCell id="YD8wXlY8oEXokaMSZj_n-467" parent="YD8wXlY8oEXokaMSZj_n-465" style="text;strokeColor=default;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;html=1;" value=":&lt;div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;1)&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;background-color: transparent; font-size: 12px;&quot;&gt;The branch unit module manages all kinds of control flow changes i.e.: conditional and unconditional jumps.&amp;nbsp;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;2) It calculates the target address and decides whether to take the branch or not.&amp;nbsp;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;3) It also decides if a branch was mis-predicted or not and reports corrective actions to the pipeline stages.&lt;/span&gt;&lt;/div&gt;&lt;/div&gt;" vertex="1">
          <mxGeometry height="72" width="730" y="48" as="geometry" />
        </mxCell>
        <mxCell id="YD8wXlY8oEXokaMSZj_n-468" parent="YD8wXlY8oEXokaMSZj_n-465" style="text;strokeColor=#666666;fillColor=#f5f5f5;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;html=1;fontColor=#333333;" value="&lt;div&gt;input logic branch_comp_res_i&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &lt;span style=&quot;background-color: transparent; color: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));&quot;&gt;// ALU&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;background-color: transparent; font-size: 12px;&quot;&gt;&lt;/span&gt;&lt;font style=&quot;color: rgb(0, 0, 0);&quot;&gt;&amp;nbsp;:&amp;nbsp;ALU branch compare result&lt;/font&gt;&lt;/div&gt;" vertex="1">
          <mxGeometry height="30" width="730" y="120" as="geometry" />
        </mxCell>
        <mxCell id="YD8wXlY8oEXokaMSZj_n-469" parent="YD8wXlY8oEXokaMSZj_n-465" style="text;strokeColor=#82b366;fillColor=#d5e8d4;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;html=1;" value="&lt;div&gt;input logic v_i&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; // &lt;span style=&quot;font-size: 12px;&quot;&gt;CSR_REGFILE&amp;nbsp;&lt;/span&gt; : Virtualization mode state&amp;nbsp;&lt;/div&gt;" vertex="1">
          <mxGeometry height="30" width="730" y="150" as="geometry" />
        </mxCell>
        <mxCell id="YD8wXlY8oEXokaMSZj_n-470" parent="YD8wXlY8oEXokaMSZj_n-465" style="text;strokeColor=#82b366;fillColor=#d5e8d4;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;html=1;" value="&lt;div&gt;input logic debug_mode_i&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;&lt;span style=&quot;background-color: transparent; color: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));&quot;&gt;//&amp;nbsp;&lt;/span&gt;CSR_REGFILE&amp;nbsp;&lt;span style=&quot;background-color: transparent; color: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));&quot;&gt; :&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;background-color: transparent; font-size: 12px;&quot;&gt;Debug mode state&lt;/span&gt;&lt;/div&gt;" vertex="1">
          <mxGeometry height="30" width="730" y="180" as="geometry" />
        </mxCell>
        <mxCell id="YD8wXlY8oEXokaMSZj_n-471" parent="YD8wXlY8oEXokaMSZj_n-465" style="text;strokeColor=#d6b656;fillColor=#fff2cc;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;html=1;" value="&lt;div&gt;input fu_data_t fu_data_i&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;&amp;nbsp;&lt;span style=&quot;background-color: transparent; color: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));&quot;&gt;//&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;background-color: transparent; font-size: 12px;&quot;&gt;ISSUE_STAGE&lt;/span&gt;&lt;span style=&quot;background-color: transparent; color: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));&quot;&gt;&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;background-color: transparent; color: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));&quot;&gt;&amp;nbsp;:&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;background-color: transparent; font-size: 12px;&quot;&gt;FU data needed to execute instruction&lt;/span&gt;&lt;span style=&quot;background-color: transparent; color: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));&quot;&gt;&amp;nbsp;&lt;/span&gt;&lt;/div&gt;" vertex="1">
          <mxGeometry height="30" width="730" y="210" as="geometry" />
        </mxCell>
        <mxCell id="YD8wXlY8oEXokaMSZj_n-472" parent="YD8wXlY8oEXokaMSZj_n-465" style="text;strokeColor=#d6b656;fillColor=#fff2cc;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;html=1;" value="&lt;div&gt;input logic [CVA6Cfg.VLEN-1:0] pc_i&amp;nbsp; &amp;nbsp; &amp;nbsp; &lt;span style=&quot;background-color: transparent; color: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));&quot;&gt;//&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;background-color: transparent;&quot;&gt;ISSUE_STAGE&lt;/span&gt;&lt;span style=&quot;color: light-dark(rgb(0, 0, 0), rgb(255, 255, 255)); background-color: transparent;&quot;&gt;&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;background-color: transparent; font-size: 12px;&quot;&gt;&lt;/span&gt;&lt;font style=&quot;color: rgb(0, 0, 0);&quot;&gt;&amp;nbsp;: Instruction PC&amp;nbsp;&lt;/font&gt;&lt;/div&gt;" vertex="1">
          <mxGeometry height="30" width="730" y="240" as="geometry" />
        </mxCell>
        <mxCell id="YD8wXlY8oEXokaMSZj_n-473" parent="YD8wXlY8oEXokaMSZj_n-465" style="text;strokeColor=#d6b656;fillColor=#fff2cc;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;html=1;" value="&lt;div&gt;input logic is_zcmt_i&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &lt;span style=&quot;background-color: transparent; color: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));&quot;&gt;//&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;background-color: transparent;&quot;&gt;ISSUE_STAGE&lt;/span&gt;&lt;span style=&quot;color: light-dark(rgb(0, 0, 0), rgb(255, 255, 255)); background-color: transparent;&quot;&gt;&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;background-color: transparent; font-size: 12px;&quot;&gt;&lt;/span&gt;&lt;font style=&quot;color: rgb(0, 0, 0);&quot;&gt;&amp;nbsp;: Is zcmt instruction&amp;nbsp;&lt;/font&gt;&lt;/div&gt;" vertex="1">
          <mxGeometry height="30" width="730" y="270" as="geometry" />
        </mxCell>
        <mxCell id="YD8wXlY8oEXokaMSZj_n-474" parent="YD8wXlY8oEXokaMSZj_n-465" style="text;strokeColor=#d6b656;fillColor=#fff2cc;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;html=1;" value="&lt;div&gt;input logic is_compressed_instr_i&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;&amp;nbsp;&lt;span style=&quot;background-color: transparent; color: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));&quot;&gt;//&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;background-color: transparent;&quot;&gt;ISSUE_STAGE&lt;/span&gt;&lt;span style=&quot;color: light-dark(rgb(0, 0, 0), rgb(255, 255, 255)); background-color: transparent;&quot;&gt;&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;background-color: transparent; font-size: 12px;&quot;&gt;&lt;/span&gt;&lt;font style=&quot;color: rgb(0, 0, 0);&quot;&gt;&amp;nbsp;:&amp;nbsp;Instruction is compressed&amp;nbsp;&lt;/font&gt;&lt;/div&gt;" vertex="1">
          <mxGeometry height="30" width="730" y="300" as="geometry" />
        </mxCell>
        <mxCell id="YD8wXlY8oEXokaMSZj_n-475" parent="YD8wXlY8oEXokaMSZj_n-465" style="text;strokeColor=#d6b656;fillColor=#fff2cc;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;html=1;" value="&lt;div&gt;input logic branch_valid_i&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;&lt;span style=&quot;background-color: transparent; color: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));&quot;&gt;//&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;background-color: transparent;&quot;&gt;ISSUE_STAGE&lt;/span&gt;&lt;span style=&quot;color: light-dark(rgb(0, 0, 0), rgb(255, 255, 255)); background-color: transparent;&quot;&gt;&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;background-color: transparent; font-size: 12px;&quot;&gt;&lt;/span&gt;&lt;font style=&quot;color: rgb(0, 0, 0);&quot;&gt;&amp;nbsp;:&amp;nbsp;Branch unit instruction is valid&lt;/font&gt;&lt;/div&gt;" vertex="1">
          <mxGeometry height="30" width="730" y="330" as="geometry" />
        </mxCell>
        <mxCell id="YD8wXlY8oEXokaMSZj_n-476" parent="YD8wXlY8oEXokaMSZj_n-465" style="text;strokeColor=#d6b656;fillColor=#fff2cc;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;html=1;" value="&lt;div&gt;input logic branch_comp_res_i&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &lt;span style=&quot;background-color: transparent; color: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));&quot;&gt;//&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;background-color: transparent;&quot;&gt;ISSUE_STAGE&lt;/span&gt;&lt;span style=&quot;color: light-dark(rgb(0, 0, 0), rgb(255, 255, 255)); background-color: transparent;&quot;&gt;&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;background-color: transparent; font-size: 12px;&quot;&gt;&lt;/span&gt;&lt;font style=&quot;color: rgb(0, 0, 0);&quot;&gt;&amp;nbsp;:&amp;nbsp;ALU branch compare result&lt;/font&gt;&lt;/div&gt;" vertex="1">
          <mxGeometry height="30" width="730" y="360" as="geometry" />
        </mxCell>
        <mxCell id="YD8wXlY8oEXokaMSZj_n-477" parent="YD8wXlY8oEXokaMSZj_n-465" style="text;strokeColor=#d6b656;fillColor=#fff2cc;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;html=1;" value="&lt;div&gt;input branchpredict_sbe_t branch_predict_i&amp;nbsp;&amp;nbsp;&lt;span style=&quot;background-color: transparent; color: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));&quot;&gt;//&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;background-color: transparent;&quot;&gt;ISSUE_STAGE&lt;/span&gt;&lt;span style=&quot;color: light-dark(rgb(0, 0, 0), rgb(255, 255, 255)); background-color: transparent;&quot;&gt;&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;background-color: transparent; font-size: 12px;&quot;&gt;&lt;/span&gt;&lt;font style=&quot;color: rgb(0, 0, 0);&quot;&gt;&amp;nbsp;:&amp;nbsp;Information of branch prediction&lt;/font&gt;&lt;/div&gt;" vertex="1">
          <mxGeometry height="30" width="730" y="390" as="geometry" />
        </mxCell>
        <mxCell id="YD8wXlY8oEXokaMSZj_n-478" parent="YD8wXlY8oEXokaMSZj_n-465" style="text;strokeColor=#d6b656;fillColor=#fff2cc;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;html=1;" value="&lt;div&gt;output logic [CVA6Cfg.VLEN-1:0] branch_result_o&amp;nbsp;&amp;nbsp;&lt;span style=&quot;background-color: transparent; color: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));&quot;&gt;//&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;background-color: transparent;&quot;&gt;ISSUE_STAGE&lt;/span&gt;&lt;span style=&quot;color: light-dark(rgb(0, 0, 0), rgb(255, 255, 255)); background-color: transparent;&quot;&gt;&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;background-color: transparent; font-size: 12px;&quot;&gt;&lt;/span&gt;&lt;font style=&quot;color: rgb(0, 0, 0);&quot;&gt;&amp;nbsp;:&amp;nbsp;Brach unit result&lt;/font&gt;&lt;/div&gt;" vertex="1">
          <mxGeometry height="30" width="730" y="420" as="geometry" />
        </mxCell>
        <mxCell id="YD8wXlY8oEXokaMSZj_n-479" parent="YD8wXlY8oEXokaMSZj_n-465" style="text;strokeColor=#d6b656;fillColor=#fff2cc;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;html=1;" value="&lt;div&gt;&lt;span style=&quot;color: rgba(0, 0, 0, 0); font-family: monospace; font-size: 0px; text-wrap-mode: nowrap; background-color: transparent;&quot;&gt;%3CmxGraphModel%3E%3Croot%3E%3CmxCell%20id%3D%220%22%2F%3E%3CmxCell%20id%3D%221%22%20parent%3D%220%22%2F%3E%3CmxCell%20id%3D%222%22%20value%3D%22%26lt%3Bdiv%26gt%3Boutput%20logic%20%5BCVA6Cfg.VLEN-1%3A0%5D%20branch_result_o%26amp%3Bnbsp%3B%26amp%3Bnbsp%3B%26lt%3Bspan%20style%3D%26quot%3Bbackground-color%3A%20transparent%3B%20color%3A%20light-dark(rgb(0%2C%200%2C%200)%2C%20rgb(255%2C%20255%2C%20255))%3B%26quot%3B%26gt%3B%2F%2F%26amp%3Bnbsp%3B%26lt%3B%2Fspan%26gt%3B%26lt%3Bspan%20style%3D%26quot%3Bbackground-color%3A%20transparent%3B%26quot%3B%26gt%3BISSUE_STAGE%26lt%3B%2Fspan%26gt%3B%26lt%3Bspan%20style%3D%26quot%3Bcolor%3A%20light-dark(rgb(0%2C%200%2C%200)%2C%20rgb(255%2C%20255%2C%20255))%3B%20background-color%3A%20transparent%3B%26quot%3B%26gt%3B%26amp%3Bnbsp%3B%26lt%3B%2Fspan%26gt%3B%26lt%3Bspan%20style%3D%26quot%3Bbackground-color%3A%20transparent%3B%20font-size%3A%2012px%3B%26quot%3B%26gt%3B%E6%A8%A1%E5%9D%97%E8%BE%93%E5%87%BA%26lt%3B%2Fspan%26gt%3B%26lt%3Bfont%20style%3D%26quot%3Bcolor%3A%20rgb(0%2C%200%2C%200)%3B%26quot%3B%26gt%3B%26amp%3Bnbsp%3B%3A%26amp%3Bnbsp%3BBrach%20unit%20result%26lt%3B%2Ffont%26gt%3B%26lt%3B%2Fdiv%26gt%3B%22%20style%3D%22text%3BstrokeColor%3D%23d6b656%3BfillColor%3D%23fff2cc%3Balign%3Dleft%3BverticalAlign%3Dtop%3BspacingLeft%3D4%3BspacingRight%3D4%3Boverflow%3Dhidden%3Brotatable%3D0%3Bpoints%3D%5B%5B0%2C0.5%5D%2C%5B1%2C0.5%5D%5D%3BportConstraint%3Deastwest%3BwhiteSpace%3Dwrap%3Bhtml%3D1%3B%22%20vertex%3D%221%22%20parent%3D%221%22%3E%3CmxGeometry%20x%3D%2215220%22%20y%3D%222380%22%20width%3D%22730%22%20height%3D%2230%22%20as%3D%22geometry%22%2F%3E%3C%2FmxCell%3E%3C%2Froot%3E%3C%2FmxGraphModel%3E&lt;/span&gt;output bp_resolve_t resolved_branch_o&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;&lt;span style=&quot;background-color: transparent; color: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));&quot;&gt;//&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;background-color: transparent;&quot;&gt;ISSUE_STAGE&lt;/span&gt;&lt;span style=&quot;color: light-dark(rgb(0, 0, 0), rgb(255, 255, 255)); background-color: transparent;&quot;&gt;&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;background-color: transparent; font-size: 12px;&quot;&gt;&lt;/span&gt;&lt;font style=&quot;color: rgb(0, 0, 0);&quot;&gt;&amp;nbsp;:&amp;nbsp;Signaling that we resolved the branch&lt;/font&gt;&lt;/div&gt;" vertex="1">
          <mxGeometry height="30" width="730" y="450" as="geometry" />
        </mxCell>
        <mxCell id="YD8wXlY8oEXokaMSZj_n-480" parent="YD8wXlY8oEXokaMSZj_n-465" style="text;strokeColor=#6c8ebf;fillColor=#dae8fc;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;html=1;" value="&lt;div&gt;&lt;span style=&quot;color: rgba(0, 0, 0, 0); font-family: monospace; font-size: 0px; text-wrap-mode: nowrap; background-color: transparent;&quot;&gt;%3CmxGraphModel%3E%3Croot%3E%3CmxCell%20id%3D%220%22%2F%3E%3CmxCell%20id%3D%221%22%20parent%3D%220%22%2F%3E%3CmxCell%20id%3D%222%22%20value%3D%22%26lt%3Bdiv%26gt%3Boutput%20logic%20%5BCVA6Cfg.VLEN-1%3A0%5D%20branch_result_o%26amp%3Bnbsp%3B%26amp%3Bnbsp%3B%26lt%3Bspan%20style%3D%26quot%3Bbackground-color%3A%20transparent%3B%20color%3A%20light-dark(rgb(0%2C%200%2C%200)%2C%20rgb(255%2C%20255%2C%20255))%3B%26quot%3B%26gt%3B%2F%2F%26amp%3Bnbsp%3B%26lt%3B%2Fspan%26gt%3B%26lt%3Bspan%20style%3D%26quot%3Bbackground-color%3A%20transparent%3B%26quot%3B%26gt%3BISSUE_STAGE%26lt%3B%2Fspan%26gt%3B%26lt%3Bspan%20style%3D%26quot%3Bcolor%3A%20light-dark(rgb(0%2C%200%2C%200)%2C%20rgb(255%2C%20255%2C%20255))%3B%20background-color%3A%20transparent%3B%26quot%3B%26gt%3B%26amp%3Bnbsp%3B%26lt%3B%2Fspan%26gt%3B%26lt%3Bspan%20style%3D%26quot%3Bbackground-color%3A%20transparent%3B%20font-size%3A%2012px%3B%26quot%3B%26gt%3B%E6%A8%A1%E5%9D%97%E8%BE%93%E5%87%BA%26lt%3B%2Fspan%26gt%3B%26lt%3Bfont%20style%3D%26quot%3Bcolor%3A%20rgb(0%2C%200%2C%200)%3B%26quot%3B%26gt%3B%26amp%3Bnbsp%3B%3A%26amp%3Bnbsp%3BBrach%20unit%20result%26lt%3B%2Ffont%26gt%3B%26lt%3B%2Fdiv%26gt%3B%22%20style%3D%22text%3BstrokeColor%3D%23d6b656%3BfillColor%3D%23fff2cc%3Balign%3Dleft%3BverticalAlign%3Dtop%3BspacingLeft%3D4%3BspacingRight%3D4%3Boverflow%3Dhidden%3Brotatable%3D0%3Bpoints%3D%5B%5B0%2C0.5%5D%2C%5B1%2C0.5%5D%5D%3BportConstraint%3Deastwest%3BwhiteSpace%3Dwrap%3Bhtml%3D1%3B%22%20vertex%3D%221%22%20parent%3D%221%22%3E%3CmxGeometry%20x%3D%2215220%22%20y%3D%222380%22%20width%3D%22730%22%20height%3D%2230%22%20as%3D%22geometry%22%2F%3E%3C%2FmxCell%3E%3C%2Froot%3E%3C%2FmxGraphModel%3E&lt;/span&gt;output logic resolve_branch_o&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;&lt;span style=&quot;background-color: transparent; color: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));&quot;&gt;//&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;background-color: transparent;&quot;&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;ID_STAGE &lt;/span&gt;&lt;/span&gt;&lt;font style=&quot;color: rgb(0, 0, 0);&quot;&gt;&amp;nbsp;:&amp;nbsp;Branch is resolved, new entries can be accepted by scoreboard&lt;/font&gt;&lt;/div&gt;" vertex="1">
          <mxGeometry height="30" width="730" y="480" as="geometry" />
        </mxCell>
        <mxCell id="YD8wXlY8oEXokaMSZj_n-481" parent="YD8wXlY8oEXokaMSZj_n-465" style="text;strokeColor=#82b366;fillColor=#d5e8d4;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;html=1;" value="&lt;div&gt;&lt;span style=&quot;background-color: transparent; font-size: 0px; text-wrap-mode: nowrap;&quot;&gt;&lt;font color=&quot;rgba(0, 0, 0, 0)&quot; face=&quot;monospace&quot;&gt;output exception_t branch_exception_o&lt;/font&gt;&lt;/span&gt;output exception_t branch_exception_o &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;&lt;span style=&quot;background-color: transparent; color: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));&quot;&gt;//&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;background-color: transparent;&quot;&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;PERF_COUNTER ISSUE_STATGE &lt;/span&gt;&lt;/span&gt;&lt;font style=&quot;color: rgb(0, 0, 0);&quot;&gt;&amp;nbsp;:&amp;nbsp;Branch exception out&lt;/font&gt;&lt;/div&gt;" vertex="1">
          <mxGeometry height="30" width="730" y="510" as="geometry" />
        </mxCell>
        <mxCell id="YD8wXlY8oEXokaMSZj_n-482" edge="1" parent="1" source="YD8wXlY8oEXokaMSZj_n-451" style="endArrow=classic;html=1;rounded=0;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=0;entryY=0;entryDx=0;entryDy=0;" target="YD8wXlY8oEXokaMSZj_n-465" value="">
          <mxGeometry height="50" relative="1" width="50" as="geometry">
            <mxPoint x="15040" y="3396" as="sourcePoint" />
            <mxPoint x="15575" y="2495" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="YD8wXlY8oEXokaMSZj_n-483" parent="1" style="swimlane;fontStyle=1;align=center;verticalAlign=top;childLayout=stackLayout;horizontal=1;startSize=40;horizontalStack=0;resizeParent=1;resizeParentMax=0;resizeLast=0;collapsible=1;marginBottom=0;whiteSpace=wrap;html=1;fillColor=#0050ef;strokeColor=#001DBC;fontColor=#ffffff;" value="&lt;span style=&quot;text-align: left;&quot;&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;CSR_buffer&lt;/span&gt;&lt;br&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;/home/ICer/proj/cva6/core/csr_buffer.sv&lt;/span&gt;&lt;/span&gt;" vertex="1">
          <mxGeometry height="330" width="730" x="15200" y="2514" as="geometry" />
        </mxCell>
        <mxCell id="YD8wXlY8oEXokaMSZj_n-484" parent="YD8wXlY8oEXokaMSZj_n-483" style="line;strokeWidth=1;fillColor=none;align=left;verticalAlign=middle;spacingTop=-1;spacingLeft=3;spacingRight=3;rotatable=0;labelPosition=right;points=[];portConstraint=eastwest;strokeColor=inherit;" value="" vertex="1">
          <mxGeometry height="8" width="730" y="40" as="geometry" />
        </mxCell>
        <mxCell id="YD8wXlY8oEXokaMSZj_n-485" parent="YD8wXlY8oEXokaMSZj_n-483" style="text;strokeColor=default;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;html=1;" value=":&lt;div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;1)&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;background-color: transparent; font-size: 12px;&quot;&gt;The CSR buffer module stores the CSR address at which the instruction is going to read/write.&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;background-color: transparent; font-size: 12px;&quot;&gt;As the CSR instruction alters the processor architectural state, this instruction has to be buffered until the commit stage decides to execute the instruction.&lt;/span&gt;&lt;/div&gt;&lt;/div&gt;" vertex="1">
          <mxGeometry height="72" width="730" y="48" as="geometry" />
        </mxCell>
        <mxCell id="YD8wXlY8oEXokaMSZj_n-486" parent="YD8wXlY8oEXokaMSZj_n-483" style="text;strokeColor=#d79b00;fillColor=#ffe6cc;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;html=1;" value="&lt;div&gt;input logic flush_i&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;&amp;nbsp;&lt;span style=&quot;background-color: transparent; color: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));&quot;&gt;//&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;background-color: transparent;&quot;&gt;&lt;font color=&quot;#000000&quot;&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;CONTROLLER&amp;nbsp;&lt;/span&gt;&lt;/font&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&lt;/span&gt;&lt;/span&gt;&lt;font style=&quot;color: rgb(0, 0, 0);&quot;&gt;&amp;nbsp;: Flush CSR buffer&lt;/font&gt;&lt;/div&gt;" vertex="1">
          <mxGeometry height="30" width="730" y="120" as="geometry" />
        </mxCell>
        <mxCell id="YD8wXlY8oEXokaMSZj_n-487" parent="YD8wXlY8oEXokaMSZj_n-483" style="text;strokeColor=#d6b656;fillColor=#fff2cc;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;html=1;" value="&lt;div&gt;input fu_data_t fu_data_i&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; // &lt;span style=&quot;font-size: 12px;&quot;&gt;ISSUE_STAGE&amp;nbsp;&lt;/span&gt; : FU data needed to execute instruction&amp;nbsp;&lt;/div&gt;" vertex="1">
          <mxGeometry height="30" width="730" y="150" as="geometry" />
        </mxCell>
        <mxCell id="YD8wXlY8oEXokaMSZj_n-488" parent="YD8wXlY8oEXokaMSZj_n-483" style="text;strokeColor=#d6b656;fillColor=#fff2cc;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;html=1;" value="&lt;div&gt;input logic csr_valid_i&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;&amp;nbsp;&lt;span style=&quot;background-color: transparent; color: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));&quot;&gt;//&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;background-color: transparent; font-size: 12px;&quot;&gt;ISSUE_STAGE&lt;/span&gt;&lt;span style=&quot;background-color: transparent; color: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));&quot;&gt;&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;background-color: transparent; color: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));&quot;&gt;&amp;nbsp;:&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;background-color: transparent;&quot;&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;CSR instruction is valid&lt;/span&gt;&lt;font color=&quot;rgba(0, 0, 0, 0)&quot;&gt;&amp;nbsp;&lt;/font&gt;&lt;/span&gt;&lt;/div&gt;" vertex="1">
          <mxGeometry height="30" width="730" y="180" as="geometry" />
        </mxCell>
        <mxCell id="YD8wXlY8oEXokaMSZj_n-489" parent="YD8wXlY8oEXokaMSZj_n-483" style="text;strokeColor=#d6b656;fillColor=#fff2cc;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;html=1;" value="&lt;div&gt;&lt;span style=&quot;background-color: transparent; color: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));&quot;&gt;output logic csr_ready_o&lt;/span&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;&lt;span style=&quot;background-color: transparent; color: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));&quot;&gt;//&amp;nbsp;&lt;/span&gt;ISSUE_STAGE&amp;nbsp;&lt;span style=&quot;background-color: transparent; color: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));&quot;&gt; :&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;background-color: transparent; font-size: 12px;&quot;&gt;CSR FU is ready&lt;/span&gt;&lt;/div&gt;" vertex="1">
          <mxGeometry height="30" width="730" y="210" as="geometry" />
        </mxCell>
        <mxCell id="YD8wXlY8oEXokaMSZj_n-490" parent="YD8wXlY8oEXokaMSZj_n-483" style="text;strokeColor=#d6b656;fillColor=#fff2cc;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;html=1;" value="&lt;div&gt;output logic [CVA6Cfg.XLEN-1:0] csr_result_o&amp;nbsp; &amp;nbsp; &amp;nbsp; &lt;span style=&quot;background-color: transparent; color: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));&quot;&gt;//&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;background-color: transparent;&quot;&gt;ISSUE_STAGE&lt;/span&gt;&lt;span style=&quot;color: light-dark(rgb(0, 0, 0), rgb(255, 255, 255)); background-color: transparent;&quot;&gt;&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;background-color: transparent; font-size: 12px;&quot;&gt;&lt;/span&gt;&lt;font style=&quot;color: rgb(0, 0, 0);&quot;&gt;&amp;nbsp;: CSR buffer result&amp;nbsp;&lt;/font&gt;&lt;/div&gt;" vertex="1">
          <mxGeometry height="30" width="730" y="240" as="geometry" />
        </mxCell>
        <mxCell id="YD8wXlY8oEXokaMSZj_n-491" parent="YD8wXlY8oEXokaMSZj_n-483" style="text;strokeColor=#9673a6;fillColor=#e1d5e7;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;html=1;" value="&lt;div&gt;input logic csr_commit_i&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;&lt;span style=&quot;background-color: transparent; color: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));&quot;&gt;//&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;background-color: transparent;&quot;&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;COMMIT_STAGE &lt;/span&gt;&lt;/span&gt;&lt;font style=&quot;color: rgb(0, 0, 0);&quot;&gt;&amp;nbsp;: commit the pending CSR OP&amp;nbsp;&lt;/font&gt;&lt;/div&gt;" vertex="1">
          <mxGeometry height="30" width="730" y="270" as="geometry" />
        </mxCell>
        <mxCell id="YD8wXlY8oEXokaMSZj_n-492" parent="YD8wXlY8oEXokaMSZj_n-483" style="text;strokeColor=#9673a6;fillColor=#e1d5e7;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;html=1;" value="&lt;div&gt;output logic [11:0] csr_addr_o&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;&amp;nbsp;&lt;span style=&quot;background-color: transparent; color: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));&quot;&gt;//&amp;nbsp;&lt;/span&gt;COMMIT_STAGE&amp;nbsp;&lt;span style=&quot;background-color: transparent; font-size: 12px;&quot;&gt;&lt;/span&gt;&lt;font style=&quot;color: rgb(0, 0, 0);&quot;&gt;&amp;nbsp;: CSR address to write&amp;nbsp;&lt;/font&gt;&lt;/div&gt;" vertex="1">
          <mxGeometry height="30" width="730" y="300" as="geometry" />
        </mxCell>
        <mxCell id="YD8wXlY8oEXokaMSZj_n-493" parent="1" style="swimlane;fontStyle=1;align=center;verticalAlign=top;childLayout=stackLayout;horizontal=1;startSize=40;horizontalStack=0;resizeParent=1;resizeParentMax=0;resizeLast=0;collapsible=1;marginBottom=0;whiteSpace=wrap;html=1;fillColor=#0050ef;strokeColor=#001DBC;fontColor=#ffffff;" value="&lt;span style=&quot;text-align: left;&quot;&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;mult&lt;/span&gt;&lt;br&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;/home/ICer/proj/cva6/core/mult.sv&lt;/span&gt;&lt;/span&gt;" vertex="1">
          <mxGeometry height="310" width="730" x="15200" y="2920" as="geometry" />
        </mxCell>
        <mxCell id="YD8wXlY8oEXokaMSZj_n-494" parent="YD8wXlY8oEXokaMSZj_n-493" style="line;strokeWidth=1;fillColor=none;align=left;verticalAlign=middle;spacingTop=-1;spacingLeft=3;spacingRight=3;rotatable=0;labelPosition=right;points=[];portConstraint=eastwest;strokeColor=inherit;" value="" vertex="1">
          <mxGeometry height="8" width="730" y="40" as="geometry" />
        </mxCell>
        <mxCell id="YD8wXlY8oEXokaMSZj_n-495" parent="YD8wXlY8oEXokaMSZj_n-493" style="text;strokeColor=default;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;html=1;" value=":&lt;div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;1)&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;background-color: transparent; font-size: 12px;&quot;&gt;The multiplier module supports the division and multiplication operations.&lt;/span&gt;&lt;/div&gt;&lt;/div&gt;" vertex="1">
          <mxGeometry height="52" width="730" y="48" as="geometry" />
        </mxCell>
        <mxCell id="YD8wXlY8oEXokaMSZj_n-496" parent="YD8wXlY8oEXokaMSZj_n-493" style="text;strokeColor=#d79b00;fillColor=#ffe6cc;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;html=1;" value="&lt;div&gt;input logic flush_i&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;&amp;nbsp;&lt;span style=&quot;background-color: transparent; color: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));&quot;&gt;//&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;background-color: transparent;&quot;&gt;&lt;font color=&quot;#000000&quot;&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;CONTROLLER&amp;nbsp;&lt;/span&gt;&lt;/font&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&lt;/span&gt;&lt;/span&gt;&lt;font style=&quot;color: rgb(0, 0, 0);&quot;&gt;&amp;nbsp;: Flush&lt;/font&gt;&lt;/div&gt;" vertex="1">
          <mxGeometry height="30" width="730" y="100" as="geometry" />
        </mxCell>
        <mxCell id="YD8wXlY8oEXokaMSZj_n-497" parent="YD8wXlY8oEXokaMSZj_n-493" style="text;strokeColor=#d6b656;fillColor=#fff2cc;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;html=1;" value="&lt;div&gt;input fu_data_t fu_data_i&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; // &lt;span style=&quot;font-size: 12px;&quot;&gt;ISSUE_STAGE&amp;nbsp;&lt;/span&gt; : FU data needed to execute instruction&amp;nbsp;&lt;/div&gt;" vertex="1">
          <mxGeometry height="30" width="730" y="130" as="geometry" />
        </mxCell>
        <mxCell id="YD8wXlY8oEXokaMSZj_n-498" parent="YD8wXlY8oEXokaMSZj_n-493" style="text;strokeColor=#d6b656;fillColor=#fff2cc;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;html=1;" value="&lt;div&gt;input&amp;nbsp; logic mult_valid_i &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &lt;span style=&quot;background-color: transparent; color: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));&quot;&gt;//&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;background-color: transparent; font-size: 12px;&quot;&gt;ISSUE_STAGE&lt;/span&gt;&lt;span style=&quot;background-color: transparent; color: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));&quot;&gt;&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;background-color: transparent; color: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));&quot;&gt;&amp;nbsp;:&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;background-color: transparent;&quot;&gt;&lt;font&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;Mult instruction is valid&lt;/span&gt;&lt;font color=&quot;rgba(0, 0, 0, 0)&quot;&gt;&amp;nbsp;&lt;/font&gt;&lt;/font&gt;&lt;/span&gt;&lt;/div&gt;" vertex="1">
          <mxGeometry height="30" width="730" y="160" as="geometry" />
        </mxCell>
        <mxCell id="YD8wXlY8oEXokaMSZj_n-499" parent="YD8wXlY8oEXokaMSZj_n-493" style="text;strokeColor=#d6b656;fillColor=#fff2cc;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;html=1;" value="&lt;div&gt;&lt;span style=&quot;background-color: transparent; font-size: 12px;&quot;&gt;output logic&amp;nbsp; &amp;nbsp; &amp;nbsp;[CVA6Cfg.XLEN-1:0] result_o&lt;/span&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;&lt;span style=&quot;background-color: transparent; color: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));&quot;&gt;//&amp;nbsp;&lt;/span&gt;ISSUE_STAGE&amp;nbsp;&lt;span style=&quot;background-color: transparent; color: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));&quot;&gt; :&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;background-color: transparent; font-size: 12px;&quot;&gt;Mult result&lt;/span&gt;&lt;/div&gt;" vertex="1">
          <mxGeometry height="30" width="730" y="190" as="geometry" />
        </mxCell>
        <mxCell id="YD8wXlY8oEXokaMSZj_n-500" parent="YD8wXlY8oEXokaMSZj_n-493" style="text;strokeColor=#d6b656;fillColor=#fff2cc;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;html=1;" value="&lt;div&gt;output logic&amp;nbsp; &amp;nbsp; &amp;nbsp;mult_valid_o&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;&amp;nbsp;&lt;span style=&quot;background-color: transparent; color: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));&quot;&gt;//&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;background-color: transparent;&quot;&gt;ISSUE_STAGE&lt;/span&gt;&lt;span style=&quot;color: light-dark(rgb(0, 0, 0), rgb(255, 255, 255)); background-color: transparent;&quot;&gt;&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;background-color: transparent; font-size: 12px;&quot;&gt;&lt;/span&gt;&lt;font style=&quot;color: rgb(0, 0, 0);&quot;&gt;&amp;nbsp;: Mult result is valid&amp;nbsp;&lt;/font&gt;&lt;/div&gt;" vertex="1">
          <mxGeometry height="30" width="730" y="220" as="geometry" />
        </mxCell>
        <mxCell id="YD8wXlY8oEXokaMSZj_n-501" parent="YD8wXlY8oEXokaMSZj_n-493" style="text;strokeColor=#d6b656;fillColor=#fff2cc;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;html=1;" value="&lt;div&gt;output logic&amp;nbsp; &amp;nbsp; &amp;nbsp;mult_ready_o&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;&lt;span style=&quot;background-color: transparent; color: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));&quot;&gt;//&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;background-color: transparent;&quot;&gt;ISSUE_STAGE&lt;/span&gt;&lt;span style=&quot;color: light-dark(rgb(0, 0, 0), rgb(255, 255, 255)); background-color: transparent;&quot;&gt;&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;background-color: transparent; font-size: 12px;&quot;&gt;&lt;/span&gt;&lt;font style=&quot;color: rgb(0, 0, 0);&quot;&gt;&amp;nbsp;: Mutl is ready&amp;nbsp;&lt;/font&gt;&lt;/div&gt;" vertex="1">
          <mxGeometry height="30" width="730" y="250" as="geometry" />
        </mxCell>
        <mxCell id="YD8wXlY8oEXokaMSZj_n-502" parent="YD8wXlY8oEXokaMSZj_n-493" style="text;strokeColor=#d6b656;fillColor=#fff2cc;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;html=1;" value="&lt;div&gt;output logic&amp;nbsp; &amp;nbsp; &amp;nbsp;[CVA6Cfg.TRANS_ID_BITS-1:0] mult_trans_id_o&amp;nbsp; &amp;nbsp; &amp;nbsp; &lt;span style=&quot;background-color: transparent; color: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));&quot;&gt;//&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;background-color: transparent;&quot;&gt;ISSUE_STAGE&lt;/span&gt;&lt;span style=&quot;color: light-dark(rgb(0, 0, 0), rgb(255, 255, 255)); background-color: transparent;&quot;&gt;&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;background-color: transparent; font-size: 12px;&quot;&gt;&lt;/span&gt;&lt;font style=&quot;color: rgb(0, 0, 0);&quot;&gt;&amp;nbsp;: Mult transaction ID&amp;nbsp;&lt;/font&gt;&lt;/div&gt;" vertex="1">
          <mxGeometry height="30" width="730" y="280" as="geometry" />
        </mxCell>
        <mxCell id="YD8wXlY8oEXokaMSZj_n-503" edge="1" parent="1" source="YD8wXlY8oEXokaMSZj_n-453" style="endArrow=classic;html=1;rounded=0;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=0;entryY=0;entryDx=0;entryDy=0;fontStyle=4" target="YD8wXlY8oEXokaMSZj_n-493" value="">
          <mxGeometry height="50" relative="1" width="50" as="geometry">
            <mxPoint x="15380" y="2686" as="sourcePoint" />
            <mxPoint x="15915" y="2635" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="YD8wXlY8oEXokaMSZj_n-504" parent="1" style="swimlane;fontStyle=1;align=center;verticalAlign=top;childLayout=stackLayout;horizontal=1;startSize=40;horizontalStack=0;resizeParent=1;resizeParentMax=0;resizeLast=0;collapsible=1;marginBottom=0;whiteSpace=wrap;html=1;fillColor=#0050ef;strokeColor=#001DBC;fontColor=#ffffff;" value="&lt;span style=&quot;text-align: left;&quot;&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;load_store_unit&amp;nbsp;&lt;/span&gt;&lt;br&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;/home/ICer/proj/cva6/core/load_store_unit.sv&lt;/span&gt;&lt;/span&gt;" vertex="1">
          <mxGeometry height="314" width="550" x="15290" y="3910" as="geometry" />
        </mxCell>
        <mxCell id="YD8wXlY8oEXokaMSZj_n-505" parent="YD8wXlY8oEXokaMSZj_n-504" style="line;strokeWidth=1;fillColor=none;align=left;verticalAlign=middle;spacingTop=-1;spacingLeft=3;spacingRight=3;rotatable=0;labelPosition=right;points=[];portConstraint=eastwest;strokeColor=inherit;" value="" vertex="1">
          <mxGeometry height="8" width="550" y="40" as="geometry" />
        </mxCell>
        <mxCell id="YD8wXlY8oEXokaMSZj_n-506" parent="YD8wXlY8oEXokaMSZj_n-504" style="text;strokeColor=default;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;html=1;" value=":&lt;div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;1)&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;background-color: transparent; font-size: 12px;&quot;&gt;The load store module interfaces with the data cache (D$) to manage the load and store operations.&lt;br&gt;2)&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;background-color: transparent; font-size: 12px;&quot;&gt;The LSU does not handle misaligned accesses. Misaligned accesses are double word accesses which are not aligned to a 64-bit boundary, word accesses which are not aligned to a 32-bit boundary and half word accesses which are not aligned on 16-bit boundary. If the LSU encounters a misaligned load or store, it throws a misaligned exception.&lt;/span&gt;&lt;/div&gt;&lt;/div&gt;" vertex="1">
          <mxGeometry height="112" width="550" y="48" as="geometry" />
        </mxCell>
        <mxCell id="YD8wXlY8oEXokaMSZj_n-507" parent="YD8wXlY8oEXokaMSZj_n-504" style="text;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;html=1;strokeColor=default;" value="store_unit" vertex="1">
          <mxGeometry height="30" width="550" y="160" as="geometry" />
        </mxCell>
        <mxCell id="YD8wXlY8oEXokaMSZj_n-508" parent="YD8wXlY8oEXokaMSZj_n-504" style="text;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;html=1;strokeColor=default;" value="&lt;span style=&quot;font-size: 12px;&quot;&gt;load_unit&lt;/span&gt;" vertex="1">
          <mxGeometry height="30" width="550" y="190" as="geometry" />
        </mxCell>
        <mxCell id="YD8wXlY8oEXokaMSZj_n-509" parent="YD8wXlY8oEXokaMSZj_n-504" style="text;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;html=1;strokeColor=default;" value="&lt;span style=&quot;font-size: 12px;&quot;&gt;lsu_bypass&lt;/span&gt;" vertex="1">
          <mxGeometry height="30" width="550" y="220" as="geometry" />
        </mxCell>
        <mxCell id="YD8wXlY8oEXokaMSZj_n-510" parent="YD8wXlY8oEXokaMSZj_n-504" style="text;strokeColor=#005700;fillColor=#008a00;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;html=1;fontStyle=1;fontColor=#ffffff;" value="output logic&amp;nbsp; &amp;nbsp; &amp;nbsp; [CVA6Cfg.PLEN-1:0] rvfi_mem_paddr_o&amp;nbsp; &amp;nbsp;//&amp;nbsp;RVFI" vertex="1">
          <mxGeometry height="32" width="550" y="250" as="geometry" />
        </mxCell>
        <mxCell id="YD8wXlY8oEXokaMSZj_n-511" parent="YD8wXlY8oEXokaMSZj_n-504" style="text;strokeColor=#005700;fillColor=#008a00;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;html=1;fontColor=#ffffff;fontStyle=1" value="output lsu_ctrl_t&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; rvfi_lsu_ctrl_o&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;//&amp;nbsp;RVFI" vertex="1">
          <mxGeometry height="32" width="550" y="282" as="geometry" />
        </mxCell>
        <mxCell id="YD8wXlY8oEXokaMSZj_n-512" edge="1" parent="1" source="YD8wXlY8oEXokaMSZj_n-454" style="endArrow=classic;html=1;rounded=0;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=0;entryY=0;entryDx=0;entryDy=0;fontStyle=4" target="YD8wXlY8oEXokaMSZj_n-504" value="">
          <mxGeometry height="50" relative="1" width="50" as="geometry">
            <mxPoint x="15310" y="2835" as="sourcePoint" />
            <mxPoint x="15845" y="2964" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="YD8wXlY8oEXokaMSZj_n-513" parent="1" style="swimlane;fontStyle=1;align=center;verticalAlign=top;childLayout=stackLayout;horizontal=1;startSize=40;horizontalStack=0;resizeParent=1;resizeParentMax=0;resizeLast=0;collapsible=1;marginBottom=0;whiteSpace=wrap;html=1;fillColor=#0050ef;strokeColor=#001DBC;fontColor=#ffffff;" value="&lt;span style=&quot;font-weight: 400; text-align: left;&quot;&gt;&lt;font&gt;store_unit&lt;/font&gt;&lt;/span&gt;&lt;span style=&quot;text-align: left;&quot;&gt;&lt;br&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;/home/ICer/proj/cva6/core/store_unit.sv&lt;/span&gt;&lt;/span&gt;" vertex="1">
          <mxGeometry height="1050" width="770" x="16540" y="2990" as="geometry" />
        </mxCell>
        <mxCell id="YD8wXlY8oEXokaMSZj_n-514" parent="YD8wXlY8oEXokaMSZj_n-513" style="line;strokeWidth=1;fillColor=none;align=left;verticalAlign=middle;spacingTop=-1;spacingLeft=3;spacingRight=3;rotatable=0;labelPosition=right;points=[];portConstraint=eastwest;strokeColor=inherit;" value="" vertex="1">
          <mxGeometry height="8" width="770" y="40" as="geometry" />
        </mxCell>
        <mxCell id="YD8wXlY8oEXokaMSZj_n-515" parent="YD8wXlY8oEXokaMSZj_n-513" style="text;strokeColor=default;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;html=1;" value=":&lt;div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;1)&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;background-color: transparent;&quot;&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;The store_unit module manages the data store operations.&lt;br&gt;2)&amp;nbsp;&lt;/span&gt;&lt;/span&gt;&lt;span style=&quot;background-color: transparent; font-size: 12px;&quot;&gt;As stores can be speculative, the store instructions need to be committed by &lt;/span&gt;&lt;span style=&quot;font-size: 12px; background-color: rgb(213, 232, 212);&quot;&gt;ISSUE_STAGE &lt;/span&gt;&lt;span style=&quot;background-color: transparent; font-size: 12px;&quot;&gt;module before possibily altering the processor state.&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;background-color: transparent; color: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));&quot;&gt;Store buffer keeps track of store requests.&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;background-color: transparent; color: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));&quot;&gt;Outstanding store instructions (which are speculative) are differentiated from committed stores.&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;background-color: transparent; color: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));&quot;&gt;When &lt;/span&gt;&lt;span style=&quot;color: light-dark(rgb(0, 0, 0), rgb(255, 255, 255)); background-color: rgb(213, 232, 212);&quot;&gt;ISSUE_STAGE &lt;/span&gt;&lt;span style=&quot;background-color: transparent; color: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));&quot;&gt;module commits a store instruction, outstanding stores become committed.&lt;br&gt;3)&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;background-color: transparent; font-size: 12px;&quot;&gt;When commit buffer is not empty, the buffer automatically tries to write the oldest store to the data cache.&lt;br&gt;4)&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;background-color: transparent; font-size: 12px;&quot;&gt;Furthermore, the &lt;/span&gt;&lt;span style=&quot;font-size: 12px; background-color: rgb(213, 232, 212);&quot;&gt;store_unit &lt;/span&gt;&lt;span style=&quot;background-color: transparent; font-size: 12px;&quot;&gt;module provides information to the load_unit to know if an outstanding store matches addresses with a load.&lt;/span&gt;&lt;/div&gt;&lt;/div&gt;" vertex="1">
          <mxGeometry height="132" width="770" y="48" as="geometry" />
        </mxCell>
        <mxCell id="YD8wXlY8oEXokaMSZj_n-516" parent="YD8wXlY8oEXokaMSZj_n-513" style="text;strokeColor=#d79b00;fillColor=#ffe6cc;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;html=1;" value="&lt;div&gt;input logic flush_i&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;&amp;nbsp;&lt;span style=&quot;background-color: transparent; color: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));&quot;&gt;//&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;background-color: transparent;&quot;&gt;&lt;font color=&quot;#000000&quot;&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;CONTROLLER&amp;nbsp;&lt;/span&gt;&lt;/font&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&lt;/span&gt;&lt;/span&gt;&lt;font style=&quot;color: rgb(0, 0, 0);&quot;&gt;&amp;nbsp;: Flush&lt;/font&gt;&lt;/div&gt;" vertex="1">
          <mxGeometry height="30" width="770" y="180" as="geometry" />
        </mxCell>
        <mxCell id="YD8wXlY8oEXokaMSZj_n-517" parent="YD8wXlY8oEXokaMSZj_n-513" style="text;strokeColor=#82b366;fillColor=#d5e8d4;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;html=1;" value="&lt;div&gt;output amo_req_t amo_req_o&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; // &lt;span style=&quot;font-size: 12px;&quot;&gt;CACHE&amp;nbsp;&lt;/span&gt; : AMO request&amp;nbsp;&lt;/div&gt;" vertex="1">
          <mxGeometry height="30" width="770" y="210" as="geometry" />
        </mxCell>
        <mxCell id="YD8wXlY8oEXokaMSZj_n-518" parent="YD8wXlY8oEXokaMSZj_n-513" style="text;strokeColor=#82b366;fillColor=#d5e8d4;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;html=1;" value="&lt;div&gt;input amo_resp_t amo_resp_i&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;&lt;span style=&quot;background-color: transparent; color: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));&quot;&gt;&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;background-color: transparent; color: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));&quot;&gt;//&lt;/span&gt;&lt;span style=&quot;background-color: transparent; color: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));&quot;&gt;&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;background-color: transparent; color: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));&quot;&gt;CACHE&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;background-color: transparent; color: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));&quot;&gt; : AMO response&lt;/span&gt;&lt;/div&gt;" vertex="1">
          <mxGeometry height="30" width="770" y="240" as="geometry" />
        </mxCell>
        <mxCell id="YD8wXlY8oEXokaMSZj_n-519" parent="YD8wXlY8oEXokaMSZj_n-513" style="text;strokeColor=#82b366;fillColor=#d5e8d4;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;html=1;" value="&lt;div&gt;&lt;span style=&quot;background-color: transparent; font-size: 12px;&quot;&gt;input dcache_req_o_t req_port_i&lt;/span&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;&amp;nbsp;&lt;span style=&quot;background-color: transparent; color: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));&quot;&gt;//&lt;/span&gt;&lt;span style=&quot;background-color: transparent; color: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));&quot;&gt;&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;background-color: transparent; color: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));&quot;&gt;CACHE&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;background-color: transparent; color: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));&quot;&gt; :&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;background-color: transparent; font-size: 12px;&quot;&gt;Data cache request&lt;/span&gt;&lt;/div&gt;" vertex="1">
          <mxGeometry height="30" width="770" y="270" as="geometry" />
        </mxCell>
        <mxCell id="YD8wXlY8oEXokaMSZj_n-520" parent="YD8wXlY8oEXokaMSZj_n-513" style="text;strokeColor=#82b366;fillColor=#d5e8d4;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;html=1;" value="&lt;div&gt;output dcache_req_i_t req_port_o&amp;nbsp; &amp;nbsp; &amp;nbsp;&lt;span style=&quot;background-color: transparent; color: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));&quot;&gt;&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;background-color: transparent; color: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));&quot;&gt;//&lt;/span&gt;&lt;span style=&quot;background-color: transparent; color: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));&quot;&gt;&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;background-color: transparent; color: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));&quot;&gt;CACHE &lt;/span&gt;&lt;span style=&quot;background-color: transparent;&quot;&gt;&lt;font color=&quot;rgba(0, 0, 0, 0)&quot;&gt;&amp;nbsp;: &lt;/font&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;Data cache response&lt;/span&gt;&lt;font color=&quot;rgba(0, 0, 0, 0)&quot;&gt;&amp;nbsp;&lt;/font&gt;&lt;/span&gt;&lt;/div&gt;" vertex="1">
          <mxGeometry height="30" width="770" y="300" as="geometry" />
        </mxCell>
        <mxCell id="YD8wXlY8oEXokaMSZj_n-521" parent="YD8wXlY8oEXokaMSZj_n-513" style="text;strokeColor=#d6b656;fillColor=#fff2cc;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;html=1;" value="&lt;div&gt;input logic valid_i &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &lt;span style=&quot;background-color: transparent; color: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));&quot;&gt;//&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;background-color: transparent;&quot;&gt;ISSUE_STAGE&lt;/span&gt;&lt;span style=&quot;color: light-dark(rgb(0, 0, 0), rgb(255, 255, 255)); background-color: transparent;&quot;&gt;&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;background-color: transparent; font-size: 12px;&quot;&gt;&lt;/span&gt;&lt;font style=&quot;color: rgb(0, 0, 0);&quot;&gt;&amp;nbsp;: Store instruction is valid&amp;nbsp;&lt;/font&gt;&lt;/div&gt;" vertex="1">
          <mxGeometry height="30" width="770" y="330" as="geometry" />
        </mxCell>
        <mxCell id="YD8wXlY8oEXokaMSZj_n-522" parent="YD8wXlY8oEXokaMSZj_n-513" style="text;strokeColor=#d6b656;fillColor=#fff2cc;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;html=1;" value="&lt;div&gt;input &lt;span style=&quot;background-color: rgb(255, 204, 255);&quot;&gt;lsu_ctrl_t&lt;/span&gt; lsu_ctrl_i&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &lt;span style=&quot;background-color: transparent; color: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));&quot;&gt;//&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;background-color: transparent;&quot;&gt;ISSUE_STAGE&lt;/span&gt;&lt;span style=&quot;color: light-dark(rgb(0, 0, 0), rgb(255, 255, 255)); background-color: transparent;&quot;&gt;&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;background-color: transparent; font-size: 12px;&quot;&gt;&lt;/span&gt;&lt;font style=&quot;color: rgb(0, 0, 0);&quot;&gt;&amp;nbsp;:&amp;nbsp;Data input&amp;nbsp;&lt;/font&gt;&lt;/div&gt;" vertex="1">
          <mxGeometry height="30" width="770" y="360" as="geometry" />
        </mxCell>
        <mxCell id="YD8wXlY8oEXokaMSZj_n-523" parent="YD8wXlY8oEXokaMSZj_n-513" style="text;strokeColor=#d6b656;fillColor=#fff2cc;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;html=1;" value="&lt;div&gt;&lt;span style=&quot;background-color: transparent; font-size: 12px;&quot;&gt;output logic valid_o&lt;/span&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;&lt;span style=&quot;background-color: transparent; color: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));&quot;&gt;//&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;background-color: transparent;&quot;&gt;ISSUE_STAGE&lt;/span&gt;&lt;span style=&quot;color: light-dark(rgb(0, 0, 0), rgb(255, 255, 255)); background-color: transparent;&quot;&gt;&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;background-color: transparent; font-size: 12px;&quot;&gt;&lt;/span&gt;&lt;font style=&quot;color: rgb(0, 0, 0);&quot;&gt;&amp;nbsp;:&amp;nbsp;Store result is valid&lt;/font&gt;&lt;/div&gt;" vertex="1">
          <mxGeometry height="30" width="770" y="390" as="geometry" />
        </mxCell>
        <mxCell id="YD8wXlY8oEXokaMSZj_n-524" parent="YD8wXlY8oEXokaMSZj_n-513" style="text;strokeColor=#d6b656;fillColor=#fff2cc;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;html=1;" value="&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;output logic [CVA6Cfg.XLEN-1:0] result_o&lt;/span&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &lt;span style=&quot;background-color: transparent; color: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));&quot;&gt;//&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;background-color: transparent;&quot;&gt;ISSUE_STAGE&lt;/span&gt;&lt;span style=&quot;color: light-dark(rgb(0, 0, 0), rgb(255, 255, 255)); background-color: transparent;&quot;&gt;&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;background-color: transparent; font-size: 12px;&quot;&gt;&lt;/span&gt;&lt;font style=&quot;color: rgb(0, 0, 0);&quot;&gt;&amp;nbsp;:&amp;nbsp;Store result&lt;/font&gt;&lt;/div&gt;" vertex="1">
          <mxGeometry height="30" width="770" y="420" as="geometry" />
        </mxCell>
        <mxCell id="YD8wXlY8oEXokaMSZj_n-525" parent="YD8wXlY8oEXokaMSZj_n-513" style="text;strokeColor=#d6b656;fillColor=#fff2cc;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;html=1;" value="&lt;div&gt;&lt;span style=&quot;background-color: transparent; font-size: 12px;&quot;&gt;output logic [CVA6Cfg.TRANS_ID_BITS-1:0] trans_id_o&lt;/span&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &lt;span style=&quot;background-color: transparent; color: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));&quot;&gt;//&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;background-color: transparent;&quot;&gt;ISSUE_STAGE&lt;/span&gt;&lt;span style=&quot;color: light-dark(rgb(0, 0, 0), rgb(255, 255, 255)); background-color: transparent;&quot;&gt;&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;background-color: transparent; font-size: 12px;&quot;&gt;&lt;/span&gt;&lt;font style=&quot;color: rgb(0, 0, 0);&quot;&gt;&amp;nbsp;:&amp;nbsp;Transaction ID&lt;/font&gt;&lt;/div&gt;" vertex="1">
          <mxGeometry height="30" width="770" y="450" as="geometry" />
        </mxCell>
        <mxCell id="YD8wXlY8oEXokaMSZj_n-526" parent="YD8wXlY8oEXokaMSZj_n-513" style="text;strokeColor=#666666;fillColor=#f5f5f5;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;html=1;fontColor=#333333;" value="&lt;div&gt;&lt;span style=&quot;background-color: transparent; font-size: 12px;&quot;&gt;input logic dtlb_hit_i&lt;/span&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;&lt;span style=&quot;background-color: transparent; color: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));&quot;&gt;// lsu&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;background-color: transparent; font-size: 12px;&quot;&gt;&lt;/span&gt;&lt;font style=&quot;color: rgb(0, 0, 0);&quot;&gt;&amp;nbsp;:&amp;nbsp;Data TLB hit&lt;/font&gt;&lt;/div&gt;" vertex="1">
          <mxGeometry height="30" width="770" y="480" as="geometry" />
        </mxCell>
        <mxCell id="YD8wXlY8oEXokaMSZj_n-527" parent="YD8wXlY8oEXokaMSZj_n-513" style="text;strokeColor=#666666;fillColor=#f5f5f5;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;html=1;fontColor=#333333;" value="&lt;div&gt;&lt;span style=&quot;background-color: transparent; font-size: 12px;&quot;&gt;input logic [11:0] page_offset_i&lt;/span&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;&amp;nbsp;&lt;span style=&quot;background-color: transparent; color: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));&quot;&gt;//&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;background-color: transparent;&quot;&gt;&lt;font color=&quot;#000000&quot;&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;load_unit&amp;nbsp;&lt;/span&gt;&lt;/font&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&lt;/span&gt;&lt;/span&gt;&lt;font style=&quot;color: rgb(0, 0, 0);&quot;&gt;&amp;nbsp;:&amp;nbsp;Address to be checked&lt;/font&gt;&lt;/div&gt;" vertex="1">
          <mxGeometry height="30" width="770" y="510" as="geometry" />
        </mxCell>
        <mxCell id="YD8wXlY8oEXokaMSZj_n-528" parent="YD8wXlY8oEXokaMSZj_n-513" style="text;strokeColor=#666666;fillColor=#f5f5f5;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;html=1;fontColor=#333333;" value="&lt;div&gt;&lt;span style=&quot;background-color: transparent; font-size: 12px;&quot;&gt;output logic page_offset_matches_o&lt;/span&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp;&lt;span style=&quot;background-color: transparent; color: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));&quot;&gt;//&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;background-color: transparent;&quot;&gt;&lt;font color=&quot;#000000&quot;&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;load_unit&amp;nbsp;&lt;/span&gt;&lt;/font&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&lt;/span&gt;&lt;/span&gt;&lt;font style=&quot;color: rgb(0, 0, 0);&quot;&gt;&amp;nbsp;:&amp;nbsp;Address check result&lt;/font&gt;&lt;/div&gt;" vertex="1">
          <mxGeometry height="30" width="770" y="540" as="geometry" />
        </mxCell>
        <mxCell id="YD8wXlY8oEXokaMSZj_n-529" parent="YD8wXlY8oEXokaMSZj_n-513" style="text;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;html=1;" value="&lt;div&gt;&lt;span style=&quot;background-color: transparent; font-size: 12px;&quot;&gt;input logic stall_st_pending_i&lt;/span&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp;&amp;nbsp;&lt;span style=&quot;background-color: transparent; color: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));&quot;&gt;//&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;background-color: transparent;&quot;&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;TO_BE_COMPLETED&amp;nbsp;&lt;/span&gt;&lt;/span&gt;&lt;font style=&quot;color: rgb(0, 0, 0);&quot;&gt;&amp;nbsp;:&amp;nbsp;TO_BE_COMPLETED&lt;/font&gt;&lt;/div&gt;" vertex="1">
          <mxGeometry height="30" width="770" y="570" as="geometry" />
        </mxCell>
        <mxCell id="YD8wXlY8oEXokaMSZj_n-530" parent="YD8wXlY8oEXokaMSZj_n-513" style="text;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;html=1;" value="&lt;div&gt;&lt;span style=&quot;background-color: transparent; font-size: 12px;&quot;&gt;output logic no_st_pending_o&lt;/span&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp;&lt;span style=&quot;background-color: transparent; color: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));&quot;&gt;//&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;background-color: transparent;&quot;&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;TO_BE_COMPLETED&amp;nbsp;&lt;/span&gt;&lt;/span&gt;&lt;font style=&quot;color: rgb(0, 0, 0);&quot;&gt;&amp;nbsp;:&amp;nbsp;TO_BE_COMPLETED&lt;/font&gt;&lt;/div&gt;" vertex="1">
          <mxGeometry height="30" width="770" y="600" as="geometry" />
        </mxCell>
        <mxCell id="YD8wXlY8oEXokaMSZj_n-531" parent="YD8wXlY8oEXokaMSZj_n-513" style="text;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;html=1;" value="&lt;div&gt;&lt;span style=&quot;background-color: transparent; font-size: 12px;&quot;&gt;output logic store_buffer_empty_o&lt;/span&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp;&lt;span style=&quot;background-color: transparent; color: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));&quot;&gt;//&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;background-color: transparent;&quot;&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;TO_BE_COMPLETED&amp;nbsp;&lt;/span&gt;&lt;/span&gt;&lt;font style=&quot;color: rgb(0, 0, 0);&quot;&gt;&amp;nbsp;:&amp;nbsp;Store buffer is empty&lt;/font&gt;&lt;/div&gt;" vertex="1">
          <mxGeometry height="30" width="770" y="630" as="geometry" />
        </mxCell>
        <mxCell id="YD8wXlY8oEXokaMSZj_n-532" parent="YD8wXlY8oEXokaMSZj_n-513" style="text;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;html=1;" value="&lt;div&gt;&lt;span style=&quot;background-color: transparent; font-size: 12px;&quot;&gt;output logic pop_st_o&lt;/span&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;&lt;span style=&quot;background-color: transparent; color: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));&quot;&gt;//&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;background-color: transparent;&quot;&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;TO_BE_COMPLETED&amp;nbsp;&lt;/span&gt;&lt;/span&gt;&lt;font style=&quot;color: rgb(0, 0, 0);&quot;&gt;&amp;nbsp;:&amp;nbsp;TO_BE_COMPLETED&lt;/font&gt;&lt;/div&gt;" vertex="1">
          <mxGeometry height="30" width="770" y="660" as="geometry" />
        </mxCell>
        <mxCell id="YD8wXlY8oEXokaMSZj_n-533" parent="YD8wXlY8oEXokaMSZj_n-513" style="text;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;html=1;" value="&lt;div&gt;&lt;span style=&quot;background-color: transparent; font-size: 12px;&quot;&gt;input logic commit_i&lt;/span&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;&lt;span style=&quot;background-color: transparent; color: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));&quot;&gt;//&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;background-color: transparent;&quot;&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;TO_BE_COMPLETED&lt;/span&gt;&lt;/span&gt;&lt;font style=&quot;color: rgb(0, 0, 0);&quot;&gt;&amp;nbsp;:&amp;nbsp;Instruction commit&lt;/font&gt;&lt;/div&gt;" vertex="1">
          <mxGeometry height="30" width="770" y="690" as="geometry" />
        </mxCell>
        <mxCell id="YD8wXlY8oEXokaMSZj_n-534" parent="YD8wXlY8oEXokaMSZj_n-513" style="text;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;html=1;" value="&lt;div&gt;&lt;span style=&quot;background-color: transparent; font-size: 12px;&quot;&gt;output logic commit_ready_o&lt;/span&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &lt;span style=&quot;background-color: transparent; color: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));&quot;&gt;//&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;background-color: transparent;&quot;&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;TO_BE_COMPLETED&amp;nbsp;&lt;/span&gt;&lt;/span&gt;&lt;font style=&quot;color: rgb(0, 0, 0);&quot;&gt;&amp;nbsp;:&amp;nbsp;&lt;/font&gt;&lt;span style=&quot;background-color: transparent; color: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));&quot;&gt;TO_BE_COMPLETED&lt;/span&gt;&lt;/div&gt;" vertex="1">
          <mxGeometry height="30" width="770" y="720" as="geometry" />
        </mxCell>
        <mxCell id="YD8wXlY8oEXokaMSZj_n-535" parent="YD8wXlY8oEXokaMSZj_n-513" style="text;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;html=1;" value="&lt;div&gt;&lt;span style=&quot;background-color: transparent; font-size: 12px;&quot;&gt;input logic amo_valid_commit_i&lt;/span&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp;&amp;nbsp;&lt;span style=&quot;background-color: transparent; color: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));&quot;&gt;//&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;background-color: transparent;&quot;&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;TO_BE_COMPLETED&amp;nbsp;&lt;/span&gt;&lt;/span&gt;&lt;font style=&quot;color: rgb(0, 0, 0);&quot;&gt;&amp;nbsp;:&amp;nbsp;&lt;/font&gt;&lt;span style=&quot;background-color: transparent; color: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));&quot;&gt;TO_BE_COMPLETED&lt;/span&gt;&lt;/div&gt;" vertex="1">
          <mxGeometry height="30" width="770" y="750" as="geometry" />
        </mxCell>
        <mxCell id="YD8wXlY8oEXokaMSZj_n-536" parent="YD8wXlY8oEXokaMSZj_n-513" style="text;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;html=1;" value="&lt;div&gt;&lt;span style=&quot;background-color: transparent; font-size: 12px;&quot;&gt;output exception_t ex_o&lt;/span&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp;&amp;nbsp;&lt;span style=&quot;background-color: transparent; color: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));&quot;&gt;//&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;background-color: transparent;&quot;&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;TO_BE_COMPLETED&amp;nbsp;&lt;/span&gt;&lt;/span&gt;&lt;font style=&quot;color: rgb(0, 0, 0);&quot;&gt;&amp;nbsp;:&amp;nbsp;&lt;/font&gt;&lt;span style=&quot;background-color: transparent; font-size: 12px;&quot;&gt;Store exception output&lt;/span&gt;&lt;/div&gt;" vertex="1">
          <mxGeometry height="30" width="770" y="780" as="geometry" />
        </mxCell>
        <mxCell id="YD8wXlY8oEXokaMSZj_n-537" parent="YD8wXlY8oEXokaMSZj_n-513" style="text;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;html=1;" value="&lt;div&gt;&lt;span style=&quot;background-color: transparent; font-size: 12px;&quot;&gt;output logic translation_req_o&lt;/span&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp;&amp;nbsp;&lt;span style=&quot;background-color: transparent; color: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));&quot;&gt;//&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;background-color: transparent;&quot;&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;TO_BE_COMPLETED&amp;nbsp;&lt;/span&gt;&lt;/span&gt;&lt;font style=&quot;color: rgb(0, 0, 0);&quot;&gt;&amp;nbsp;:&amp;nbsp;&lt;/font&gt;&lt;span style=&quot;background-color: transparent; font-size: 12px;&quot;&gt;Address translation request&lt;/span&gt;&lt;/div&gt;" vertex="1">
          <mxGeometry height="30" width="770" y="810" as="geometry" />
        </mxCell>
        <mxCell id="YD8wXlY8oEXokaMSZj_n-538" parent="YD8wXlY8oEXokaMSZj_n-513" style="text;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;html=1;" value="&lt;div&gt;&lt;span style=&quot;background-color: transparent; font-size: 12px;&quot;&gt;output logic [CVA6Cfg.VLEN-1:0] vaddr_o&lt;/span&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp;&amp;nbsp;&lt;span style=&quot;background-color: transparent; color: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));&quot;&gt;//&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;background-color: transparent;&quot;&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;TO_BE_COMPLETED&amp;nbsp;&lt;/span&gt;&lt;/span&gt;&lt;font style=&quot;color: rgb(0, 0, 0);&quot;&gt;&amp;nbsp;:&amp;nbsp;&lt;/font&gt;&lt;span style=&quot;background-color: transparent; font-size: 12px;&quot;&gt;Virtual address&lt;/span&gt;&lt;/div&gt;" vertex="1">
          <mxGeometry height="30" width="770" y="840" as="geometry" />
        </mxCell>
        <mxCell id="YD8wXlY8oEXokaMSZj_n-539" parent="YD8wXlY8oEXokaMSZj_n-513" style="text;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;html=1;" value="&lt;div&gt;&lt;span style=&quot;background-color: transparent; font-size: 12px;&quot;&gt;output logic [31:0] tinst_o&lt;/span&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp;&amp;nbsp;&lt;span style=&quot;background-color: transparent; color: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));&quot;&gt;//&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;background-color: transparent;&quot;&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;TO_BE_COMPLETED&amp;nbsp;&lt;/span&gt;&lt;/span&gt;&lt;font style=&quot;color: rgb(0, 0, 0);&quot;&gt;&amp;nbsp;:&amp;nbsp;&lt;/font&gt;&lt;span style=&quot;background-color: transparent; font-size: 12px;&quot;&gt;Transformed trap instruction out&lt;/span&gt;&lt;/div&gt;" vertex="1">
          <mxGeometry height="30" width="770" y="870" as="geometry" />
        </mxCell>
        <mxCell id="YD8wXlY8oEXokaMSZj_n-540" parent="YD8wXlY8oEXokaMSZj_n-513" style="text;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;html=1;" value="&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;output logic hs_ld_st_inst_o&lt;/span&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp;&amp;nbsp;&lt;span style=&quot;background-color: transparent; color: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));&quot;&gt;//&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;background-color: transparent;&quot;&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;TO_BE_COMPLETED&amp;nbsp;&lt;/span&gt;&lt;/span&gt;&lt;font style=&quot;color: rgb(0, 0, 0);&quot;&gt;&amp;nbsp;:&amp;nbsp;&lt;/font&gt;&lt;span style=&quot;background-color: transparent; color: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));&quot;&gt;TO_BE_COMPLETED&lt;/span&gt;&lt;/div&gt;" vertex="1">
          <mxGeometry height="30" width="770" y="900" as="geometry" />
        </mxCell>
        <mxCell id="YD8wXlY8oEXokaMSZj_n-541" parent="YD8wXlY8oEXokaMSZj_n-513" style="text;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;html=1;" value="&lt;div&gt;&lt;span style=&quot;background-color: transparent; font-size: 12px;&quot;&gt;output logic hlvx_inst_o&lt;/span&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;&lt;span style=&quot;background-color: transparent; color: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));&quot;&gt;//&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;background-color: transparent;&quot;&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;TO_BE_COMPLETED&amp;nbsp;&lt;/span&gt;&lt;/span&gt;&lt;font style=&quot;color: rgb(0, 0, 0);&quot;&gt;&amp;nbsp;:&amp;nbsp;&lt;/font&gt;&lt;span style=&quot;background-color: transparent; color: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));&quot;&gt;TO_BE_COMPLETED&lt;/span&gt;&lt;/div&gt;" vertex="1">
          <mxGeometry height="30" width="770" y="930" as="geometry" />
        </mxCell>
        <mxCell id="YD8wXlY8oEXokaMSZj_n-542" parent="YD8wXlY8oEXokaMSZj_n-513" style="text;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;html=1;" value="&lt;div&gt;&lt;span style=&quot;background-color: transparent; font-size: 12px;&quot;&gt;input logic [CVA6Cfg.PLEN-1:0] paddr_i&lt;/span&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;&amp;nbsp;&lt;span style=&quot;background-color: transparent; color: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));&quot;&gt;//&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;background-color: transparent;&quot;&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;TO_BE_COMPLETED&amp;nbsp;&lt;/span&gt;&lt;/span&gt;&lt;font style=&quot;color: rgb(0, 0, 0);&quot;&gt;&amp;nbsp;:&amp;nbsp;&lt;/font&gt;&lt;span style=&quot;background-color: transparent; font-size: 12px;&quot;&gt;Physical address&lt;/span&gt;&lt;/div&gt;" vertex="1">
          <mxGeometry height="30" width="770" y="960" as="geometry" />
        </mxCell>
        <mxCell id="YD8wXlY8oEXokaMSZj_n-543" parent="YD8wXlY8oEXokaMSZj_n-513" style="text;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;html=1;" value="&lt;div&gt;&lt;span style=&quot;background-color: transparent; font-size: 12px;&quot;&gt;input exception_t ex_i&lt;/span&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;&amp;nbsp;&lt;span style=&quot;background-color: transparent; color: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));&quot;&gt;//&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;background-color: transparent;&quot;&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;TO_BE_COMPLETED&amp;nbsp;&lt;/span&gt;&lt;/span&gt;&lt;font style=&quot;color: rgb(0, 0, 0);&quot;&gt;&amp;nbsp;:&amp;nbsp;&lt;/font&gt;&lt;span style=&quot;background-color: transparent; font-size: 12px;&quot;&gt;Exception raised before store&lt;/span&gt;&lt;/div&gt;" vertex="1">
          <mxGeometry height="30" width="770" y="990" as="geometry" />
        </mxCell>
        <mxCell id="YD8wXlY8oEXokaMSZj_n-544" parent="YD8wXlY8oEXokaMSZj_n-513" style="text;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;html=1;fillColor=#008a00;fontColor=#ffffff;strokeColor=#005700;" value="&lt;div&gt;&lt;span style=&quot;background-color: transparent; font-size: 12px;&quot;&gt;output logic [CVA6Cfg.PLEN-1:0] rvfi_mem_paddr_o&lt;/span&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp;&amp;nbsp;&lt;span&gt;&lt;font&gt;//&amp;nbsp;&lt;/font&gt;&lt;/span&gt;&lt;span style=&quot;background-color: transparent;&quot;&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;RVFI&amp;nbsp;&lt;/span&gt;&lt;/span&gt;&lt;/div&gt;" vertex="1">
          <mxGeometry height="30" width="770" y="1020" as="geometry" />
        </mxCell>
        <mxCell id="YD8wXlY8oEXokaMSZj_n-545" parent="1" style="swimlane;fontStyle=1;align=center;verticalAlign=top;childLayout=stackLayout;horizontal=1;startSize=40;horizontalStack=0;resizeParent=1;resizeParentMax=0;resizeLast=0;collapsible=1;marginBottom=0;whiteSpace=wrap;html=1;fillColor=#0050ef;strokeColor=#001DBC;fontColor=#ffffff;" value="&lt;span style=&quot;text-align: left;&quot;&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;load_unit&lt;/span&gt;&lt;br&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;/home/ICer/proj/cva6/core/load_unit.sv&lt;/span&gt;&lt;/span&gt;" vertex="1">
          <mxGeometry height="940" width="770" x="16540" y="4124" as="geometry" />
        </mxCell>
        <mxCell id="YD8wXlY8oEXokaMSZj_n-546" parent="YD8wXlY8oEXokaMSZj_n-545" style="line;strokeWidth=1;fillColor=none;align=left;verticalAlign=middle;spacingTop=-1;spacingLeft=3;spacingRight=3;rotatable=0;labelPosition=right;points=[];portConstraint=eastwest;strokeColor=inherit;" value="" vertex="1">
          <mxGeometry height="8" width="770" y="40" as="geometry" />
        </mxCell>
        <mxCell id="YD8wXlY8oEXokaMSZj_n-547" parent="YD8wXlY8oEXokaMSZj_n-545" style="text;strokeColor=default;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;html=1;" value=":&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;1)&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;background-color: transparent; font-size: 12px;&quot;&gt;The load unit module manages the data load operations.&lt;br&gt;2)&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;background-color: transparent;&quot;&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;Before issuing a load, the load unit needs to check the store buffer for potential aliasing. It stalls until it can satisfy the current request. This means:&lt;/span&gt;&lt;br&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp; 2.1&amp;nbsp;&lt;/span&gt;&lt;/span&gt;&lt;span style=&quot;background-color: transparent; font-size: 12px;&quot;&gt;Two loads to the same address are allowed.&lt;br&gt;&amp;nbsp; 2.2&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;background-color: transparent; font-size: 12px;&quot;&gt;Two stores to the same address are allowed.&lt;br&gt;&amp;nbsp; 2.3&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;background-color: transparent; font-size: 12px;&quot;&gt;A store after a load to the same address is allowed.&lt;br&gt;&amp;nbsp; 2.4&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;background-color: transparent; font-size: 12px;&quot;&gt;A &lt;/span&gt;&lt;span style=&quot;font-size: 12px; background-color: rgb(255, 204, 255);&quot;&gt;load after a store to the same address can only be processed if the store has already been sent to the cache i.e there is no fowarding&lt;/span&gt;&lt;span style=&quot;background-color: transparent; font-size: 12px;&quot;&gt;.&lt;br&gt;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;background-color: transparent; font-size: 12px;&quot;&gt;3)&amp;nbsp;&lt;br&gt;&amp;nbsp; &amp;nbsp;3.1&amp;nbsp;&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;background-color: transparent; font-size: 12px;&quot;&gt;After the check of the store buffer, a read request is sent to the D$ with the index field of the address.&lt;br&gt;&amp;nbsp; &amp;nbsp;3.2&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;background-color: transparent; font-size: 12px;&quot;&gt;The load unit stalls until the D$ acknowledges this request.&lt;br&gt;&amp;nbsp; &amp;nbsp;3.3&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;background-color: transparent; font-size: 12px;&quot;&gt;In the next cycle, the tag field of the address is sent to the D$&lt;br&gt;&amp;nbsp; &amp;nbsp;3.4&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;background-color: transparent; font-size: 12px;&quot;&gt;If the load request address is non-idempotent, it stalls until the write buffer of the D$ is empty of non-idempotent requests and the store buffer is empty.&amp;nbsp;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;background-color: transparent; color: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));&quot;&gt;&amp;nbsp; &amp;nbsp;3.5&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;font-size: 12px; background-color: rgb(255, 204, 255);&quot;&gt;It also stalls until the incoming load instruction is the next instruction to be committed.&lt;/span&gt;&lt;span style=&quot;background-color: transparent; font-size: 12px;&quot;&gt;&amp;nbsp;&lt;br&gt;&amp;nbsp; &amp;nbsp;3.6&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;background-color: transparent; font-size: 12px;&quot;&gt;When the D$ allows the read of the data, the data is sent to the load unit and the load instruction can be committed.&lt;/span&gt;&lt;/div&gt;" vertex="1">
          <mxGeometry height="262" width="770" y="48" as="geometry" />
        </mxCell>
        <mxCell id="YD8wXlY8oEXokaMSZj_n-548" parent="YD8wXlY8oEXokaMSZj_n-545" style="text;strokeColor=#d79b00;fillColor=#ffe6cc;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;html=1;" value="&lt;div&gt;input logic flush_i&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;&amp;nbsp;&lt;span style=&quot;background-color: transparent; color: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));&quot;&gt;//&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;background-color: transparent;&quot;&gt;&lt;font color=&quot;#000000&quot;&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;CONTROLLER&amp;nbsp;&lt;/span&gt;&lt;/font&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&lt;/span&gt;&lt;/span&gt;&lt;font style=&quot;color: rgb(0, 0, 0);&quot;&gt;&amp;nbsp;: Flush&lt;/font&gt;&lt;/div&gt;" vertex="1">
          <mxGeometry height="30" width="770" y="310" as="geometry" />
        </mxCell>
        <mxCell id="YD8wXlY8oEXokaMSZj_n-549" parent="YD8wXlY8oEXokaMSZj_n-545" style="text;strokeColor=#666666;fillColor=#f5f5f5;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;html=1;fontColor=#333333;" value="&lt;div&gt;output logic [11:0] page_offset_o&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;&lt;span style=&quot;background-color: transparent; color: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));&quot;&gt;//&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;background-color: transparent;&quot;&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;STORE_UNIT&lt;/span&gt;&lt;/span&gt;&lt;font style=&quot;color: rgb(0, 0, 0);&quot;&gt;&amp;nbsp;: Page offset for address checking&lt;/font&gt;&lt;/div&gt;" vertex="1">
          <mxGeometry height="30" width="770" y="340" as="geometry" />
        </mxCell>
        <mxCell id="YD8wXlY8oEXokaMSZj_n-550" parent="YD8wXlY8oEXokaMSZj_n-545" style="text;strokeColor=#666666;fillColor=#f5f5f5;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;html=1;fontColor=#333333;" value="&lt;div&gt;input logic store_buffer_empty_i&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;&amp;nbsp;&lt;span style=&quot;background-color: transparent; color: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));&quot;&gt;//&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;background-color: transparent;&quot;&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;STORE_UNIT&lt;/span&gt;&lt;/span&gt;&lt;font style=&quot;color: rgb(0, 0, 0);&quot;&gt;&amp;nbsp;: Store buffer is empty&lt;/font&gt;&lt;/div&gt;" vertex="1">
          <mxGeometry height="30" width="770" y="370" as="geometry" />
        </mxCell>
        <mxCell id="YD8wXlY8oEXokaMSZj_n-551" parent="YD8wXlY8oEXokaMSZj_n-545" style="text;strokeColor=#666666;fillColor=#f5f5f5;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;html=1;fontColor=#333333;" value="&lt;div&gt;input logic page_offset_matches_i&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;&amp;nbsp;&lt;span style=&quot;background-color: transparent; color: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));&quot;&gt;//&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;background-color: transparent;&quot;&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;STORE_UNIT&lt;/span&gt;&lt;/span&gt;&lt;font style=&quot;color: rgb(0, 0, 0);&quot;&gt;&amp;nbsp;: Indicates if the page offset matches a store unit entry&lt;/font&gt;&lt;/div&gt;" vertex="1">
          <mxGeometry height="30" width="770" y="400" as="geometry" />
        </mxCell>
        <mxCell id="YD8wXlY8oEXokaMSZj_n-552" parent="YD8wXlY8oEXokaMSZj_n-545" style="text;strokeColor=#36393d;fillColor=#eeeeee;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;html=1;" value="&lt;div&gt;input logic valid_i&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;// &lt;span style=&quot;font-size: 12px;&quot;&gt;LSU_BYPASS&lt;/span&gt; :&amp;nbsp;Load request is valid&amp;nbsp;&lt;/div&gt;" vertex="1">
          <mxGeometry height="30" width="770" y="430" as="geometry" />
        </mxCell>
        <mxCell id="YD8wXlY8oEXokaMSZj_n-553" parent="YD8wXlY8oEXokaMSZj_n-545" style="text;strokeColor=#36393d;fillColor=#eeeeee;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;html=1;" value="&lt;div&gt;input &lt;span style=&quot;background-color: rgb(255, 204, 255);&quot;&gt;lsu_ctrl_t &lt;/span&gt;lsu_ctrl_i&amp;nbsp; &amp;nbsp; &amp;nbsp;&amp;nbsp;&lt;span style=&quot;background-color: transparent; color: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));&quot;&gt;//&amp;nbsp;&lt;/span&gt;LSU_BYPASS&lt;span style=&quot;background-color: transparent; color: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));&quot;&gt;&lt;/span&gt;&lt;span style=&quot;background-color: transparent; color: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));&quot;&gt;&amp;nbsp;:&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;background-color: transparent;&quot;&gt;&lt;font&gt;&lt;font&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;Load request input&lt;/span&gt;&lt;font color=&quot;rgba(0, 0, 0, 0)&quot;&gt;&amp;nbsp;&lt;/font&gt;&lt;/font&gt;&lt;/font&gt;&lt;/span&gt;&lt;/div&gt;" vertex="1">
          <mxGeometry height="30" width="770" y="460" as="geometry" />
        </mxCell>
        <mxCell id="YD8wXlY8oEXokaMSZj_n-554" parent="YD8wXlY8oEXokaMSZj_n-545" style="text;strokeColor=#36393d;fillColor=#eeeeee;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;html=1;" value="&lt;div&gt;&lt;span style=&quot;background-color: transparent; font-size: 12px;&quot;&gt;output logic pop_ld_o&lt;/span&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;&amp;nbsp;&lt;span style=&quot;background-color: transparent; color: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));&quot;&gt;//&amp;nbsp;&lt;/span&gt;LSU_BYPASS&lt;span style=&quot;background-color: transparent; color: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));&quot;&gt; :&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;background-color: transparent; font-size: 12px;&quot;&gt;Pop the load request from the LSU bypass FIFO&lt;/span&gt;&lt;/div&gt;" vertex="1">
          <mxGeometry height="30" width="770" y="490" as="geometry" />
        </mxCell>
        <mxCell id="YD8wXlY8oEXokaMSZj_n-555" parent="YD8wXlY8oEXokaMSZj_n-545" style="text;strokeColor=#82b366;fillColor=#d5e8d4;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;html=1;" value="&lt;div&gt;output logic translation_req_o&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;&amp;nbsp;&lt;span style=&quot;background-color: transparent; color: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));&quot;&gt;// MMU&lt;/span&gt;&lt;span style=&quot;background-color: transparent; font-size: 12px;&quot;&gt;&lt;/span&gt;&lt;font style=&quot;color: rgb(0, 0, 0);&quot;&gt;&amp;nbsp;: Request address translation&amp;nbsp;&lt;/font&gt;&lt;/div&gt;" vertex="1">
          <mxGeometry height="30" width="770" y="520" as="geometry" />
        </mxCell>
        <mxCell id="YD8wXlY8oEXokaMSZj_n-556" parent="YD8wXlY8oEXokaMSZj_n-545" style="text;strokeColor=#82b366;fillColor=#d5e8d4;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;html=1;" value="&lt;div&gt;output logic [CVA6Cfg.VLEN-1:0] vaddr_o&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;&amp;nbsp;&lt;span style=&quot;background-color: transparent; color: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));&quot;&gt;// MMU&lt;/span&gt;&lt;span style=&quot;background-color: transparent; font-size: 12px;&quot;&gt;&lt;/span&gt;&lt;font style=&quot;color: rgb(0, 0, 0);&quot;&gt;&amp;nbsp;: Virtual address&amp;nbsp;&lt;/font&gt;&lt;/div&gt;" vertex="1">
          <mxGeometry height="30" width="770" y="550" as="geometry" />
        </mxCell>
        <mxCell id="YD8wXlY8oEXokaMSZj_n-557" parent="YD8wXlY8oEXokaMSZj_n-545" style="text;strokeColor=#82b366;fillColor=#d5e8d4;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;html=1;" value="&lt;div&gt;output logic [31:0] tinst_o&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;&lt;span style=&quot;background-color: transparent; color: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));&quot;&gt;// MMU&lt;/span&gt;&lt;span style=&quot;background-color: transparent; font-size: 12px;&quot;&gt;&lt;/span&gt;&lt;font style=&quot;color: rgb(0, 0, 0);&quot;&gt;&amp;nbsp;: Transformed trap instruction out&amp;nbsp;&lt;/font&gt;&lt;/div&gt;" vertex="1">
          <mxGeometry height="30" width="770" y="580" as="geometry" />
        </mxCell>
        <mxCell id="YD8wXlY8oEXokaMSZj_n-558" parent="YD8wXlY8oEXokaMSZj_n-545" style="text;strokeColor=#82b366;fillColor=#d5e8d4;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;html=1;" value="&lt;div&gt;output logic hs_ld_st_inst_o&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;&lt;span style=&quot;background-color: transparent; color: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));&quot;&gt;// MMU&lt;/span&gt;&lt;span style=&quot;background-color: transparent; font-size: 12px;&quot;&gt;&lt;/span&gt;&lt;font style=&quot;color: rgb(0, 0, 0);&quot;&gt;&amp;nbsp;: Instruction is a hyp load store instruction&lt;/font&gt;&lt;/div&gt;" vertex="1">
          <mxGeometry height="30" width="770" y="610" as="geometry" />
        </mxCell>
        <mxCell id="YD8wXlY8oEXokaMSZj_n-559" parent="YD8wXlY8oEXokaMSZj_n-545" style="text;strokeColor=#82b366;fillColor=#d5e8d4;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;html=1;" value="&lt;div&gt;output logic hlvx_inst_o&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;&amp;nbsp;&lt;span style=&quot;background-color: transparent; color: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));&quot;&gt;// MMU&lt;/span&gt;&lt;span style=&quot;background-color: transparent; font-size: 12px;&quot;&gt;&lt;/span&gt;&lt;font style=&quot;color: rgb(0, 0, 0);&quot;&gt;&amp;nbsp;: Hyp load store with execute permissions&amp;nbsp;&lt;/font&gt;&lt;/div&gt;" vertex="1">
          <mxGeometry height="30" width="770" y="640" as="geometry" />
        </mxCell>
        <mxCell id="YD8wXlY8oEXokaMSZj_n-560" parent="YD8wXlY8oEXokaMSZj_n-545" style="text;strokeColor=#82b366;fillColor=#d5e8d4;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;html=1;" value="&lt;div&gt;input logic [CVA6Cfg.PLEN-1:0] paddr_i&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;&amp;nbsp;&lt;span style=&quot;background-color: transparent; color: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));&quot;&gt;// MMU&lt;/span&gt;&lt;span style=&quot;background-color: transparent; font-size: 12px;&quot;&gt;&lt;/span&gt;&lt;font style=&quot;color: rgb(0, 0, 0);&quot;&gt;&amp;nbsp;: Physical address&amp;nbsp;&lt;/font&gt;&lt;/div&gt;" vertex="1">
          <mxGeometry height="30" width="770" y="670" as="geometry" />
        </mxCell>
        <mxCell id="YD8wXlY8oEXokaMSZj_n-561" parent="YD8wXlY8oEXokaMSZj_n-545" style="text;strokeColor=#82b366;fillColor=#d5e8d4;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;html=1;" value="&lt;div&gt;input exception_t ex_i&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;&lt;span style=&quot;background-color: transparent; color: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));&quot;&gt;// MMU&lt;/span&gt;&lt;span style=&quot;background-color: transparent; font-size: 12px;&quot;&gt;&lt;/span&gt;&lt;font style=&quot;color: rgb(0, 0, 0);&quot;&gt;&amp;nbsp;: Excepted which appears before load&lt;/font&gt;&lt;/div&gt;" vertex="1">
          <mxGeometry height="30" width="770" y="700" as="geometry" />
        </mxCell>
        <mxCell id="YD8wXlY8oEXokaMSZj_n-562" parent="YD8wXlY8oEXokaMSZj_n-545" style="text;strokeColor=#82b366;fillColor=#d5e8d4;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;html=1;" value="&lt;div&gt;input logic dtlb_hit_i&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;&lt;span style=&quot;background-color: transparent; color: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));&quot;&gt;// MMU&lt;/span&gt;&lt;span style=&quot;background-color: transparent; font-size: 12px;&quot;&gt;&lt;/span&gt;&lt;font style=&quot;color: rgb(0, 0, 0);&quot;&gt;&amp;nbsp;: Data TLB hit&lt;/font&gt;&lt;/div&gt;" vertex="1">
          <mxGeometry height="30" width="770" y="730" as="geometry" />
        </mxCell>
        <mxCell id="YD8wXlY8oEXokaMSZj_n-563" parent="YD8wXlY8oEXokaMSZj_n-545" style="text;strokeColor=#82b366;fillColor=#d5e8d4;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;html=1;" value="&lt;div&gt;input logic [CVA6Cfg.PPNW-1:0] dtlb_ppn_i&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;&lt;span style=&quot;background-color: transparent; color: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));&quot;&gt;// MMU&lt;/span&gt;&lt;span style=&quot;background-color: transparent; font-size: 12px;&quot;&gt;&lt;/span&gt;&lt;font style=&quot;color: rgb(0, 0, 0);&quot;&gt;&amp;nbsp;: Physical page number from the DTLB&lt;/font&gt;&lt;/div&gt;" vertex="1">
          <mxGeometry height="30" width="770" y="760" as="geometry" />
        </mxCell>
        <mxCell id="YD8wXlY8oEXokaMSZj_n-564" parent="YD8wXlY8oEXokaMSZj_n-545" style="text;strokeColor=#d6b656;fillColor=#fff2cc;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;html=1;" value="&lt;div&gt;output exception_t ex_o&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;&lt;span style=&quot;background-color: transparent; color: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));&quot;&gt;//&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;background-color: transparent;&quot;&gt;ISSUE_STAGE&lt;/span&gt;&lt;span style=&quot;color: light-dark(rgb(0, 0, 0), rgb(255, 255, 255)); background-color: transparent;&quot;&gt;&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;background-color: transparent; font-size: 12px;&quot;&gt;&lt;/span&gt;&lt;font style=&quot;color: rgb(0, 0, 0);&quot;&gt;&amp;nbsp;: Load exception&amp;nbsp;&lt;/font&gt;&lt;/div&gt;" vertex="1">
          <mxGeometry height="30" width="770" y="790" as="geometry" />
        </mxCell>
        <mxCell id="YD8wXlY8oEXokaMSZj_n-565" parent="YD8wXlY8oEXokaMSZj_n-545" style="text;strokeColor=#d6b656;fillColor=#fff2cc;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;html=1;" value="&lt;div&gt;output logic [CVA6Cfg.XLEN-1:0] result_o&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;&amp;nbsp;&lt;span style=&quot;background-color: transparent; color: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));&quot;&gt;//&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;background-color: transparent;&quot;&gt;ISSUE_STAGE&lt;/span&gt;&lt;span style=&quot;color: light-dark(rgb(0, 0, 0), rgb(255, 255, 255)); background-color: transparent;&quot;&gt;&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;background-color: transparent; font-size: 12px;&quot;&gt;&lt;/span&gt;&lt;font style=&quot;color: rgb(0, 0, 0);&quot;&gt;&amp;nbsp;: Load result&amp;nbsp;&lt;/font&gt;&lt;/div&gt;" vertex="1">
          <mxGeometry height="30" width="770" y="820" as="geometry" />
        </mxCell>
        <mxCell id="YD8wXlY8oEXokaMSZj_n-566" parent="YD8wXlY8oEXokaMSZj_n-545" style="text;strokeColor=#d6b656;fillColor=#fff2cc;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;html=1;" value="&lt;div&gt;output logic [CVA6Cfg.TRANS_ID_BITS-1:0] trans_id_o&amp;nbsp; &amp;nbsp; &amp;nbsp;&lt;span style=&quot;background-color: transparent; color: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));&quot;&gt;//&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;background-color: transparent;&quot;&gt;ISSUE_STAGE&lt;/span&gt;&lt;span style=&quot;color: light-dark(rgb(0, 0, 0), rgb(255, 255, 255)); background-color: transparent;&quot;&gt;&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;background-color: transparent; font-size: 12px;&quot;&gt;&lt;/span&gt;&lt;font style=&quot;color: rgb(0, 0, 0);&quot;&gt;&amp;nbsp;: Load transaction ID&amp;nbsp;&lt;/font&gt;&lt;/div&gt;" vertex="1">
          <mxGeometry height="30" width="770" y="850" as="geometry" />
        </mxCell>
        <mxCell id="YD8wXlY8oEXokaMSZj_n-567" parent="YD8wXlY8oEXokaMSZj_n-545" style="text;strokeColor=#d6b656;fillColor=#fff2cc;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;html=1;" value="&lt;div&gt;output logic valid_o&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;&amp;nbsp;&lt;span style=&quot;background-color: transparent; color: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));&quot;&gt;//&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;background-color: transparent;&quot;&gt;ISSUE_STAGE&lt;/span&gt;&lt;span style=&quot;color: light-dark(rgb(0, 0, 0), rgb(255, 255, 255)); background-color: transparent;&quot;&gt;&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;background-color: transparent; font-size: 12px;&quot;&gt;&lt;/span&gt;&lt;font style=&quot;color: rgb(0, 0, 0);&quot;&gt;&amp;nbsp;: Load unit result is valid&amp;nbsp;&lt;/font&gt;&lt;/div&gt;" vertex="1">
          <mxGeometry height="30" width="770" y="880" as="geometry" />
        </mxCell>
        <mxCell id="YD8wXlY8oEXokaMSZj_n-568" parent="YD8wXlY8oEXokaMSZj_n-545" style="text;strokeColor=#9673a6;fillColor=#e1d5e7;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;html=1;" value="&lt;div&gt;input logic [CVA6Cfg.TRANS_ID_BITS-1:0] commit_tran_id_i&amp;nbsp; &amp;nbsp; &amp;nbsp;&lt;span style=&quot;background-color: transparent; color: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));&quot;&gt;//&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;background-color: transparent;&quot;&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;COMMIT_STAGE&lt;/span&gt;&lt;/span&gt;&lt;font style=&quot;color: rgb(0, 0, 0);&quot;&gt;&amp;nbsp;: Transaction ID of the committing instruction&lt;/font&gt;&lt;/div&gt;" vertex="1">
          <mxGeometry height="30" width="770" y="910" as="geometry" />
        </mxCell>
        <mxCell id="YD8wXlY8oEXokaMSZj_n-569" parent="1" style="swimlane;fontStyle=1;align=center;verticalAlign=top;childLayout=stackLayout;horizontal=1;startSize=40;horizontalStack=0;resizeParent=1;resizeParentMax=0;resizeLast=0;collapsible=1;marginBottom=0;whiteSpace=wrap;html=1;fillColor=#0050ef;strokeColor=#001DBC;fontColor=#ffffff;" value="&lt;span style=&quot;text-align: left;&quot;&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;lsu_bypass&lt;/span&gt;&lt;br&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;/home/ICer/proj/cva6/core/lsu_bypass.sv&lt;/span&gt;&lt;/span&gt;" vertex="1">
          <mxGeometry height="320" width="770" x="16400" y="5169" as="geometry" />
        </mxCell>
        <mxCell id="YD8wXlY8oEXokaMSZj_n-570" parent="YD8wXlY8oEXokaMSZj_n-569" style="line;strokeWidth=1;fillColor=none;align=left;verticalAlign=middle;spacingTop=-1;spacingLeft=3;spacingRight=3;rotatable=0;labelPosition=right;points=[];portConstraint=eastwest;strokeColor=inherit;" value="" vertex="1">
          <mxGeometry height="8" width="770" y="40" as="geometry" />
        </mxCell>
        <mxCell id="YD8wXlY8oEXokaMSZj_n-571" parent="YD8wXlY8oEXokaMSZj_n-569" style="text;strokeColor=default;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;html=1;" value=":&lt;div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;1)&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;background-color: transparent; font-size: 12px;&quot;&gt;The LSU bypass is a FIFO which keeps instructions from the &lt;/span&gt;&lt;span style=&quot;font-size: 12px; background-color: rgb(213, 232, 212);&quot;&gt;issue stage&lt;/span&gt;&lt;span style=&quot;background-color: transparent; font-size: 12px;&quot;&gt; when the &lt;/span&gt;&lt;span style=&quot;font-size: 12px; background-color: rgb(213, 232, 212);&quot;&gt;store unit&lt;/span&gt;&lt;span style=&quot;background-color: transparent; font-size: 12px;&quot;&gt; or the &lt;/span&gt;&lt;span style=&quot;font-size: 12px; background-color: rgb(213, 232, 212);&quot;&gt;load unit&lt;/span&gt;&lt;span style=&quot;background-color: transparent; font-size: 12px;&quot;&gt; are not available immediately.&lt;/span&gt;&lt;/div&gt;&lt;/div&gt;" vertex="1">
          <mxGeometry height="62" width="770" y="48" as="geometry" />
        </mxCell>
        <mxCell id="YD8wXlY8oEXokaMSZj_n-572" parent="YD8wXlY8oEXokaMSZj_n-569" style="text;strokeColor=#d79b00;fillColor=#ffe6cc;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;html=1;" value="&lt;div&gt;input logic flush_i&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;&amp;nbsp;&lt;span style=&quot;background-color: transparent; color: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));&quot;&gt;//&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;background-color: transparent;&quot;&gt;&lt;font color=&quot;#000000&quot;&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;CONTROLLER&amp;nbsp;&lt;/span&gt;&lt;/font&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&lt;/span&gt;&lt;/span&gt;&lt;font style=&quot;color: rgb(0, 0, 0);&quot;&gt;&amp;nbsp;: Flush&lt;/font&gt;&lt;/div&gt;" vertex="1">
          <mxGeometry height="30" width="770" y="110" as="geometry" />
        </mxCell>
        <mxCell id="YD8wXlY8oEXokaMSZj_n-573" parent="YD8wXlY8oEXokaMSZj_n-569" style="text;strokeColor=#d6b656;fillColor=#fff2cc;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;html=1;" value="&lt;div&gt;input lsu_ctrl_t lsu_req_i &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; // &lt;span style=&quot;font-size: 12px;&quot;&gt;TO_BE_COMPLETED&lt;/span&gt; : TO_BE_COMPLETED&lt;/div&gt;" vertex="1">
          <mxGeometry height="30" width="770" y="140" as="geometry" />
        </mxCell>
        <mxCell id="YD8wXlY8oEXokaMSZj_n-574" parent="YD8wXlY8oEXokaMSZj_n-569" style="text;strokeColor=#d6b656;fillColor=#fff2cc;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;html=1;" value="&lt;div&gt;input logic&amp;nbsp; &amp;nbsp; &amp;nbsp; lsu_req_valid_i &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; // &lt;span style=&quot;font-size: 12px;&quot;&gt;TO_BE_COMPLETED&lt;/span&gt; : TO_BE_COMPLETED&lt;/div&gt;" vertex="1">
          <mxGeometry height="30" width="770" y="170" as="geometry" />
        </mxCell>
        <mxCell id="YD8wXlY8oEXokaMSZj_n-575" parent="YD8wXlY8oEXokaMSZj_n-569" style="text;strokeColor=#d6b656;fillColor=#fff2cc;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;html=1;" value="&lt;div&gt;input logic&amp;nbsp; &amp;nbsp; &amp;nbsp; pop_ld_i&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;// &lt;span style=&quot;font-size: 12px;&quot;&gt;TO_BE_COMPLETED&lt;/span&gt; : TO_BE_COMPLETED&lt;/div&gt;" vertex="1">
          <mxGeometry height="30" width="770" y="200" as="geometry" />
        </mxCell>
        <mxCell id="YD8wXlY8oEXokaMSZj_n-576" parent="YD8wXlY8oEXokaMSZj_n-569" style="text;strokeColor=#d6b656;fillColor=#fff2cc;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;html=1;" value="&lt;div&gt;input logic&amp;nbsp; &amp;nbsp; &amp;nbsp; pop_st_i&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;// &lt;span style=&quot;font-size: 12px;&quot;&gt;TO_BE_COMPLETED&lt;/span&gt; : TO_BE_COMPLETED&lt;/div&gt;" vertex="1">
          <mxGeometry height="30" width="770" y="230" as="geometry" />
        </mxCell>
        <mxCell id="YD8wXlY8oEXokaMSZj_n-577" parent="YD8wXlY8oEXokaMSZj_n-569" style="text;strokeColor=#d6b656;fillColor=#fff2cc;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;html=1;" value="&lt;div&gt;output lsu_ctrl_t lsu_ctrl_o&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;// &lt;span style=&quot;font-size: 12px;&quot;&gt;TO_BE_COMPLETED&lt;/span&gt; : TO_BE_COMPLETED&lt;/div&gt;" vertex="1">
          <mxGeometry height="30" width="770" y="260" as="geometry" />
        </mxCell>
        <mxCell id="YD8wXlY8oEXokaMSZj_n-578" parent="YD8wXlY8oEXokaMSZj_n-569" style="text;strokeColor=#d6b656;fillColor=#fff2cc;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;html=1;" value="&lt;div&gt;output logic&amp;nbsp; &amp;nbsp; &amp;nbsp; ready_o&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;// &lt;span style=&quot;font-size: 12px;&quot;&gt;TO_BE_COMPLETED&lt;/span&gt; : TO_BE_COMPLETED&lt;/div&gt;" vertex="1">
          <mxGeometry height="30" width="770" y="290" as="geometry" />
        </mxCell>
        <mxCell id="YD8wXlY8oEXokaMSZj_n-579" edge="1" parent="1" source="YD8wXlY8oEXokaMSZj_n-507" style="endArrow=classic;html=1;rounded=0;exitX=1;exitY=0.5;exitDx=0;exitDy=0;fontStyle=4;entryX=0;entryY=0;entryDx=0;entryDy=0;" target="YD8wXlY8oEXokaMSZj_n-513" value="">
          <mxGeometry height="50" relative="1" width="50" as="geometry">
            <mxPoint x="16090" y="3285" as="sourcePoint" />
            <mxPoint x="16385" y="3828" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="YD8wXlY8oEXokaMSZj_n-580" edge="1" parent="1" source="YD8wXlY8oEXokaMSZj_n-508" style="endArrow=classic;html=1;rounded=0;exitX=1;exitY=0.5;exitDx=0;exitDy=0;fontStyle=4;entryX=0;entryY=0;entryDx=0;entryDy=0;" target="YD8wXlY8oEXokaMSZj_n-545" value="">
          <mxGeometry height="50" relative="1" width="50" as="geometry">
            <mxPoint x="16280" y="3890" as="sourcePoint" />
            <mxPoint x="17010" y="3305" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="YD8wXlY8oEXokaMSZj_n-581" edge="1" parent="1" source="YD8wXlY8oEXokaMSZj_n-509" style="endArrow=classic;html=1;rounded=0;exitX=1;exitY=0.5;exitDx=0;exitDy=0;fontStyle=4;entryX=0;entryY=0;entryDx=0;entryDy=0;" target="YD8wXlY8oEXokaMSZj_n-569" value="">
          <mxGeometry height="50" relative="1" width="50" as="geometry">
            <mxPoint x="16070" y="3680" as="sourcePoint" />
            <mxPoint x="16800" y="3605" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="YD8wXlY8oEXokaMSZj_n-582" parent="1" style="html=1;whiteSpace=wrap;align=left;verticalAlign=top;movable=0;resizable=0;rotatable=0;deletable=0;editable=0;locked=1;connectable=0;" value="&lt;font style=&quot;font-size: 48px;&quot;&gt;&amp;nbsp;&amp;nbsp;&lt;/font&gt;&lt;div&gt;&lt;font style=&quot;font-size: 48px;&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; Design / COMMIT STAGE&lt;/font&gt;&lt;/div&gt;" vertex="1">
          <mxGeometry height="3050" width="2510" x="18700" y="1240" as="geometry" />
        </mxCell>
        <mxCell id="YD8wXlY8oEXokaMSZj_n-583" parent="1" style="swimlane;fontStyle=1;align=center;verticalAlign=top;childLayout=stackLayout;horizontal=1;startSize=40;horizontalStack=0;resizeParent=1;resizeParentMax=0;resizeLast=0;collapsible=1;marginBottom=0;whiteSpace=wrap;html=1;fillColor=#0050ef;strokeColor=#001DBC;fontColor=#ffffff;" value="&lt;span style=&quot;text-align: left;&quot;&gt;COMMIT STAGE&lt;br&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;/home/ICer/proj/cva6/core/commit_stage.sv&lt;/span&gt;&lt;/span&gt;" vertex="1">
          <mxGeometry height="1130" width="820" x="19100" y="2120" as="geometry" />
        </mxCell>
        <mxCell id="YD8wXlY8oEXokaMSZj_n-584" parent="YD8wXlY8oEXokaMSZj_n-583" style="line;strokeWidth=1;fillColor=none;align=left;verticalAlign=middle;spacingTop=-1;spacingLeft=3;spacingRight=3;rotatable=0;labelPosition=right;points=[];portConstraint=eastwest;strokeColor=inherit;" value="" vertex="1">
          <mxGeometry height="8" width="820" y="40" as="geometry" />
        </mxCell>
        <mxCell id="YD8wXlY8oEXokaMSZj_n-585" parent="YD8wXlY8oEXokaMSZj_n-583" style="text;strokeColor=default;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;html=1;" value=":&lt;div&gt;1)&amp;nbsp;The COMMIT_STAGE module implements the commit stage, which is the last stage in the processors pipeline.&amp;nbsp;For the instructions for which the execution is completed, it updates the architectural state: writing CSR registers, committing stores and writing back data to the register file.&amp;nbsp;&lt;br&gt;2)&amp;nbsp;The commit stage controls the stalling and the flushing of the processor.&lt;br&gt;3)&amp;nbsp;&lt;span style=&quot;background-color: transparent; font-size: 12px;&quot;&gt;The commit stage also manages the exceptions.&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;background-color: transparent; color: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));&quot;&gt;An exception can occur during the first four pipeline stages (&lt;/span&gt;&lt;span style=&quot;color: light-dark(rgb(0, 0, 0), rgb(255, 255, 255)); background-color: rgb(213, 232, 212);&quot;&gt;PCgen&lt;/span&gt;&lt;span style=&quot;background-color: transparent; color: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));&quot;&gt; cannot generate an exception) or happen in commit stage, coming from the CSR_REGFILE or from an interrupt.&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;background-color: transparent; font-size: 12px;&quot;&gt;Exceptions are precise: they are considered during the commit only and associated with the related instruction.&lt;/span&gt;&lt;/div&gt;" vertex="1">
          <mxGeometry height="122" width="820" y="48" as="geometry" />
        </mxCell>
        <mxCell id="YD8wXlY8oEXokaMSZj_n-586" parent="YD8wXlY8oEXokaMSZj_n-583" style="text;strokeColor=#d79b00;fillColor=#ffe6cc;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;html=1;" value="&lt;div&gt;input logic halt_i&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;&amp;nbsp;&lt;span style=&quot;background-color: transparent; color: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));&quot;&gt;//&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;background-color: transparent;&quot;&gt;&lt;font color=&quot;#000000&quot;&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;CONTROLLER&amp;nbsp;&lt;/span&gt;&lt;/font&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&lt;/span&gt;&lt;/span&gt;&lt;font style=&quot;color: rgb(0, 0, 0);&quot;&gt;&amp;nbsp;: Request to halt the core&lt;/font&gt;&lt;/div&gt;" vertex="1">
          <mxGeometry height="30" width="820" y="170" as="geometry" />
        </mxCell>
        <mxCell id="YD8wXlY8oEXokaMSZj_n-587" parent="YD8wXlY8oEXokaMSZj_n-583" style="text;strokeColor=#d79b00;fillColor=#ffe6cc;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;html=1;" value="&lt;div&gt;output logic fence_i_o&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;&lt;span style=&quot;background-color: transparent; color: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));&quot;&gt;//&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;background-color: transparent;&quot;&gt;&lt;font color=&quot;#000000&quot;&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;CONTROLLER&amp;nbsp;&lt;/span&gt;&lt;/font&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&lt;/span&gt;&lt;/span&gt;&lt;font style=&quot;color: rgb(0, 0, 0);&quot;&gt;&amp;nbsp;: Flush I$ and pipeline&lt;/font&gt;&lt;/div&gt;" vertex="1">
          <mxGeometry height="30" width="820" y="200" as="geometry" />
        </mxCell>
        <mxCell id="YD8wXlY8oEXokaMSZj_n-588" parent="YD8wXlY8oEXokaMSZj_n-583" style="text;strokeColor=#d79b00;fillColor=#ffe6cc;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;html=1;" value="&lt;div&gt;output logic fence_o&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;&amp;nbsp;&lt;span style=&quot;background-color: transparent; color: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));&quot;&gt;//&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;background-color: transparent;&quot;&gt;&lt;font color=&quot;#000000&quot;&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;CONTROLLER&amp;nbsp;&lt;/span&gt;&lt;/font&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&lt;/span&gt;&lt;/span&gt;&lt;font style=&quot;color: rgb(0, 0, 0);&quot;&gt;: Flush D$ and pipeline&lt;/font&gt;&lt;/div&gt;" vertex="1">
          <mxGeometry height="30" width="820" y="230" as="geometry" />
        </mxCell>
        <mxCell id="YD8wXlY8oEXokaMSZj_n-589" parent="YD8wXlY8oEXokaMSZj_n-583" style="text;strokeColor=#d79b00;fillColor=#ffe6cc;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;html=1;" value="&lt;div&gt;output logic flush_commit_o&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;&amp;nbsp;&lt;span style=&quot;background-color: transparent; color: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));&quot;&gt;//&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;background-color: transparent;&quot;&gt;&lt;font color=&quot;#000000&quot;&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;CONTROLLER&amp;nbsp;&lt;/span&gt;&lt;/font&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&lt;/span&gt;&lt;/span&gt;&lt;font style=&quot;color: rgb(0, 0, 0);&quot;&gt;&amp;nbsp;: Request a pipeline flush&lt;/font&gt;&lt;/div&gt;" vertex="1">
          <mxGeometry height="30" width="820" y="260" as="geometry" />
        </mxCell>
        <mxCell id="YD8wXlY8oEXokaMSZj_n-590" parent="YD8wXlY8oEXokaMSZj_n-583" style="text;strokeColor=#d79b00;fillColor=#ffe6cc;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;html=1;" value="&lt;div&gt;output logic sfence_vma_o&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;&amp;nbsp;&lt;span style=&quot;background-color: transparent; color: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));&quot;&gt;//&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;background-color: transparent;&quot;&gt;&lt;font color=&quot;#000000&quot;&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;CONTROLLER&amp;nbsp;&lt;/span&gt;&lt;/font&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&lt;/span&gt;&lt;/span&gt;&lt;font style=&quot;color: rgb(0, 0, 0);&quot;&gt;&amp;nbsp;: Flush TLBs and pipeline&lt;/font&gt;&lt;/div&gt;" vertex="1">
          <mxGeometry height="30" width="820" y="290" as="geometry" />
        </mxCell>
        <mxCell id="YD8wXlY8oEXokaMSZj_n-591" parent="YD8wXlY8oEXokaMSZj_n-583" style="text;strokeColor=#d79b00;fillColor=#ffe6cc;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;html=1;" value="&lt;div&gt;output logic hfence_vvma_o&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;&amp;nbsp;&lt;span style=&quot;background-color: transparent; color: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));&quot;&gt;//&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;background-color: transparent;&quot;&gt;&lt;font color=&quot;#000000&quot;&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;CONTROLLER&amp;nbsp;&lt;/span&gt;&lt;/font&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&lt;/span&gt;&lt;/span&gt;&lt;font style=&quot;color: rgb(0, 0, 0);&quot;&gt;&amp;nbsp;: TO_BE_COMPLETED&lt;/font&gt;&lt;/div&gt;" vertex="1">
          <mxGeometry height="30" width="820" y="320" as="geometry" />
        </mxCell>
        <mxCell id="YD8wXlY8oEXokaMSZj_n-592" parent="YD8wXlY8oEXokaMSZj_n-583" style="text;strokeColor=#d79b00;fillColor=#ffe6cc;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;html=1;" value="&lt;div&gt;output logic hfence_gvma_o&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;&amp;nbsp;&lt;span style=&quot;background-color: transparent; color: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));&quot;&gt;//&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;background-color: transparent;&quot;&gt;&lt;font color=&quot;#000000&quot;&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;CONTROLLER&amp;nbsp;&lt;/span&gt;&lt;/font&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&lt;/span&gt;&lt;/span&gt;&lt;font style=&quot;color: rgb(0, 0, 0);&quot;&gt;&amp;nbsp;: TO_BE_COMPLETED&lt;/font&gt;&lt;/div&gt;" vertex="1">
          <mxGeometry height="30" width="820" y="350" as="geometry" />
        </mxCell>
        <mxCell id="YD8wXlY8oEXokaMSZj_n-593" parent="YD8wXlY8oEXokaMSZj_n-583" style="text;strokeColor=#82b366;fillColor=#d5e8d4;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;html=1;" value="&lt;div&gt;input logic flush_dcache_i&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;&lt;span style=&quot;background-color: transparent; color: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));&quot;&gt;//&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;background-color: transparent;&quot;&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;CACHE&lt;/span&gt;&lt;/span&gt;&lt;font style=&quot;color: rgb(0, 0, 0);&quot;&gt;&amp;nbsp;:&amp;nbsp;request to flush dcache, also flush the pipeline&lt;/font&gt;&lt;/div&gt;" vertex="1">
          <mxGeometry height="30" width="820" y="380" as="geometry" />
        </mxCell>
        <mxCell id="YD8wXlY8oEXokaMSZj_n-594" parent="YD8wXlY8oEXokaMSZj_n-583" style="text;strokeColor=#82b366;fillColor=#d5e8d4;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;html=1;" value="&lt;div&gt;input amo_resp_t amo_resp_i&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;&amp;nbsp;&lt;span style=&quot;background-color: transparent; color: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));&quot;&gt;//&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;background-color: transparent;&quot;&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;CACHE&lt;/span&gt;&lt;/span&gt;&lt;font style=&quot;color: rgb(0, 0, 0);&quot;&gt;&amp;nbsp;:&amp;nbsp;Result of AMO operation&lt;/font&gt;&lt;/div&gt;" vertex="1">
          <mxGeometry height="30" width="820" y="410" as="geometry" />
        </mxCell>
        <mxCell id="YD8wXlY8oEXokaMSZj_n-595" parent="YD8wXlY8oEXokaMSZj_n-583" style="text;strokeColor=#6c8ebf;fillColor=#dae8fc;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;html=1;" value="&lt;div&gt;output logic [CVA6Cfg.VLEN-1:0] pc_o&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;&amp;nbsp;&lt;span style=&quot;background-color: transparent; color: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));&quot;&gt;//&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;background-color: transparent;&quot;&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;FRONTEND_CSR_REGFILE&lt;/span&gt;&lt;/span&gt;&lt;font style=&quot;color: rgb(0, 0, 0);&quot;&gt;&amp;nbsp;:&amp;nbsp;TO_BE_COMPLETED&lt;/font&gt;&lt;/div&gt;" vertex="1">
          <mxGeometry height="30" width="820" y="440" as="geometry" />
        </mxCell>
        <mxCell id="YD8wXlY8oEXokaMSZj_n-596" parent="YD8wXlY8oEXokaMSZj_n-583" style="text;strokeColor=#82b366;fillColor=#d5e8d4;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;html=1;" value="&lt;div&gt;output logic dirty_fp_state_o&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;&amp;nbsp;&lt;span style=&quot;background-color: transparent; color: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));&quot;&gt;//&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;background-color: transparent;&quot;&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;CSR_REGFILE&lt;/span&gt;&lt;/span&gt;&lt;font style=&quot;color: rgb(0, 0, 0);&quot;&gt;&amp;nbsp;:&amp;nbsp;Mark the F state as dirty&lt;/font&gt;&lt;/div&gt;" vertex="1">
          <mxGeometry height="30" width="820" y="470" as="geometry" />
        </mxCell>
        <mxCell id="YD8wXlY8oEXokaMSZj_n-597" parent="YD8wXlY8oEXokaMSZj_n-583" style="text;strokeColor=#82b366;fillColor=#d5e8d4;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;html=1;" value="&lt;div&gt;input logic single_step_i&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;&lt;span style=&quot;background-color: transparent; color: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));&quot;&gt;//&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;background-color: transparent;&quot;&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;CSR_REGFILE&lt;/span&gt;&lt;/span&gt;&lt;font style=&quot;color: rgb(0, 0, 0);&quot;&gt;&amp;nbsp;:&amp;nbsp;TO_BE_COMPLETED&lt;/font&gt;&lt;/div&gt;" vertex="1">
          <mxGeometry height="30" width="820" y="500" as="geometry" />
        </mxCell>
        <mxCell id="YD8wXlY8oEXokaMSZj_n-598" parent="YD8wXlY8oEXokaMSZj_n-583" style="text;strokeColor=#82b366;fillColor=#d5e8d4;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;html=1;" value="&lt;div&gt;output logic [CVA6Cfg.NrCommitPorts-1:0] commit_macro_ack_o&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;&lt;span style=&quot;background-color: transparent; color: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));&quot;&gt;//&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;background-color: transparent;&quot;&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;CSR_REGFILE&lt;/span&gt;&lt;/span&gt;&lt;font style=&quot;color: rgb(0, 0, 0);&quot;&gt;&amp;nbsp;:&amp;nbsp;Acknowledge that we are indeed committing&lt;/font&gt;&lt;/div&gt;" vertex="1">
          <mxGeometry height="30" width="820" y="530" as="geometry" />
        </mxCell>
        <mxCell id="YD8wXlY8oEXokaMSZj_n-599" parent="YD8wXlY8oEXokaMSZj_n-583" style="text;strokeColor=#82b366;fillColor=#d5e8d4;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;html=1;" value="&lt;div&gt;output fu_op csr_op_o&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;&lt;span style=&quot;background-color: transparent; color: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));&quot;&gt;//&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;background-color: transparent;&quot;&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;CSR_REGFILE&lt;/span&gt;&lt;/span&gt;&lt;font style=&quot;color: rgb(0, 0, 0);&quot;&gt;&amp;nbsp;:&amp;nbsp;Decoded CSR operation&lt;/font&gt;&lt;/div&gt;" vertex="1">
          <mxGeometry height="30" width="820" y="560" as="geometry" />
        </mxCell>
        <mxCell id="YD8wXlY8oEXokaMSZj_n-600" parent="YD8wXlY8oEXokaMSZj_n-583" style="text;strokeColor=#82b366;fillColor=#d5e8d4;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;html=1;" value="&lt;div&gt;output logic [CVA6Cfg.XLEN-1:0] csr_wdata_o&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;&lt;span style=&quot;background-color: transparent; color: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));&quot;&gt;//&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;background-color: transparent;&quot;&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;CSR_REGFILE&lt;/span&gt;&lt;/span&gt;&lt;font style=&quot;color: rgb(0, 0, 0);&quot;&gt;&amp;nbsp;:&amp;nbsp;Data to write to CSR&lt;/font&gt;&lt;/div&gt;" vertex="1">
          <mxGeometry height="30" width="820" y="590" as="geometry" />
        </mxCell>
        <mxCell id="YD8wXlY8oEXokaMSZj_n-601" parent="YD8wXlY8oEXokaMSZj_n-583" style="text;strokeColor=#82b366;fillColor=#d5e8d4;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;html=1;" value="&lt;div&gt;input logic [CVA6Cfg.XLEN-1:0] csr_rdata_i&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &lt;span style=&quot;background-color: transparent; color: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));&quot;&gt;//&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;background-color: transparent;&quot;&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;CSR_REGFILE&lt;/span&gt;&lt;/span&gt;&lt;font style=&quot;color: rgb(0, 0, 0);&quot;&gt;&amp;nbsp;:&amp;nbsp;Data to read from CSR&amp;nbsp;&lt;/font&gt;&lt;/div&gt;" vertex="1">
          <mxGeometry height="30" width="820" y="620" as="geometry" />
        </mxCell>
        <mxCell id="YD8wXlY8oEXokaMSZj_n-602" parent="YD8wXlY8oEXokaMSZj_n-583" style="text;strokeColor=#82b366;fillColor=#d5e8d4;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;html=1;" value="&lt;div&gt;output logic &lt;span style=&quot;background-color: rgb(255, 204, 255);&quot;&gt;csr_write_fflags_o&lt;/span&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;&lt;span style=&quot;background-color: transparent; color: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));&quot;&gt;//&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;background-color: transparent;&quot;&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;CSR_REGFILE&lt;/span&gt;&lt;/span&gt;&lt;font style=&quot;color: rgb(0, 0, 0);&quot;&gt;&amp;nbsp;:&amp;nbsp;Write the fflags CSR&lt;/font&gt;&lt;/div&gt;" vertex="1">
          <mxGeometry height="30" width="820" y="650" as="geometry" />
        </mxCell>
        <mxCell id="YD8wXlY8oEXokaMSZj_n-603" parent="YD8wXlY8oEXokaMSZj_n-583" style="text;strokeColor=#82b366;fillColor=#d5e8d4;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;html=1;" value="&lt;div&gt;input exception_t csr_exception_i&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;&amp;nbsp;&lt;span style=&quot;background-color: transparent; color: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));&quot;&gt;//&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;background-color: transparent;&quot;&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;CSR_REGFILE&lt;/span&gt;&lt;/span&gt;&lt;font style=&quot;color: rgb(0, 0, 0);&quot;&gt;&amp;nbsp;:&amp;nbsp;Exception or interrupt occurred in CSR stage (the same as commit)&lt;/font&gt;&lt;/div&gt;" vertex="1">
          <mxGeometry height="30" width="820" y="680" as="geometry" />
        </mxCell>
        <mxCell id="YD8wXlY8oEXokaMSZj_n-604" parent="YD8wXlY8oEXokaMSZj_n-583" style="text;strokeColor=#6c8ebf;fillColor=#dae8fc;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;html=1;" value="&lt;div&gt;output logic [CVA6Cfg.TRANS_ID_BITS-1:0] commit_tran_id_o&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;&lt;span style=&quot;background-color: transparent; color: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));&quot;&gt;//&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;background-color: transparent;&quot;&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;ID_STAGE&lt;/span&gt;&lt;/span&gt;&lt;font style=&quot;color: rgb(0, 0, 0);&quot;&gt;&amp;nbsp;:&amp;nbsp;Transaction id of first commit port&lt;/font&gt;&lt;/div&gt;" vertex="1">
          <mxGeometry height="30" width="820" y="710" as="geometry" />
        </mxCell>
        <mxCell id="YD8wXlY8oEXokaMSZj_n-605" parent="YD8wXlY8oEXokaMSZj_n-583" style="text;strokeColor=#d6b656;fillColor=#fff2cc;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;html=1;" value="&lt;div&gt;input scoreboard_entry_t [CVA6Cfg.NrCommitPorts-1:0] commit_instr_i&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;&lt;span style=&quot;background-color: transparent; color: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));&quot;&gt;//&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;background-color: transparent;&quot;&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;ISSUE_STAGE&lt;/span&gt;&lt;/span&gt;&lt;font style=&quot;color: rgb(0, 0, 0);&quot;&gt;&amp;nbsp;:&amp;nbsp;The instruction we want to commit&lt;/font&gt;&lt;/div&gt;" vertex="1">
          <mxGeometry height="30" width="820" y="740" as="geometry" />
        </mxCell>
        <mxCell id="YD8wXlY8oEXokaMSZj_n-606" parent="YD8wXlY8oEXokaMSZj_n-583" style="text;strokeColor=#d6b656;fillColor=#fff2cc;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;html=1;" value="&lt;div&gt;input logic [CVA6Cfg.NrCommitPorts-1:0] commit_drop_i&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;&lt;span style=&quot;background-color: transparent; color: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));&quot;&gt;//&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;background-color: transparent;&quot;&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;ISSUE_STAGE&lt;/span&gt;&lt;/span&gt;&lt;font style=&quot;color: rgb(0, 0, 0);&quot;&gt;&amp;nbsp;:&amp;nbsp;The instruction is cancelled&lt;/font&gt;&lt;/div&gt;" vertex="1">
          <mxGeometry height="30" width="820" y="770" as="geometry" />
        </mxCell>
        <mxCell id="YD8wXlY8oEXokaMSZj_n-607" parent="YD8wXlY8oEXokaMSZj_n-583" style="text;strokeColor=#d6b656;fillColor=#fff2cc;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;html=1;" value="&lt;div&gt;output logic [CVA6Cfg.NrCommitPorts-1:0] commit_ack_o &amp;nbsp; &amp;nbsp; &amp;nbsp; &lt;span style=&quot;background-color: transparent; color: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));&quot;&gt;//&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;background-color: transparent;&quot;&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;ISSUE_STAGE&lt;/span&gt;&lt;/span&gt;&lt;font style=&quot;color: rgb(0, 0, 0);&quot;&gt;&amp;nbsp;:&amp;nbsp;Acknowledge that we are indeed committing&lt;/font&gt;&lt;/div&gt;" vertex="1">
          <mxGeometry height="30" width="820" y="800" as="geometry" />
        </mxCell>
        <mxCell id="YD8wXlY8oEXokaMSZj_n-608" parent="YD8wXlY8oEXokaMSZj_n-583" style="text;strokeColor=#d6b656;fillColor=#fff2cc;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;html=1;" value="&lt;div&gt;output logic [CVA6Cfg.NrCommitPorts-1:0][4:0] waddr_o&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;&lt;span style=&quot;background-color: transparent; color: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));&quot;&gt;//&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;background-color: transparent;&quot;&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;ISSUE_STAGE&lt;/span&gt;&lt;/span&gt;&lt;font style=&quot;color: rgb(0, 0, 0);&quot;&gt;&amp;nbsp;:&amp;nbsp;Register file write address&lt;/font&gt;&lt;/div&gt;" vertex="1">
          <mxGeometry height="30" width="820" y="830" as="geometry" />
        </mxCell>
        <mxCell id="YD8wXlY8oEXokaMSZj_n-609" parent="YD8wXlY8oEXokaMSZj_n-583" style="text;strokeColor=#d6b656;fillColor=#fff2cc;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;html=1;" value="&lt;div&gt;output logic [CVA6Cfg.NrCommitPorts-1:0][CVA6Cfg.XLEN-1:0] wdata_o&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;&lt;span style=&quot;background-color: transparent; color: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));&quot;&gt;//&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;background-color: transparent;&quot;&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;ISSUE_STAGE&lt;/span&gt;&lt;/span&gt;&lt;font style=&quot;color: rgb(0, 0, 0);&quot;&gt;&amp;nbsp;:&amp;nbsp;Register file write data&lt;/font&gt;&lt;/div&gt;" vertex="1">
          <mxGeometry height="30" width="820" y="860" as="geometry" />
        </mxCell>
        <mxCell id="YD8wXlY8oEXokaMSZj_n-610" parent="YD8wXlY8oEXokaMSZj_n-583" style="text;strokeColor=#d6b656;fillColor=#fff2cc;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;html=1;" value="&lt;div&gt;output logic [CVA6Cfg.NrCommitPorts-1:0] we_gpr_o&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;&lt;span style=&quot;background-color: transparent; color: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));&quot;&gt;//&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;background-color: transparent;&quot;&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;ISSUE_STAGE&lt;/span&gt;&lt;/span&gt;&lt;font style=&quot;color: rgb(0, 0, 0);&quot;&gt;&amp;nbsp;:&amp;nbsp;Register file write enable&lt;/font&gt;&lt;/div&gt;" vertex="1">
          <mxGeometry height="30" width="820" y="890" as="geometry" />
        </mxCell>
        <mxCell id="YD8wXlY8oEXokaMSZj_n-611" parent="YD8wXlY8oEXokaMSZj_n-583" style="text;strokeColor=#d6b656;fillColor=#fff2cc;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;html=1;" value="&lt;div&gt;output logic [CVA6Cfg.NrCommitPorts-1:0] we_fpr_o&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;&amp;nbsp;&lt;span style=&quot;background-color: transparent; color: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));&quot;&gt;//&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;background-color: transparent;&quot;&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;ISSUE_STAGE&lt;/span&gt;&lt;/span&gt;&lt;font style=&quot;color: rgb(0, 0, 0);&quot;&gt;&amp;nbsp;:&amp;nbsp;Floating point register enable&lt;/font&gt;&lt;/div&gt;" vertex="1">
          <mxGeometry height="30" width="820" y="920" as="geometry" />
        </mxCell>
        <mxCell id="YD8wXlY8oEXokaMSZj_n-612" parent="YD8wXlY8oEXokaMSZj_n-583" style="text;strokeColor=#b85450;fillColor=#f8cecc;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;html=1;" value="&lt;div&gt;output exception_t exception_o&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;&amp;nbsp;&lt;span style=&quot;background-color: transparent; color: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));&quot;&gt;//&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;background-color: transparent;&quot;&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;EX_STAGE&lt;/span&gt;&lt;/span&gt;&lt;font style=&quot;color: rgb(0, 0, 0);&quot;&gt;&amp;nbsp;:&amp;nbsp;Floating point register enable&lt;/font&gt;&lt;/div&gt;" vertex="1">
          <mxGeometry height="30" width="820" y="950" as="geometry" />
        </mxCell>
        <mxCell id="YD8wXlY8oEXokaMSZj_n-613" parent="YD8wXlY8oEXokaMSZj_n-583" style="text;strokeColor=#b85450;fillColor=#f8cecc;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;html=1;" value="&lt;div&gt;output logic commit_lsu_o&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;&amp;nbsp;&lt;span style=&quot;background-color: transparent; color: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));&quot;&gt;//&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;background-color: transparent;&quot;&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;EX_STAGE&lt;/span&gt;&lt;/span&gt;&lt;font style=&quot;color: rgb(0, 0, 0);&quot;&gt;&amp;nbsp;:&amp;nbsp;Commit the pending store&lt;/font&gt;&lt;/div&gt;" vertex="1">
          <mxGeometry height="30" width="820" y="980" as="geometry" />
        </mxCell>
        <mxCell id="YD8wXlY8oEXokaMSZj_n-614" parent="YD8wXlY8oEXokaMSZj_n-583" style="text;strokeColor=#b85450;fillColor=#f8cecc;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;html=1;" value="&lt;div&gt;output logic amo_valid_commit_o&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;&lt;span style=&quot;background-color: transparent; color: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));&quot;&gt;//&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;background-color: transparent;&quot;&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;EX_STAGE&lt;/span&gt;&lt;/span&gt;&lt;font style=&quot;color: rgb(0, 0, 0);&quot;&gt;&amp;nbsp;:&amp;nbsp;Valid AMO in commit stage&lt;/font&gt;&lt;/div&gt;" vertex="1">
          <mxGeometry height="30" width="820" y="1010" as="geometry" />
        </mxCell>
        <mxCell id="YD8wXlY8oEXokaMSZj_n-615" parent="YD8wXlY8oEXokaMSZj_n-583" style="text;strokeColor=#b85450;fillColor=#f8cecc;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;html=1;" value="&lt;div&gt;output logic commit_csr_o&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;&lt;span style=&quot;background-color: transparent; color: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));&quot;&gt;//&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;background-color: transparent;&quot;&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;EX_STAGE&lt;/span&gt;&lt;/span&gt;&lt;font style=&quot;color: rgb(0, 0, 0);&quot;&gt;&amp;nbsp;:&amp;nbsp;Commit the pending CSR instruction&lt;/font&gt;&lt;/div&gt;" vertex="1">
          <mxGeometry height="30" width="820" y="1040" as="geometry" />
        </mxCell>
        <mxCell id="YD8wXlY8oEXokaMSZj_n-616" parent="YD8wXlY8oEXokaMSZj_n-583" style="text;strokeColor=#b85450;fillColor=#f8cecc;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;html=1;" value="&lt;div&gt;input logic commit_lsu_ready_i&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;&lt;span style=&quot;background-color: transparent; color: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));&quot;&gt;//&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;background-color: transparent;&quot;&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;EX_STAGE&lt;/span&gt;&lt;/span&gt;&lt;font style=&quot;color: rgb(0, 0, 0);&quot;&gt;&amp;nbsp;:&amp;nbsp;Commit buffer of LSU is ready&lt;/font&gt;&lt;/div&gt;" vertex="1">
          <mxGeometry height="30" width="820" y="1070" as="geometry" />
        </mxCell>
        <mxCell id="YD8wXlY8oEXokaMSZj_n-617" parent="YD8wXlY8oEXokaMSZj_n-583" style="text;strokeColor=#b85450;fillColor=#f8cecc;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;html=1;" value="&lt;div&gt;input logic no_st_pending_i&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;&lt;span style=&quot;background-color: transparent; color: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));&quot;&gt;//&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;background-color: transparent;&quot;&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;EX_STAGE&lt;/span&gt;&lt;/span&gt;&lt;font style=&quot;color: rgb(0, 0, 0);&quot;&gt;&amp;nbsp;:&amp;nbsp;No store is pending&lt;/font&gt;&lt;/div&gt;" vertex="1">
          <mxGeometry height="30" width="820" y="1100" as="geometry" />
        </mxCell>
        <mxCell id="YD8wXlY8oEXokaMSZj_n-618" parent="1" style="html=1;whiteSpace=wrap;align=left;verticalAlign=top;movable=0;resizable=0;rotatable=0;deletable=0;editable=0;locked=1;connectable=0;" value="&lt;font style=&quot;font-size: 48px;&quot;&gt;&amp;nbsp;&amp;nbsp;&lt;/font&gt;&lt;div&gt;&lt;font style=&quot;font-size: 48px;&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; Design / CONTROLLER&lt;/font&gt;&lt;/div&gt;" vertex="1">
          <mxGeometry height="1710" width="2170" x="6500" y="-940" as="geometry" />
        </mxCell>
        <mxCell id="YD8wXlY8oEXokaMSZj_n-619" parent="1" style="html=1;whiteSpace=wrap;align=left;verticalAlign=top;movable=0;resizable=0;rotatable=0;deletable=0;editable=0;locked=1;connectable=0;" value="&lt;font style=&quot;font-size: 48px;&quot;&gt;&amp;nbsp;&amp;nbsp;&lt;/font&gt;&lt;div&gt;&lt;font style=&quot;font-size: 48px;&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; Design / CSR RegFile&lt;/font&gt;&lt;/div&gt;" vertex="1">
          <mxGeometry height="2320" width="2230" x="10600" y="-1250" as="geometry" />
        </mxCell>
        <mxCell id="YD8wXlY8oEXokaMSZj_n-620" parent="1" style="swimlane;fontStyle=1;align=center;verticalAlign=top;childLayout=stackLayout;horizontal=1;startSize=40;horizontalStack=0;resizeParent=1;resizeParentMax=0;resizeLast=0;collapsible=1;marginBottom=0;whiteSpace=wrap;html=1;fillColor=#0050ef;strokeColor=#001DBC;fontColor=#ffffff;" value="&lt;span style=&quot;text-align: left;&quot;&gt;controller&lt;br&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;/home/ICer/proj/cva6/core/controller.sv&lt;/span&gt;&lt;/span&gt;" vertex="1">
          <mxGeometry height="1010" width="760" x="7200" y="-620" as="geometry" />
        </mxCell>
        <mxCell id="YD8wXlY8oEXokaMSZj_n-621" parent="YD8wXlY8oEXokaMSZj_n-620" style="line;strokeWidth=1;fillColor=none;align=left;verticalAlign=middle;spacingTop=-1;spacingLeft=3;spacingRight=3;rotatable=0;labelPosition=right;points=[];portConstraint=eastwest;strokeColor=inherit;" value="" vertex="1">
          <mxGeometry height="8" width="760" y="40" as="geometry" />
        </mxCell>
        <mxCell id="YD8wXlY8oEXokaMSZj_n-622" parent="YD8wXlY8oEXokaMSZj_n-620" style="text;strokeColor=default;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;html=1;" value=":&lt;div&gt;1)&amp;nbsp;&lt;/div&gt;" vertex="1">
          <mxGeometry height="62" width="760" y="48" as="geometry" />
        </mxCell>
        <mxCell id="YD8wXlY8oEXokaMSZj_n-623" parent="YD8wXlY8oEXokaMSZj_n-620" style="text;strokeColor=#82b366;fillColor=#d5e8d4;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;html=1;" value="&lt;div&gt;input logic v_i&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;&lt;span style=&quot;background-color: transparent; color: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));&quot;&gt;//&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;background-color: transparent;&quot;&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;CSR_REGFILE&lt;/span&gt;&lt;/span&gt;&lt;font style=&quot;color: rgb(0, 0, 0);&quot;&gt;&amp;nbsp;:&amp;nbsp;Virtualization mode&lt;/font&gt;&lt;/div&gt;" vertex="1">
          <mxGeometry height="30" width="760" y="110" as="geometry" />
        </mxCell>
        <mxCell id="YD8wXlY8oEXokaMSZj_n-624" parent="YD8wXlY8oEXokaMSZj_n-620" style="text;strokeColor=#82b366;fillColor=#d5e8d4;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;html=1;" value="&lt;div&gt;input logic halt_csr_i &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;&lt;span style=&quot;background-color: transparent; color: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));&quot;&gt;//&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;background-color: transparent;&quot;&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;CSR_REGFILE&lt;/span&gt;&lt;/span&gt;&lt;font style=&quot;color: rgb(0, 0, 0);&quot;&gt;&amp;nbsp;:&amp;nbsp;Halt request from CSR (WFI instruction)&lt;/font&gt;&lt;/div&gt;" vertex="1">
          <mxGeometry height="30" width="760" y="140" as="geometry" />
        </mxCell>
        <mxCell id="YD8wXlY8oEXokaMSZj_n-625" parent="YD8wXlY8oEXokaMSZj_n-620" style="text;strokeColor=#82b366;fillColor=#d5e8d4;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;html=1;" value="&lt;div&gt;input logic eret_i&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;&lt;span style=&quot;background-color: transparent; color: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));&quot;&gt;//&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;background-color: transparent;&quot;&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;CSR_REGFILE&lt;/span&gt;&lt;/span&gt;&lt;font style=&quot;color: rgb(0, 0, 0);&quot;&gt;&amp;nbsp;:&amp;nbsp;Return from exception&lt;/font&gt;&lt;/div&gt;" vertex="1">
          <mxGeometry height="30" width="760" y="170" as="geometry" />
        </mxCell>
        <mxCell id="YD8wXlY8oEXokaMSZj_n-626" parent="YD8wXlY8oEXokaMSZj_n-620" style="text;strokeColor=#82b366;fillColor=#d5e8d4;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;html=1;" value="&lt;div&gt;input logic flush_csr_i&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;&lt;span style=&quot;background-color: transparent; color: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));&quot;&gt;//&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;background-color: transparent;&quot;&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;CSR_REGFILE&lt;/span&gt;&lt;/span&gt;&lt;font style=&quot;color: rgb(0, 0, 0);&quot;&gt;&amp;nbsp;:&amp;nbsp;We got an instruction which altered the CSR, flush the pipeline&lt;/font&gt;&lt;/div&gt;" vertex="1">
          <mxGeometry height="30" width="760" y="200" as="geometry" />
        </mxCell>
        <mxCell id="YD8wXlY8oEXokaMSZj_n-627" parent="YD8wXlY8oEXokaMSZj_n-620" style="text;strokeColor=#666666;fillColor=#f5f5f5;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;html=1;fontColor=#333333;" value="&lt;div&gt;output logic flush_tlb_vvma_o &amp;nbsp; &amp;nbsp; &amp;nbsp;&lt;span style=&quot;background-color: transparent; color: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));&quot;&gt;//&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;background-color: transparent;&quot;&gt;TO_BE_COMPLETED&lt;/span&gt;&lt;font style=&quot;color: rgb(0, 0, 0);&quot;&gt;&amp;nbsp;:&amp;nbsp;TO_BE_COMPLETED&lt;/font&gt;&lt;/div&gt;" vertex="1">
          <mxGeometry height="30" width="760" y="230" as="geometry" />
        </mxCell>
        <mxCell id="YD8wXlY8oEXokaMSZj_n-628" parent="YD8wXlY8oEXokaMSZj_n-620" style="text;strokeColor=#666666;fillColor=#f5f5f5;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;html=1;fontColor=#333333;" value="&lt;div&gt;output logic flush_tlb_gvma_o&amp;nbsp; &amp;nbsp; &amp;nbsp;&amp;nbsp;&lt;span style=&quot;background-color: transparent; color: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));&quot;&gt;//&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;background-color: transparent;&quot;&gt;TO_BE_COMPLETED&lt;/span&gt;&lt;font style=&quot;color: rgb(0, 0, 0);&quot;&gt;&amp;nbsp;:&amp;nbsp;TO_BE_COMPLETED&lt;/font&gt;&lt;/div&gt;" vertex="1">
          <mxGeometry height="30" width="760" y="260" as="geometry" />
        </mxCell>
        <mxCell id="YD8wXlY8oEXokaMSZj_n-629" parent="YD8wXlY8oEXokaMSZj_n-620" style="text;strokeColor=#666666;fillColor=#f5f5f5;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;html=1;fontColor=#333333;" value="&lt;div&gt;input logic hfence_vvma_i&amp;nbsp; &amp;nbsp; &amp;nbsp;&amp;nbsp;&lt;span style=&quot;background-color: transparent; color: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));&quot;&gt;//&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;background-color: transparent;&quot;&gt;TO_BE_COMPLETED&lt;/span&gt;&lt;font style=&quot;color: rgb(0, 0, 0);&quot;&gt;&amp;nbsp;:&amp;nbsp;TO_BE_COMPLETED&lt;/font&gt;&lt;/div&gt;" vertex="1">
          <mxGeometry height="30" width="760" y="290" as="geometry" />
        </mxCell>
        <mxCell id="YD8wXlY8oEXokaMSZj_n-630" parent="YD8wXlY8oEXokaMSZj_n-620" style="text;strokeColor=#666666;fillColor=#f5f5f5;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;html=1;fontColor=#333333;" value="&lt;div&gt;input logic hfence_gvma_i&amp;nbsp; &amp;nbsp; &amp;nbsp;&amp;nbsp;&lt;span style=&quot;background-color: transparent; color: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));&quot;&gt;//&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;background-color: transparent;&quot;&gt;TO_BE_COMPLETED&lt;/span&gt;&lt;font style=&quot;color: rgb(0, 0, 0);&quot;&gt;&lt;span style=&quot;color: rgb(51, 51, 51);&quot;&gt;&lt;/span&gt;&amp;nbsp;:&amp;nbsp;TO_BE_COMPLETED&lt;/font&gt;&lt;/div&gt;" vertex="1">
          <mxGeometry height="30" width="760" y="320" as="geometry" />
        </mxCell>
        <mxCell id="YD8wXlY8oEXokaMSZj_n-631" parent="YD8wXlY8oEXokaMSZj_n-620" style="text;strokeColor=#6c8ebf;fillColor=#dae8fc;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;html=1;" value="&lt;div&gt;output logic set_pc_commit_o&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;&lt;span style=&quot;background-color: transparent; color: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));&quot;&gt;//&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;background-color: transparent;&quot;&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;FRONTEND&lt;/span&gt;&lt;/span&gt;&lt;font style=&quot;color: rgb(0, 0, 0);&quot;&gt;&amp;nbsp;:&amp;nbsp;Set PC on PC Gen&lt;/font&gt;&lt;/div&gt;" vertex="1">
          <mxGeometry height="30" width="760" y="350" as="geometry" />
        </mxCell>
        <mxCell id="YD8wXlY8oEXokaMSZj_n-632" parent="YD8wXlY8oEXokaMSZj_n-620" style="text;strokeColor=#6c8ebf;fillColor=#dae8fc;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;html=1;" value="&lt;div&gt;output logic flush_if_o&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;&amp;nbsp;&lt;span style=&quot;background-color: transparent; color: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));&quot;&gt;//&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;background-color: transparent;&quot;&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;FRONTEND&lt;/span&gt;&lt;/span&gt;&lt;font style=&quot;color: rgb(0, 0, 0);&quot;&gt;&amp;nbsp;:&amp;nbsp;Flush the IF stage&lt;/font&gt;&lt;/div&gt;" vertex="1">
          <mxGeometry height="30" width="760" y="380" as="geometry" />
        </mxCell>
        <mxCell id="YD8wXlY8oEXokaMSZj_n-633" parent="YD8wXlY8oEXokaMSZj_n-620" style="text;strokeColor=#6c8ebf;fillColor=#dae8fc;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;html=1;" value="&lt;div&gt;output logic flush_unissued_instr_o&amp;nbsp; &amp;nbsp;&lt;span style=&quot;background-color: transparent; color: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));&quot;&gt;//&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;background-color: transparent;&quot;&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;FRONTEND&lt;/span&gt;&lt;/span&gt;&lt;font style=&quot;color: rgb(0, 0, 0);&quot;&gt;&amp;nbsp;:&amp;nbsp;Flush un-issued instructions of the scoreboard&lt;/font&gt;&lt;/div&gt;" vertex="1">
          <mxGeometry height="30" width="760" y="410" as="geometry" />
        </mxCell>
        <mxCell id="YD8wXlY8oEXokaMSZj_n-634" parent="YD8wXlY8oEXokaMSZj_n-620" style="text;strokeColor=#6c8ebf;fillColor=#dae8fc;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;html=1;" value="&lt;div&gt;output logic flush_bp_o&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;&amp;nbsp;&lt;span style=&quot;background-color: transparent; color: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));&quot;&gt;//&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;background-color: transparent;&quot;&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;FRONTEND&lt;/span&gt;&lt;/span&gt;&lt;font style=&quot;color: rgb(0, 0, 0);&quot;&gt;&amp;nbsp;:&amp;nbsp;Flush branch predictors&lt;/font&gt;&lt;/div&gt;" vertex="1">
          <mxGeometry height="30" width="760" y="440" as="geometry" />
        </mxCell>
        <mxCell id="YD8wXlY8oEXokaMSZj_n-635" parent="YD8wXlY8oEXokaMSZj_n-620" style="text;strokeColor=#6c8ebf;fillColor=#dae8fc;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;html=1;" value="&lt;div&gt;output logic halt_frontend_o&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;&amp;nbsp;&lt;span style=&quot;background-color: transparent; color: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));&quot;&gt;//&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;background-color: transparent;&quot;&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;FRONTEND&lt;/span&gt;&lt;/span&gt;&lt;font style=&quot;color: rgb(0, 0, 0);&quot;&gt;&amp;nbsp;:&amp;nbsp;Halt frontend during fence.i to prevent fetching stale instructions&lt;/font&gt;&lt;/div&gt;" vertex="1">
          <mxGeometry height="30" width="760" y="470" as="geometry" />
        </mxCell>
        <mxCell id="YD8wXlY8oEXokaMSZj_n-636" parent="YD8wXlY8oEXokaMSZj_n-620" style="text;strokeColor=#6c8ebf;fillColor=#dae8fc;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;html=1;" value="&lt;div&gt;input logic ex_valid_i&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;&lt;span style=&quot;background-color: transparent; color: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));&quot;&gt;//&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;background-color: transparent;&quot;&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;FRONTEND&lt;/span&gt;&lt;/span&gt;&lt;font style=&quot;color: rgb(0, 0, 0);&quot;&gt;&amp;nbsp;:&amp;nbsp;We got an exception, flush the pipeline&lt;/font&gt;&lt;/div&gt;" vertex="1">
          <mxGeometry height="30" width="760" y="500" as="geometry" />
        </mxCell>
        <mxCell id="YD8wXlY8oEXokaMSZj_n-637" parent="YD8wXlY8oEXokaMSZj_n-620" style="text;strokeColor=#6c8ebf;fillColor=#dae8fc;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;html=1;" value="&lt;div&gt;input logic set_debug_pc_i&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;&amp;nbsp;&lt;span style=&quot;background-color: transparent; color: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));&quot;&gt;//&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;background-color: transparent;&quot;&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;FRONTEND&lt;/span&gt;&lt;/span&gt;&lt;font style=&quot;color: rgb(0, 0, 0);&quot;&gt;&amp;nbsp;:&amp;nbsp;set the debug pc from CSR&lt;/font&gt;&lt;/div&gt;" vertex="1">
          <mxGeometry height="30" width="760" y="530" as="geometry" />
        </mxCell>
        <mxCell id="YD8wXlY8oEXokaMSZj_n-638" parent="YD8wXlY8oEXokaMSZj_n-620" style="text;strokeColor=#82b366;fillColor=#d5e8d4;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;html=1;" value="&lt;div&gt;output logic flush_icache_o &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;&lt;span style=&quot;background-color: transparent; color: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));&quot;&gt;//&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;background-color: transparent;&quot;&gt;CACHE&lt;/span&gt;&lt;font style=&quot;color: rgb(0, 0, 0);&quot;&gt;&amp;nbsp;:&amp;nbsp;Flush ICache&lt;/font&gt;&lt;/div&gt;" vertex="1">
          <mxGeometry height="30" width="760" y="560" as="geometry" />
        </mxCell>
        <mxCell id="YD8wXlY8oEXokaMSZj_n-639" parent="YD8wXlY8oEXokaMSZj_n-620" style="text;strokeColor=#82b366;fillColor=#d5e8d4;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;html=1;" value="&lt;div&gt;output logic flush_dcache_o &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &lt;span style=&quot;background-color: transparent; color: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));&quot;&gt;//&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;background-color: transparent;&quot;&gt;CACHE&lt;/span&gt;&lt;font style=&quot;color: rgb(0, 0, 0);&quot;&gt;&amp;nbsp;:&amp;nbsp;Flush DCache&lt;/font&gt;&lt;/div&gt;" vertex="1">
          <mxGeometry height="30" width="760" y="590" as="geometry" />
        </mxCell>
        <mxCell id="YD8wXlY8oEXokaMSZj_n-640" parent="YD8wXlY8oEXokaMSZj_n-620" style="text;strokeColor=#82b366;fillColor=#d5e8d4;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;html=1;" value="&lt;div&gt;input logic flush_dcache_ack_i&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;&lt;span style=&quot;background-color: transparent; color: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));&quot;&gt;//&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;background-color: transparent;&quot;&gt;CACHE&lt;/span&gt;&lt;font style=&quot;color: rgb(0, 0, 0);&quot;&gt;&lt;span style=&quot;color: rgb(51, 51, 51);&quot;&gt;&lt;/span&gt;&amp;nbsp;:&amp;nbsp;Flush DCache, ack&lt;/font&gt;&lt;/div&gt;" vertex="1">
          <mxGeometry height="30" width="760" y="620" as="geometry" />
        </mxCell>
        <mxCell id="YD8wXlY8oEXokaMSZj_n-641" parent="YD8wXlY8oEXokaMSZj_n-620" style="text;strokeColor=#666666;fillColor=#f5f5f5;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;html=1;fontColor=#333333;" value="&lt;div&gt;input logic halt_acc_i&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;&lt;span style=&quot;background-color: transparent; color: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));&quot;&gt;//&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;background-color: transparent;&quot;&gt;ACC_DISPATCHER&lt;/span&gt;&lt;font style=&quot;color: rgb(0, 0, 0);&quot;&gt;&lt;span style=&quot;color: rgb(51, 51, 51);&quot;&gt;&lt;/span&gt;&amp;nbsp;:&amp;nbsp;Halt request from accelerator dispatcher&lt;/font&gt;&lt;/div&gt;" vertex="1">
          <mxGeometry height="30" width="760" y="650" as="geometry" />
        </mxCell>
        <mxCell id="YD8wXlY8oEXokaMSZj_n-642" parent="YD8wXlY8oEXokaMSZj_n-620" style="text;strokeColor=#666666;fillColor=#f5f5f5;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;html=1;fontColor=#333333;" value="&lt;div&gt;input logic flush_acc_i&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;&amp;nbsp;&lt;span style=&quot;background-color: transparent; color: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));&quot;&gt;//&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;background-color: transparent;&quot;&gt;ACC_DISPATCHER&lt;/span&gt;&lt;font style=&quot;color: rgb(0, 0, 0);&quot;&gt;&lt;span style=&quot;color: rgb(51, 51, 51);&quot;&gt;&lt;/span&gt;&amp;nbsp;:Flush request from accelerator&lt;/font&gt;&lt;/div&gt;" vertex="1">
          <mxGeometry height="30" width="760" y="680" as="geometry" />
        </mxCell>
        <mxCell id="YD8wXlY8oEXokaMSZj_n-643" parent="YD8wXlY8oEXokaMSZj_n-620" style="text;strokeColor=#666666;fillColor=#f5f5f5;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;html=1;fontColor=#333333;" value="&lt;div&gt;input logic fence_i_i&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;&lt;span style=&quot;background-color: transparent; color: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));&quot;&gt;//&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;background-color: transparent;&quot;&gt;ACC_DISPATCHER&lt;/span&gt;&lt;font style=&quot;color: rgb(0, 0, 0);&quot;&gt;&lt;span style=&quot;color: rgb(51, 51, 51);&quot;&gt;&lt;/span&gt;&amp;nbsp;:&amp;nbsp;fence.i in&lt;/font&gt;&lt;/div&gt;" vertex="1">
          <mxGeometry height="30" width="760" y="710" as="geometry" />
        </mxCell>
        <mxCell id="YD8wXlY8oEXokaMSZj_n-644" parent="YD8wXlY8oEXokaMSZj_n-620" style="text;strokeColor=#666666;fillColor=#f5f5f5;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;html=1;fontColor=#333333;" value="&lt;div&gt;input logic fence_i&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;&amp;nbsp;&lt;span style=&quot;background-color: transparent; color: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));&quot;&gt;//&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;background-color: transparent;&quot;&gt;ACC_DISPATCHER&lt;/span&gt;&lt;span style=&quot;background-color: transparent; color: light-dark(rgb(51, 51, 51), rgb(193, 193, 193));&quot;&gt;&lt;/span&gt;&lt;font style=&quot;background-color: transparent; color: rgb(0, 0, 0);&quot;&gt;&amp;nbsp;:&amp;nbsp;fence in&lt;/font&gt;&lt;/div&gt;" vertex="1">
          <mxGeometry height="30" width="760" y="740" as="geometry" />
        </mxCell>
        <mxCell id="YD8wXlY8oEXokaMSZj_n-645" parent="YD8wXlY8oEXokaMSZj_n-620" style="text;strokeColor=#82b366;fillColor=#d5e8d4;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;html=1;" value="&lt;div&gt;output logic flush_id_o&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;&lt;span style=&quot;background-color: transparent; color: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));&quot;&gt;//&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;background-color: transparent;&quot;&gt;ID STAGE&lt;/span&gt;&lt;font style=&quot;color: rgb(0, 0, 0);&quot;&gt;&amp;nbsp;:&amp;nbsp;Flush ID stage&lt;/font&gt;&lt;/div&gt;" vertex="1">
          <mxGeometry height="30" width="760" y="770" as="geometry" />
        </mxCell>
        <mxCell id="YD8wXlY8oEXokaMSZj_n-646" parent="YD8wXlY8oEXokaMSZj_n-620" style="text;strokeColor=#82b366;fillColor=#d5e8d4;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;html=1;" value="&lt;div&gt;output logic flush_id_o&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;&lt;span style=&quot;background-color: transparent; color: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));&quot;&gt;//&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;background-color: transparent;&quot;&gt;ID STAGE&lt;/span&gt;&lt;font style=&quot;color: rgb(0, 0, 0);&quot;&gt;&amp;nbsp;:&amp;nbsp;Flush ID stage&lt;/font&gt;&lt;/div&gt;" vertex="1">
          <mxGeometry height="30" width="760" y="800" as="geometry" />
        </mxCell>
        <mxCell id="YD8wXlY8oEXokaMSZj_n-647" parent="YD8wXlY8oEXokaMSZj_n-620" style="text;strokeColor=#b85450;fillColor=#f8cecc;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;html=1;" value="&lt;div&gt;output logic flush_ex_o&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;&lt;span style=&quot;background-color: transparent; color: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));&quot;&gt;//&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;background-color: transparent;&quot;&gt;EX STAGE&lt;/span&gt;&lt;font style=&quot;color: rgb(0, 0, 0);&quot;&gt;&amp;nbsp;:&amp;nbsp;Flush EX stage&lt;/font&gt;&lt;/div&gt;" vertex="1">
          <mxGeometry height="30" width="760" y="830" as="geometry" />
        </mxCell>
        <mxCell id="YD8wXlY8oEXokaMSZj_n-648" parent="YD8wXlY8oEXokaMSZj_n-620" style="text;strokeColor=#b85450;fillColor=#f8cecc;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;html=1;" value="&lt;div&gt;output logic flush_tlb_o&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;&lt;span style=&quot;background-color: transparent; color: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));&quot;&gt;// EX&lt;/span&gt;&lt;span style=&quot;background-color: transparent;&quot;&gt;&amp;nbsp;STAGE&lt;/span&gt;&lt;font style=&quot;color: rgb(0, 0, 0);&quot;&gt;&amp;nbsp;:&amp;nbsp;Flush TLBs&lt;/font&gt;&lt;/div&gt;" vertex="1">
          <mxGeometry height="30" width="760" y="860" as="geometry" />
        </mxCell>
        <mxCell id="YD8wXlY8oEXokaMSZj_n-649" parent="YD8wXlY8oEXokaMSZj_n-620" style="text;strokeColor=#b85450;fillColor=#f8cecc;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;html=1;" value="&lt;div&gt;input bp_resolve_t resolved_branch_i&amp;nbsp; &amp;nbsp; &amp;nbsp;&amp;nbsp;&lt;span style=&quot;background-color: transparent; color: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));&quot;&gt;//&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;background-color: transparent;&quot;&gt;EX STAGE&lt;/span&gt;&lt;font style=&quot;color: rgb(0, 0, 0);&quot;&gt;&lt;span style=&quot;color: rgb(51, 51, 51);&quot;&gt;&lt;/span&gt;&amp;nbsp;:&amp;nbsp;We got a resolved branch, check if we need to flush the front-end&lt;/font&gt;&lt;/div&gt;" vertex="1">
          <mxGeometry height="30" width="760" y="890" as="geometry" />
        </mxCell>
        <mxCell id="YD8wXlY8oEXokaMSZj_n-650" parent="YD8wXlY8oEXokaMSZj_n-620" style="text;strokeColor=#9673a6;fillColor=#e1d5e7;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;html=1;" value="&lt;div&gt;output logic halt_o&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;&amp;nbsp;&lt;span style=&quot;background-color: transparent; color: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));&quot;&gt;//&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;background-color: transparent;&quot;&gt;COMMIT STAGE&lt;/span&gt;&lt;font style=&quot;color: rgb(0, 0, 0);&quot;&gt;&amp;nbsp;:&amp;nbsp;Halt signal to commit stage&lt;/font&gt;&lt;/div&gt;" vertex="1">
          <mxGeometry height="30" width="760" y="920" as="geometry" />
        </mxCell>
        <mxCell id="YD8wXlY8oEXokaMSZj_n-651" parent="YD8wXlY8oEXokaMSZj_n-620" style="text;strokeColor=#9673a6;fillColor=#e1d5e7;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;html=1;" value="&lt;div&gt;input logic sfence_vma_i&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;&amp;nbsp;&lt;span style=&quot;background-color: transparent; color: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));&quot;&gt;//&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;background-color: transparent;&quot;&gt;COMMIT STAGE&lt;/span&gt;&lt;font style=&quot;color: rgb(0, 0, 0);&quot;&gt;&amp;nbsp;:&amp;nbsp;We got an instruction to flush the TLBs and pipeline&lt;/font&gt;&lt;/div&gt;" vertex="1">
          <mxGeometry height="30" width="760" y="950" as="geometry" />
        </mxCell>
        <mxCell id="YD8wXlY8oEXokaMSZj_n-652" parent="YD8wXlY8oEXokaMSZj_n-620" style="text;strokeColor=#9673a6;fillColor=#e1d5e7;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;html=1;" value="&lt;div&gt;input logic flush_commit_i &amp;nbsp; &amp;nbsp; &amp;nbsp;&lt;span style=&quot;background-color: transparent; color: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));&quot;&gt;//&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;background-color: transparent;&quot;&gt;COMMIT STAGE&lt;/span&gt;&lt;font style=&quot;color: rgb(0, 0, 0);&quot;&gt;&lt;span style=&quot;color: rgb(51, 51, 51);&quot;&gt;&lt;/span&gt;&amp;nbsp;:&amp;nbsp;Flush request from commit stage&lt;/font&gt;&lt;/div&gt;" vertex="1">
          <mxGeometry height="30" width="760" y="980" as="geometry" />
        </mxCell>
        <mxCell id="YD8wXlY8oEXokaMSZj_n-653" parent="1" style="swimlane;fontStyle=1;align=center;verticalAlign=top;childLayout=stackLayout;horizontal=1;startSize=40;horizontalStack=0;resizeParent=1;resizeParentMax=0;resizeLast=0;collapsible=1;marginBottom=0;whiteSpace=wrap;html=1;fillColor=#0050ef;strokeColor=#001DBC;fontColor=#ffffff;" value="&lt;span style=&quot;text-align: left;&quot;&gt;CSR_REGFILE&lt;br&gt;/home/ICer/proj/cva6/core/csr_regfile.sv&lt;/span&gt;" vertex="1">
          <mxGeometry height="2030" width="870" x="11280" y="-1060" as="geometry" />
        </mxCell>
        <mxCell id="YD8wXlY8oEXokaMSZj_n-654" parent="YD8wXlY8oEXokaMSZj_n-653" style="line;strokeWidth=1;fillColor=none;align=left;verticalAlign=middle;spacingTop=-1;spacingLeft=3;spacingRight=3;rotatable=0;labelPosition=right;points=[];portConstraint=eastwest;strokeColor=inherit;" value="" vertex="1">
          <mxGeometry height="8" width="870" y="40" as="geometry" />
        </mxCell>
        <mxCell id="YD8wXlY8oEXokaMSZj_n-655" parent="YD8wXlY8oEXokaMSZj_n-653" style="text;strokeColor=default;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;html=1;" value=":" vertex="1">
          <mxGeometry height="32" width="870" y="48" as="geometry" />
        </mxCell>
        <mxCell id="YD8wXlY8oEXokaMSZj_n-656" parent="YD8wXlY8oEXokaMSZj_n-653" style="text;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;html=1;strokeColor=default;" value="&lt;div&gt;input logic time_irq_i&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;&amp;nbsp;&lt;span style=&quot;background-color: transparent; color: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));&quot;&gt;//&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;background-color: transparent;&quot;&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;SUBSYSTEM&lt;/span&gt;&lt;/span&gt;&lt;font style=&quot;color: rgb(0, 0, 0);&quot;&gt;&amp;nbsp;:&amp;nbsp;Timer threw an interrupt&lt;/font&gt;&lt;/div&gt;" vertex="1">
          <mxGeometry height="30" width="870" y="80" as="geometry" />
        </mxCell>
        <mxCell id="YD8wXlY8oEXokaMSZj_n-657" parent="YD8wXlY8oEXokaMSZj_n-653" style="text;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;html=1;strokeColor=default;" value="&lt;div&gt;input logic [CVA6Cfg.VLEN-1:0] boot_addr_i&amp;nbsp; &amp;nbsp; &lt;span style=&quot;background-color: transparent; color: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));&quot;&gt;//&amp;nbsp;&lt;/span&gt;SUBSYSTEM&lt;span style=&quot;background-color: transparent;&quot;&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&lt;/span&gt;&lt;/span&gt;&lt;font style=&quot;color: rgb(0, 0, 0);&quot;&gt;&amp;nbsp;:&amp;nbsp;Address from which to start booting, mtvec is set to the same address&lt;/font&gt;&lt;/div&gt;" vertex="1">
          <mxGeometry height="30" width="870" y="110" as="geometry" />
        </mxCell>
        <mxCell id="YD8wXlY8oEXokaMSZj_n-658" parent="YD8wXlY8oEXokaMSZj_n-653" style="text;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;html=1;strokeColor=default;" value="&lt;div&gt;input logic [CVA6Cfg.XLEN-1:0] hart_id_i&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;&lt;span style=&quot;background-color: transparent; color: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));&quot;&gt;//&amp;nbsp;&lt;/span&gt;SUBSYSTEM&lt;span style=&quot;background-color: transparent;&quot;&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&lt;/span&gt;&lt;/span&gt;&lt;font style=&quot;color: rgb(0, 0, 0);&quot;&gt;&amp;nbsp;:&amp;nbsp;Hart id in a multicore environment (reflected in a CSR)&lt;/font&gt;&lt;/div&gt;" vertex="1">
          <mxGeometry height="30" width="870" y="140" as="geometry" />
        </mxCell>
        <mxCell id="YD8wXlY8oEXokaMSZj_n-659" parent="YD8wXlY8oEXokaMSZj_n-653" style="text;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;html=1;strokeColor=default;" value="&lt;div&gt;input logic [1:0] irq_i&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;&amp;nbsp;&lt;span style=&quot;background-color: transparent; color: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));&quot;&gt;//&amp;nbsp;&lt;/span&gt;SUBSYSTEM&lt;span style=&quot;background-color: transparent;&quot;&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&lt;/span&gt;&lt;/span&gt;&lt;font style=&quot;color: rgb(0, 0, 0);&quot;&gt;&amp;nbsp;:&amp;nbsp;external interrupt in&lt;/font&gt;&lt;/div&gt;" vertex="1">
          <mxGeometry height="30" width="870" y="170" as="geometry" />
        </mxCell>
        <mxCell id="YD8wXlY8oEXokaMSZj_n-660" parent="YD8wXlY8oEXokaMSZj_n-653" style="text;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;html=1;strokeColor=default;" value="&lt;div&gt;input logic ipi_i&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;&amp;nbsp;&lt;span style=&quot;background-color: transparent; color: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));&quot;&gt;//&amp;nbsp;&lt;/span&gt;SUBSYSTEM&lt;span style=&quot;background-color: transparent;&quot;&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&lt;/span&gt;&lt;/span&gt;&lt;font style=&quot;color: rgb(0, 0, 0);&quot;&gt;&amp;nbsp;:&amp;nbsp;inter processor interrupt -&amp;gt; connected to machine mode sw&lt;/font&gt;&lt;/div&gt;" vertex="1">
          <mxGeometry height="30" width="870" y="200" as="geometry" />
        </mxCell>
        <mxCell id="YD8wXlY8oEXokaMSZj_n-661" parent="YD8wXlY8oEXokaMSZj_n-653" style="text;strokeColor=#d79b00;fillColor=#ffe6cc;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;html=1;" value="&lt;div&gt;output logic flush_o&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;&amp;nbsp;&lt;span style=&quot;background-color: transparent; color: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));&quot;&gt;//&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;background-color: transparent;&quot;&gt;CONTROLLER&lt;/span&gt;&lt;font style=&quot;color: rgb(0, 0, 0);&quot;&gt;&amp;nbsp;:&amp;nbsp;send a flush request out when a CSR with a side effect changes&lt;/font&gt;&lt;/div&gt;" vertex="1">
          <mxGeometry height="30" width="870" y="230" as="geometry" />
        </mxCell>
        <mxCell id="YD8wXlY8oEXokaMSZj_n-662" parent="YD8wXlY8oEXokaMSZj_n-653" style="text;strokeColor=#d79b00;fillColor=#ffe6cc;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;html=1;" value="&lt;div&gt;output logic halt_csr_o&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;&lt;span style=&quot;background-color: transparent; color: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));&quot;&gt;//&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;background-color: transparent;&quot;&gt;CONTROLLER&lt;/span&gt;&lt;font style=&quot;color: rgb(0, 0, 0);&quot;&gt;&amp;nbsp;:&amp;nbsp;halt requested&lt;/font&gt;&lt;/div&gt;" vertex="1">
          <mxGeometry height="30" width="870" y="260" as="geometry" />
        </mxCell>
        <mxCell id="YD8wXlY8oEXokaMSZj_n-663" parent="YD8wXlY8oEXokaMSZj_n-653" style="text;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;html=1;strokeColor=default;" value="&lt;div&gt;output logic [11:0] perf_addr_o&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;&lt;span style=&quot;background-color: transparent; color: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));&quot;&gt;//&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;background-color: transparent;&quot;&gt;PERF_COUNTERS &lt;/span&gt;&lt;font style=&quot;color: rgb(0, 0, 0);&quot;&gt;&amp;nbsp;:&amp;nbsp;read/write address to performance counter module&lt;/font&gt;&lt;/div&gt;" vertex="1">
          <mxGeometry height="30" width="870" y="290" as="geometry" />
        </mxCell>
        <mxCell id="YD8wXlY8oEXokaMSZj_n-664" parent="YD8wXlY8oEXokaMSZj_n-653" style="text;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;html=1;strokeColor=default;" value="&lt;div&gt;output logic [CVA6Cfg.XLEN-1:0] perf_data_o &amp;nbsp; &amp;nbsp;&lt;span style=&quot;background-color: transparent; color: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));&quot;&gt;//&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;color: rgb(0, 0, 0);&quot;&gt;PERF_COUNTERS&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;background-color: transparent;&quot;&gt;&lt;/span&gt;&lt;font style=&quot;color: rgb(0, 0, 0);&quot;&gt;&amp;nbsp;:&amp;nbsp;write data to performance counter module&lt;/font&gt;&lt;/div&gt;" vertex="1">
          <mxGeometry height="30" width="870" y="320" as="geometry" />
        </mxCell>
        <mxCell id="YD8wXlY8oEXokaMSZj_n-665" parent="YD8wXlY8oEXokaMSZj_n-653" style="text;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;html=1;strokeColor=default;" value="&lt;div&gt;input logic [CVA6Cfg.XLEN-1:0] perf_data_i&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;&lt;span style=&quot;background-color: transparent; color: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));&quot;&gt;//&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;color: rgb(0, 0, 0);&quot;&gt;PERF_COUNTERS&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;background-color: transparent;&quot;&gt;&lt;/span&gt;&lt;font style=&quot;color: rgb(0, 0, 0);&quot;&gt;&amp;nbsp;:&amp;nbsp;read data from performance counter module&lt;/font&gt;&lt;/div&gt;" vertex="1">
          <mxGeometry height="30" width="870" y="350" as="geometry" />
        </mxCell>
        <mxCell id="YD8wXlY8oEXokaMSZj_n-666" parent="YD8wXlY8oEXokaMSZj_n-653" style="text;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;html=1;strokeColor=default;" value="&lt;div&gt;output logic perf_we_o&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;&lt;span style=&quot;background-color: transparent; color: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));&quot;&gt;//&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;color: rgb(0, 0, 0);&quot;&gt;PERF_COUNTERS&lt;/span&gt;&lt;span style=&quot;background-color: transparent;&quot;&gt;&lt;/span&gt;&lt;font style=&quot;color: rgb(0, 0, 0);&quot;&gt;&amp;nbsp;:&amp;nbsp;TO_BE_COMPLETED&lt;/font&gt;&lt;/div&gt;" vertex="1">
          <mxGeometry height="30" width="870" y="380" as="geometry" />
        </mxCell>
        <mxCell id="YD8wXlY8oEXokaMSZj_n-667" parent="YD8wXlY8oEXokaMSZj_n-653" style="text;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;html=1;strokeColor=default;" value="&lt;div&gt;output logic [31:0] mcountinhibit_o&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;&lt;span style=&quot;background-color: transparent; color: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));&quot;&gt;//&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;color: rgb(0, 0, 0);&quot;&gt;PERF_COUNTERS&lt;/span&gt;&lt;span style=&quot;background-color: transparent;&quot;&gt;&lt;/span&gt;&lt;font style=&quot;color: rgb(0, 0, 0);&quot;&gt;&lt;span style=&quot;color: rgb(51, 51, 51);&quot;&gt;&lt;/span&gt;&amp;nbsp;:&amp;nbsp;TO_BE_COMPLETED&lt;/font&gt;&lt;/div&gt;" vertex="1">
          <mxGeometry height="30" width="870" y="410" as="geometry" />
        </mxCell>
        <mxCell id="YD8wXlY8oEXokaMSZj_n-668" parent="YD8wXlY8oEXokaMSZj_n-653" style="text;strokeColor=#82b366;fillColor=#d5e8d4;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;html=1;" value="&lt;div&gt;output logic icache_en_o&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;&lt;span style=&quot;background-color: transparent; color: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));&quot;&gt;//&amp;nbsp;&lt;/span&gt;CACHE&lt;span style=&quot;background-color: transparent;&quot;&gt;&lt;/span&gt;&lt;font style=&quot;color: rgb(0, 0, 0);&quot;&gt;&amp;nbsp;:&amp;nbsp;L1 ICache Enable&lt;/font&gt;&lt;/div&gt;" vertex="1">
          <mxGeometry height="30" width="870" y="440" as="geometry" />
        </mxCell>
        <mxCell id="YD8wXlY8oEXokaMSZj_n-669" parent="YD8wXlY8oEXokaMSZj_n-653" style="text;strokeColor=#82b366;fillColor=#d5e8d4;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;html=1;" value="&lt;div&gt;output logic dcache_en_o&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &lt;span style=&quot;background-color: transparent; color: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));&quot;&gt;//&amp;nbsp;&lt;/span&gt;CACHE&lt;span style=&quot;background-color: transparent;&quot;&gt;&lt;/span&gt;&lt;font style=&quot;color: rgb(0, 0, 0);&quot;&gt;&amp;nbsp;:&amp;nbsp;L1 DCache Enable&lt;/font&gt;&lt;/div&gt;" vertex="1">
          <mxGeometry height="30" width="870" y="470" as="geometry" />
        </mxCell>
        <mxCell id="YD8wXlY8oEXokaMSZj_n-670" parent="YD8wXlY8oEXokaMSZj_n-653" style="text;strokeColor=#6c8ebf;fillColor=#dae8fc;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;html=1;" value="&lt;div&gt;output logic [CVA6Cfg.VLEN-1:0] epc_o&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;&amp;nbsp;&lt;span style=&quot;background-color: transparent; color: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));&quot;&gt;//&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;background-color: transparent;&quot;&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;FRONTEND&lt;/span&gt;&lt;/span&gt;&lt;font style=&quot;color: rgb(0, 0, 0);&quot;&gt;&amp;nbsp;:&amp;nbsp;Output the exception PC to PC Gen, the correct CSR (mepc, sepc) is set accordingly&lt;/font&gt;&lt;/div&gt;" vertex="1">
          <mxGeometry height="30" width="870" y="500" as="geometry" />
        </mxCell>
        <mxCell id="YD8wXlY8oEXokaMSZj_n-671" parent="YD8wXlY8oEXokaMSZj_n-653" style="text;strokeColor=#6c8ebf;fillColor=#dae8fc;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;html=1;" value="&lt;div&gt;output logic eret_o&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;&amp;nbsp;&lt;span style=&quot;background-color: transparent; color: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));&quot;&gt;//&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;background-color: transparent;&quot;&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;FRONTEND&lt;/span&gt;&lt;/span&gt;&lt;font style=&quot;color: rgb(0, 0, 0);&quot;&gt;&amp;nbsp;:&amp;nbsp;Return from exception, set the PC of epc_o&lt;/font&gt;&lt;/div&gt;" vertex="1">
          <mxGeometry height="30" width="870" y="530" as="geometry" />
        </mxCell>
        <mxCell id="YD8wXlY8oEXokaMSZj_n-672" parent="YD8wXlY8oEXokaMSZj_n-653" style="text;strokeColor=#6c8ebf;fillColor=#dae8fc;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;html=1;" value="&lt;div&gt;output logic [CVA6Cfg.VLEN-1:0] trap_vector_base_o&amp;nbsp; &amp;nbsp;&lt;span style=&quot;background-color: transparent; color: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));&quot;&gt;//&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;background-color: transparent;&quot;&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;FRONTEND&lt;/span&gt;&lt;/span&gt;&lt;font style=&quot;color: rgb(0, 0, 0);&quot;&gt;&amp;nbsp;:&amp;nbsp;Output base of exception vector, correct CSR is output(mtvec, stvec)&lt;/font&gt;&lt;/div&gt;" vertex="1">
          <mxGeometry height="30" width="870" y="560" as="geometry" />
        </mxCell>
        <mxCell id="YD8wXlY8oEXokaMSZj_n-673" parent="YD8wXlY8oEXokaMSZj_n-653" style="text;strokeColor=#6c8ebf;fillColor=#dae8fc;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;html=1;" value="&lt;div&gt;output logic set_debug_pc_o&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;&lt;span style=&quot;background-color: transparent; color: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));&quot;&gt;//&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;background-color: transparent;&quot;&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;FRONTEND&lt;/span&gt;&lt;/span&gt;&lt;font style=&quot;color: rgb(0, 0, 0);&quot;&gt;&amp;nbsp;:&amp;nbsp;TO_BE_COMPLETED&lt;/font&gt;&lt;/div&gt;" vertex="1">
          <mxGeometry height="30" width="870" y="590" as="geometry" />
        </mxCell>
        <mxCell id="YD8wXlY8oEXokaMSZj_n-674" parent="YD8wXlY8oEXokaMSZj_n-653" style="text;strokeColor=#82b366;fillColor=#d5e8d4;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;html=1;" value="&lt;div&gt;input scoreboard_entry_t commit_instr_i &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &lt;span style=&quot;background-color: transparent; color: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));&quot;&gt;//&amp;nbsp;&lt;/span&gt;ID_STAGE&lt;span style=&quot;background-color: transparent;&quot;&gt;&lt;/span&gt;&lt;font style=&quot;color: rgb(0, 0, 0);&quot;&gt;&amp;nbsp;:&amp;nbsp;Instruction to be committed&lt;/font&gt;&lt;/div&gt;" vertex="1">
          <mxGeometry height="30" width="870" y="620" as="geometry" />
        </mxCell>
        <mxCell id="YD8wXlY8oEXokaMSZj_n-675" parent="YD8wXlY8oEXokaMSZj_n-653" style="text;strokeColor=#82b366;fillColor=#d5e8d4;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;html=1;" value="&lt;div&gt;output riscv::xs_t fs_o&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;&amp;nbsp;&lt;span style=&quot;background-color: transparent; color: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));&quot;&gt;//&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;background-color: transparent;&quot;&gt;ID_STAGE&lt;/span&gt;&lt;font style=&quot;color: rgb(0, 0, 0);&quot;&gt;&amp;nbsp;:&amp;nbsp;Floating point extension status&lt;/font&gt;&lt;/div&gt;" vertex="1">
          <mxGeometry height="30" width="870" y="650" as="geometry" />
        </mxCell>
        <mxCell id="YD8wXlY8oEXokaMSZj_n-676" parent="YD8wXlY8oEXokaMSZj_n-653" style="text;strokeColor=#82b366;fillColor=#d5e8d4;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;html=1;" value="&lt;div&gt;output riscv::xs_t vfs_o&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;&amp;nbsp;&lt;span style=&quot;background-color: transparent; color: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));&quot;&gt;//&amp;nbsp;&lt;/span&gt;ID_STAGE&lt;span style=&quot;background-color: transparent;&quot;&gt;&lt;/span&gt;&lt;font style=&quot;color: rgb(0, 0, 0);&quot;&gt;&lt;span style=&quot;color: rgb(51, 51, 51);&quot;&gt;&lt;/span&gt;&amp;nbsp;:&amp;nbsp;Floating point extension virtual status&lt;/font&gt;&lt;/div&gt;" vertex="1">
          <mxGeometry height="30" width="870" y="680" as="geometry" />
        </mxCell>
        <mxCell id="YD8wXlY8oEXokaMSZj_n-677" parent="YD8wXlY8oEXokaMSZj_n-653" style="text;strokeColor=#82b366;fillColor=#d5e8d4;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;html=1;" value="&lt;div&gt;output riscv::xs_t vs_o&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;/&lt;span style=&quot;background-color: transparent; color: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));&quot;&gt;/&amp;nbsp;&lt;/span&gt;ID_STAGE&lt;span style=&quot;background-color: transparent;&quot;&gt;&lt;/span&gt;&lt;font style=&quot;color: rgb(0, 0, 0);&quot;&gt;&lt;span style=&quot;color: rgb(51, 51, 51);&quot;&gt;&lt;/span&gt;&amp;nbsp;:&amp;nbsp;Vector extension status&lt;/font&gt;&lt;/div&gt;" vertex="1">
          <mxGeometry height="30" width="870" y="710" as="geometry" />
        </mxCell>
        <mxCell id="YD8wXlY8oEXokaMSZj_n-678" parent="YD8wXlY8oEXokaMSZj_n-653" style="text;strokeColor=#82b366;fillColor=#d5e8d4;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;html=1;" value="&lt;div&gt;output irq_ctrl_t irq_ctrl_o&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; /&lt;span style=&quot;background-color: transparent; color: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));&quot;&gt;/&amp;nbsp;&lt;/span&gt;ID_STAGE&lt;span style=&quot;background-color: transparent;&quot;&gt;&lt;/span&gt;&lt;font style=&quot;color: rgb(0, 0, 0);&quot;&gt;&lt;span style=&quot;color: rgb(51, 51, 51);&quot;&gt;&lt;/span&gt;&amp;nbsp;:&amp;nbsp;interrupt management to id stage&lt;/font&gt;&lt;/div&gt;" vertex="1">
          <mxGeometry height="30" width="870" y="740" as="geometry" />
        </mxCell>
        <mxCell id="YD8wXlY8oEXokaMSZj_n-679" parent="YD8wXlY8oEXokaMSZj_n-653" style="text;strokeColor=#82b366;fillColor=#d5e8d4;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;html=1;" value="&lt;div&gt;input logic debug_req_i&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;/&lt;span style=&quot;background-color: transparent; color: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));&quot;&gt;/&amp;nbsp;&lt;/span&gt;ID_STAGE&lt;span style=&quot;background-color: transparent;&quot;&gt;&lt;/span&gt;&lt;font style=&quot;color: rgb(0, 0, 0);&quot;&gt;&lt;span style=&quot;color: rgb(51, 51, 51);&quot;&gt;&lt;/span&gt;&amp;nbsp;:&amp;nbsp;debug request in&lt;/font&gt;&lt;/div&gt;" vertex="1">
          <mxGeometry height="30" width="870" y="770" as="geometry" />
        </mxCell>
        <mxCell id="YD8wXlY8oEXokaMSZj_n-680" parent="YD8wXlY8oEXokaMSZj_n-653" style="text;strokeColor=#82b366;fillColor=#d5e8d4;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;html=1;" value="&lt;div&gt;output logic tvm_o&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;/&lt;span style=&quot;background-color: transparent; color: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));&quot;&gt;/&amp;nbsp;&lt;/span&gt;ID_STAGE&lt;span style=&quot;background-color: transparent;&quot;&gt;&lt;/span&gt;&lt;font style=&quot;color: rgb(0, 0, 0);&quot;&gt;&lt;span style=&quot;color: rgb(51, 51, 51);&quot;&gt;&lt;/span&gt;&amp;nbsp;:&amp;nbsp;trap virtual memory&lt;/font&gt;&lt;/div&gt;" vertex="1">
          <mxGeometry height="30" width="870" y="800" as="geometry" />
        </mxCell>
        <mxCell id="YD8wXlY8oEXokaMSZj_n-681" parent="YD8wXlY8oEXokaMSZj_n-653" style="text;strokeColor=#82b366;fillColor=#d5e8d4;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;html=1;" value="&lt;div&gt;output logic tw_o&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;/&lt;span style=&quot;background-color: transparent; color: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));&quot;&gt;/&amp;nbsp;&lt;/span&gt;ID_STAGE&lt;span style=&quot;background-color: transparent;&quot;&gt;&lt;/span&gt;&lt;font style=&quot;color: rgb(0, 0, 0);&quot;&gt;&lt;span style=&quot;color: rgb(51, 51, 51);&quot;&gt;&lt;/span&gt;&amp;nbsp;:&amp;nbsp;timeout wait&lt;/font&gt;&lt;/div&gt;" vertex="1">
          <mxGeometry height="30" width="870" y="830" as="geometry" />
        </mxCell>
        <mxCell id="YD8wXlY8oEXokaMSZj_n-682" parent="YD8wXlY8oEXokaMSZj_n-653" style="text;strokeColor=#82b366;fillColor=#d5e8d4;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;html=1;" value="&lt;div&gt;output logic vtw_o&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; /&lt;span style=&quot;background-color: transparent; color: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));&quot;&gt;/&amp;nbsp;&lt;/span&gt;ID_STAGE&lt;span style=&quot;background-color: transparent;&quot;&gt;&lt;/span&gt;&lt;font style=&quot;color: rgb(0, 0, 0);&quot;&gt;&lt;span style=&quot;color: rgb(51, 51, 51);&quot;&gt;&lt;/span&gt;&amp;nbsp;:&amp;nbsp;virtual timeout wait&lt;/font&gt;&lt;/div&gt;" vertex="1">
          <mxGeometry height="30" width="870" y="860" as="geometry" />
        </mxCell>
        <mxCell id="YD8wXlY8oEXokaMSZj_n-683" parent="YD8wXlY8oEXokaMSZj_n-653" style="text;strokeColor=#82b366;fillColor=#d5e8d4;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;html=1;" value="&lt;div&gt;output logic tsr_o&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;/&lt;span style=&quot;background-color: transparent; color: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));&quot;&gt;/&amp;nbsp;&lt;/span&gt;ID_STAGE&lt;span style=&quot;background-color: transparent;&quot;&gt;&lt;/span&gt;&lt;font style=&quot;color: rgb(0, 0, 0);&quot;&gt;&lt;span style=&quot;color: rgb(51, 51, 51);&quot;&gt;&lt;/span&gt;&amp;nbsp;:&amp;nbsp;trap sret&lt;/font&gt;&lt;/div&gt;" vertex="1">
          <mxGeometry height="30" width="870" y="890" as="geometry" />
        </mxCell>
        <mxCell id="YD8wXlY8oEXokaMSZj_n-684" parent="YD8wXlY8oEXokaMSZj_n-653" style="text;strokeColor=#82b366;fillColor=#d5e8d4;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;html=1;" value="&lt;div&gt;output logic hu_o&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;/&lt;span style=&quot;background-color: transparent; color: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));&quot;&gt;/&amp;nbsp;&lt;/span&gt;ID_STAGE&lt;span style=&quot;background-color: transparent;&quot;&gt;&lt;/span&gt;&lt;font style=&quot;color: rgb(0, 0, 0);&quot;&gt;&lt;span style=&quot;color: rgb(51, 51, 51);&quot;&gt;&lt;/span&gt;&amp;nbsp;:&amp;nbsp;hypervisor user mode&lt;/font&gt;&lt;/div&gt;" vertex="1">
          <mxGeometry height="30" width="870" y="920" as="geometry" />
        </mxCell>
        <mxCell id="YD8wXlY8oEXokaMSZj_n-685" parent="YD8wXlY8oEXokaMSZj_n-653" style="text;strokeColor=#b85450;fillColor=#f8cecc;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;html=1;" value="&lt;div&gt;input logic [11:0] csr_addr_i&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;&amp;nbsp;&lt;span style=&quot;background-color: transparent; color: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));&quot;&gt;//&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;background-color: transparent;&quot;&gt;EX STAGE&lt;/span&gt;&lt;font style=&quot;color: rgb(0, 0, 0);&quot;&gt;&amp;nbsp;:&amp;nbsp;Address of the register to read/write&lt;/font&gt;&lt;/div&gt;" vertex="1">
          <mxGeometry height="30" width="870" y="950" as="geometry" />
        </mxCell>
        <mxCell id="YD8wXlY8oEXokaMSZj_n-686" parent="YD8wXlY8oEXokaMSZj_n-653" style="text;strokeColor=#b85450;fillColor=#f8cecc;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;html=1;" value="&lt;div&gt;output riscv::priv_lvl_t priv_lvl_o &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &lt;span style=&quot;background-color: transparent; color: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));&quot;&gt;// EX&lt;/span&gt;&lt;span style=&quot;background-color: transparent;&quot;&gt;&amp;nbsp;STAGE&lt;/span&gt;&lt;font style=&quot;color: rgb(0, 0, 0);&quot;&gt;&amp;nbsp;:&amp;nbsp;Current privilege level the CPU is in&lt;/font&gt;&lt;/div&gt;" vertex="1">
          <mxGeometry height="30" width="870" y="980" as="geometry" />
        </mxCell>
        <mxCell id="YD8wXlY8oEXokaMSZj_n-687" parent="YD8wXlY8oEXokaMSZj_n-653" style="text;strokeColor=#b85450;fillColor=#f8cecc;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;html=1;" value="&lt;div&gt;output logic v_o&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;&amp;nbsp;&lt;span style=&quot;background-color: transparent; color: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));&quot;&gt;//&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;background-color: transparent;&quot;&gt;EX STAGE&lt;/span&gt;&lt;font style=&quot;color: rgb(0, 0, 0);&quot;&gt;&lt;span style=&quot;color: rgb(51, 51, 51);&quot;&gt;&lt;/span&gt;&amp;nbsp;:&amp;nbsp;Current virtualization mode state the CPU is in&lt;/font&gt;&lt;/div&gt;" vertex="1">
          <mxGeometry height="30" width="870" y="1010" as="geometry" />
        </mxCell>
        <mxCell id="YD8wXlY8oEXokaMSZj_n-688" parent="YD8wXlY8oEXokaMSZj_n-653" style="text;strokeColor=#b85450;fillColor=#f8cecc;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;html=1;" value="&lt;div&gt;output logic [2:0] frm_o&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;&lt;span style=&quot;background-color: transparent; color: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));&quot;&gt;//&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;background-color: transparent;&quot;&gt;EX STAGE&lt;/span&gt;&lt;font style=&quot;color: rgb(0, 0, 0);&quot;&gt;&lt;span style=&quot;color: rgb(51, 51, 51);&quot;&gt;&lt;/span&gt;&amp;nbsp;:&amp;nbsp;Floating-Point Dynamic Rounding Mode&lt;/font&gt;&lt;/div&gt;" vertex="1">
          <mxGeometry height="30" width="870" y="1040" as="geometry" />
        </mxCell>
        <mxCell id="YD8wXlY8oEXokaMSZj_n-689" parent="YD8wXlY8oEXokaMSZj_n-653" style="text;strokeColor=#b85450;fillColor=#f8cecc;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;html=1;" value="&lt;div&gt;output logic [6:0] fprec_o&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;&lt;span style=&quot;background-color: transparent; color: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));&quot;&gt;//&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;background-color: transparent;&quot;&gt;EX STAGE&lt;/span&gt;&lt;font style=&quot;color: rgb(0, 0, 0);&quot;&gt;&lt;span style=&quot;color: rgb(51, 51, 51);&quot;&gt;&lt;/span&gt;&amp;nbsp;:&amp;nbsp;Floating-Point Precision Control&lt;/font&gt;&lt;/div&gt;" vertex="1">
          <mxGeometry height="30" width="870" y="1070" as="geometry" />
        </mxCell>
        <mxCell id="YD8wXlY8oEXokaMSZj_n-690" parent="YD8wXlY8oEXokaMSZj_n-653" style="text;strokeColor=#b85450;fillColor=#f8cecc;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;html=1;" value="&lt;div&gt;output logic en_translation_o&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;&lt;span style=&quot;background-color: transparent; color: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));&quot;&gt;//&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;background-color: transparent;&quot;&gt;EX STAGE&lt;/span&gt;&lt;font style=&quot;color: rgb(0, 0, 0);&quot;&gt;&lt;span style=&quot;color: rgb(51, 51, 51);&quot;&gt;&lt;/span&gt;&amp;nbsp;:&amp;nbsp;Enable virtual address translation&lt;/font&gt;&lt;/div&gt;" vertex="1">
          <mxGeometry height="30" width="870" y="1100" as="geometry" />
        </mxCell>
        <mxCell id="YD8wXlY8oEXokaMSZj_n-691" parent="YD8wXlY8oEXokaMSZj_n-653" style="text;strokeColor=#b85450;fillColor=#f8cecc;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;html=1;" value="&lt;div&gt;output logic en_g_translation_o&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;&lt;span style=&quot;background-color: transparent; color: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));&quot;&gt;//&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;background-color: transparent;&quot;&gt;EX STAGE&lt;/span&gt;&lt;font style=&quot;color: rgb(0, 0, 0);&quot;&gt;&lt;span style=&quot;color: rgb(51, 51, 51);&quot;&gt;&lt;/span&gt;&amp;nbsp;:&amp;nbsp;Enable G-Stage address translation&lt;/font&gt;&lt;/div&gt;" vertex="1">
          <mxGeometry height="30" width="870" y="1130" as="geometry" />
        </mxCell>
        <mxCell id="YD8wXlY8oEXokaMSZj_n-692" parent="YD8wXlY8oEXokaMSZj_n-653" style="text;strokeColor=#b85450;fillColor=#f8cecc;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;html=1;" value="&lt;div&gt;output logic en_ld_st_translation_o&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;&lt;span style=&quot;background-color: transparent; color: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));&quot;&gt;//&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;background-color: transparent;&quot;&gt;EX STAGE&lt;/span&gt;&lt;font style=&quot;color: rgb(0, 0, 0);&quot;&gt;&lt;span style=&quot;color: rgb(51, 51, 51);&quot;&gt;&lt;/span&gt;&amp;nbsp;: Enable virtual address translation for load and stores&lt;/font&gt;&lt;/div&gt;" vertex="1">
          <mxGeometry height="30" width="870" y="1160" as="geometry" />
        </mxCell>
        <mxCell id="YD8wXlY8oEXokaMSZj_n-693" parent="YD8wXlY8oEXokaMSZj_n-653" style="text;strokeColor=#b85450;fillColor=#f8cecc;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;html=1;" value="&lt;div&gt;output logic en_ld_st_g_translation_o&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;&lt;span style=&quot;background-color: transparent; color: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));&quot;&gt;//&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;background-color: transparent;&quot;&gt;EX STAGE&lt;/span&gt;&lt;font style=&quot;color: rgb(0, 0, 0);&quot;&gt;&lt;span style=&quot;color: rgb(51, 51, 51);&quot;&gt;&lt;/span&gt;&amp;nbsp;: Enable G-Stage address translation for load and stores&lt;/font&gt;&lt;/div&gt;" vertex="1">
          <mxGeometry height="30" width="870" y="1190" as="geometry" />
        </mxCell>
        <mxCell id="YD8wXlY8oEXokaMSZj_n-694" parent="YD8wXlY8oEXokaMSZj_n-653" style="text;strokeColor=#b85450;fillColor=#f8cecc;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;html=1;" value="&lt;div&gt;output riscv::priv_lvl_t ld_st_priv_lvl_o&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;&lt;span style=&quot;background-color: transparent; color: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));&quot;&gt;//&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;background-color: transparent;&quot;&gt;EX STAGE&lt;/span&gt;&lt;font style=&quot;color: rgb(0, 0, 0);&quot;&gt;&lt;span style=&quot;color: rgb(51, 51, 51);&quot;&gt;&lt;/span&gt;&amp;nbsp;: Privilege level at which load and stores should happen&lt;/font&gt;&lt;/div&gt;" vertex="1">
          <mxGeometry height="30" width="870" y="1220" as="geometry" />
        </mxCell>
        <mxCell id="YD8wXlY8oEXokaMSZj_n-695" parent="YD8wXlY8oEXokaMSZj_n-653" style="text;strokeColor=#b85450;fillColor=#f8cecc;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;html=1;" value="&lt;div&gt;output logic ld_st_v_o&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;&amp;nbsp;&lt;span style=&quot;background-color: transparent; color: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));&quot;&gt;//&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;background-color: transparent;&quot;&gt;EX STAGE&lt;/span&gt;&lt;font style=&quot;color: rgb(0, 0, 0);&quot;&gt;&lt;span style=&quot;color: rgb(51, 51, 51);&quot;&gt;&lt;/span&gt;&amp;nbsp;: Virtualization mode at which load and stores should happen&lt;/font&gt;&lt;/div&gt;" vertex="1">
          <mxGeometry height="30" width="870" y="1250" as="geometry" />
        </mxCell>
        <mxCell id="YD8wXlY8oEXokaMSZj_n-696" parent="YD8wXlY8oEXokaMSZj_n-653" style="text;strokeColor=#b85450;fillColor=#f8cecc;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;html=1;" value="&lt;div&gt;input logic csr_hs_ld_st_inst_i&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;&lt;span style=&quot;background-color: transparent; color: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));&quot;&gt;//&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;background-color: transparent;&quot;&gt;EX STAGE&lt;/span&gt;&lt;font style=&quot;color: rgb(0, 0, 0);&quot;&gt;&lt;span style=&quot;color: rgb(51, 51, 51);&quot;&gt;&lt;/span&gt;&amp;nbsp;: Current instruction is a Hypervisor Load/Store Instruction&lt;/font&gt;&lt;/div&gt;" vertex="1">
          <mxGeometry height="30" width="870" y="1280" as="geometry" />
        </mxCell>
        <mxCell id="YD8wXlY8oEXokaMSZj_n-697" parent="YD8wXlY8oEXokaMSZj_n-653" style="text;strokeColor=#b85450;fillColor=#f8cecc;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;html=1;" value="&lt;div&gt;output logic sum_o&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;&lt;span style=&quot;background-color: transparent; color: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));&quot;&gt;//&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;background-color: transparent;&quot;&gt;EX STAGE&lt;/span&gt;&lt;font style=&quot;color: rgb(0, 0, 0);&quot;&gt;&lt;span style=&quot;color: rgb(51, 51, 51);&quot;&gt;&lt;/span&gt;&amp;nbsp;: Supervisor User Memory&lt;/font&gt;&lt;/div&gt;" vertex="1">
          <mxGeometry height="30" width="870" y="1310" as="geometry" />
        </mxCell>
        <mxCell id="YD8wXlY8oEXokaMSZj_n-698" parent="YD8wXlY8oEXokaMSZj_n-653" style="text;strokeColor=#b85450;fillColor=#f8cecc;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;html=1;" value="&lt;div&gt;output logic vs_sum_o&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;&lt;span style=&quot;background-color: transparent; color: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));&quot;&gt;//&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;background-color: transparent;&quot;&gt;EX STAGE&lt;/span&gt;&lt;font style=&quot;color: rgb(0, 0, 0);&quot;&gt;&lt;span style=&quot;color: rgb(51, 51, 51);&quot;&gt;&lt;/span&gt;&amp;nbsp;: Virtual Supervisor User Memory&lt;/font&gt;&lt;/div&gt;" vertex="1">
          <mxGeometry height="30" width="870" y="1340" as="geometry" />
        </mxCell>
        <mxCell id="YD8wXlY8oEXokaMSZj_n-699" parent="YD8wXlY8oEXokaMSZj_n-653" style="text;strokeColor=#b85450;fillColor=#f8cecc;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;html=1;" value="&lt;div&gt;output logic mxr_o&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;&lt;span style=&quot;background-color: transparent; color: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));&quot;&gt;//&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;background-color: transparent;&quot;&gt;EX STAGE&lt;/span&gt;&lt;font style=&quot;color: rgb(0, 0, 0);&quot;&gt;&lt;span style=&quot;color: rgb(51, 51, 51);&quot;&gt;&lt;/span&gt;&amp;nbsp;: Make Executable Readable&lt;/font&gt;&lt;/div&gt;" vertex="1">
          <mxGeometry height="30" width="870" y="1370" as="geometry" />
        </mxCell>
        <mxCell id="YD8wXlY8oEXokaMSZj_n-700" parent="YD8wXlY8oEXokaMSZj_n-653" style="text;strokeColor=#b85450;fillColor=#f8cecc;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;html=1;" value="&lt;div&gt;output logic vmxr_o&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;&lt;span style=&quot;background-color: transparent; color: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));&quot;&gt;//&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;background-color: transparent;&quot;&gt;EX STAGE&lt;/span&gt;&lt;font style=&quot;color: rgb(0, 0, 0);&quot;&gt;&lt;span style=&quot;color: rgb(51, 51, 51);&quot;&gt;&lt;/span&gt;&amp;nbsp;: Make Executable Readable for VS-mode&lt;/font&gt;&lt;/div&gt;" vertex="1">
          <mxGeometry height="30" width="870" y="1400" as="geometry" />
        </mxCell>
        <mxCell id="YD8wXlY8oEXokaMSZj_n-701" parent="YD8wXlY8oEXokaMSZj_n-653" style="text;strokeColor=#b85450;fillColor=#f8cecc;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;html=1;" value="&lt;div&gt;output logic [CVA6Cfg.PPNW-1:0] satp_ppn_o&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;&amp;nbsp;&lt;span style=&quot;background-color: transparent; color: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));&quot;&gt;//&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;background-color: transparent;&quot;&gt;EX STAGE&lt;/span&gt;&lt;font style=&quot;color: rgb(0, 0, 0);&quot;&gt;&lt;span style=&quot;color: rgb(51, 51, 51);&quot;&gt;&lt;/span&gt;&amp;nbsp;: TO_BE_COMPLETED&lt;/font&gt;&lt;/div&gt;" vertex="1">
          <mxGeometry height="30" width="870" y="1430" as="geometry" />
        </mxCell>
        <mxCell id="YD8wXlY8oEXokaMSZj_n-702" parent="YD8wXlY8oEXokaMSZj_n-653" style="text;strokeColor=#b85450;fillColor=#f8cecc;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;html=1;" value="&lt;div&gt;output logic [CVA6Cfg.ASID_WIDTH-1:0] asid_o&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;&amp;nbsp;&lt;span style=&quot;background-color: transparent; color: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));&quot;&gt;//&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;background-color: transparent;&quot;&gt;EX STAGE&lt;/span&gt;&lt;font style=&quot;color: rgb(0, 0, 0);&quot;&gt;&lt;span style=&quot;color: rgb(51, 51, 51);&quot;&gt;&lt;/span&gt;&amp;nbsp;: TO_BE_COMPLETED&lt;/font&gt;&lt;/div&gt;" vertex="1">
          <mxGeometry height="30" width="870" y="1460" as="geometry" />
        </mxCell>
        <mxCell id="YD8wXlY8oEXokaMSZj_n-703" parent="YD8wXlY8oEXokaMSZj_n-653" style="text;strokeColor=#b85450;fillColor=#f8cecc;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;html=1;" value="&lt;div&gt;output logic [CVA6Cfg.PPNW-1:0] vsatp_ppn_o&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;&amp;nbsp;&lt;span style=&quot;background-color: transparent; color: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));&quot;&gt;//&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;background-color: transparent;&quot;&gt;EX STAGE&lt;/span&gt;&lt;font style=&quot;color: rgb(0, 0, 0);&quot;&gt;&lt;span style=&quot;color: rgb(51, 51, 51);&quot;&gt;&lt;/span&gt;&amp;nbsp;: TO_BE_COMPLETED&lt;/font&gt;&lt;/div&gt;" vertex="1">
          <mxGeometry height="30" width="870" y="1490" as="geometry" />
        </mxCell>
        <mxCell id="YD8wXlY8oEXokaMSZj_n-704" parent="YD8wXlY8oEXokaMSZj_n-653" style="text;strokeColor=#b85450;fillColor=#f8cecc;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;html=1;" value="&lt;div&gt;output logic [CVA6Cfg.ASID_WIDTH-1:0] vs_asid_o&amp;nbsp; &amp;nbsp;&lt;span style=&quot;background-color: transparent; color: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));&quot;&gt;//&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;background-color: transparent;&quot;&gt;EX STAGE&lt;/span&gt;&lt;font style=&quot;color: rgb(0, 0, 0);&quot;&gt;&lt;span style=&quot;color: rgb(51, 51, 51);&quot;&gt;&lt;/span&gt;&amp;nbsp;: TO_BE_COMPLETED&lt;/font&gt;&lt;/div&gt;" vertex="1">
          <mxGeometry height="30" width="870" y="1520" as="geometry" />
        </mxCell>
        <mxCell id="YD8wXlY8oEXokaMSZj_n-705" parent="YD8wXlY8oEXokaMSZj_n-653" style="text;strokeColor=#b85450;fillColor=#f8cecc;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;html=1;" value="&lt;div&gt;output logic [CVA6Cfg.PPNW-1:0] hgatp_ppn_o&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;&amp;nbsp;&lt;span style=&quot;background-color: transparent; color: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));&quot;&gt;//&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;background-color: transparent;&quot;&gt;EX STAGE&lt;/span&gt;&lt;font style=&quot;color: rgb(0, 0, 0);&quot;&gt;&lt;span style=&quot;color: rgb(51, 51, 51);&quot;&gt;&lt;/span&gt;&amp;nbsp;: TO_BE_COMPLETED&lt;/font&gt;&lt;/div&gt;" vertex="1">
          <mxGeometry height="30" width="870" y="1550" as="geometry" />
        </mxCell>
        <mxCell id="YD8wXlY8oEXokaMSZj_n-706" parent="YD8wXlY8oEXokaMSZj_n-653" style="text;strokeColor=#b85450;fillColor=#f8cecc;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;html=1;" value="&lt;div&gt;output logic [CVA6Cfg.VMID_WIDTH-1:0] vmid_o&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;&lt;span style=&quot;background-color: transparent; color: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));&quot;&gt;//&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;background-color: transparent;&quot;&gt;EX STAGE&lt;/span&gt;&lt;font style=&quot;color: rgb(0, 0, 0);&quot;&gt;&lt;span style=&quot;color: rgb(51, 51, 51);&quot;&gt;&lt;/span&gt;&amp;nbsp;: TO_BE_COMPLETED&lt;/font&gt;&lt;/div&gt;" vertex="1">
          <mxGeometry height="30" width="870" y="1580" as="geometry" />
        </mxCell>
        <mxCell id="YD8wXlY8oEXokaMSZj_n-707" parent="YD8wXlY8oEXokaMSZj_n-653" style="text;strokeColor=#b85450;fillColor=#f8cecc;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;html=1;" value="&lt;div&gt;output logic debug_mode_o&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;&amp;nbsp;&lt;span style=&quot;background-color: transparent; color: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));&quot;&gt;//&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;background-color: transparent;&quot;&gt;EX STAGE&lt;/span&gt;&lt;font style=&quot;color: rgb(0, 0, 0);&quot;&gt;&lt;span style=&quot;color: rgb(51, 51, 51);&quot;&gt;&lt;/span&gt;&amp;nbsp;:&amp;nbsp;we are in debug mode -&amp;gt; that will change some decoding&lt;/font&gt;&lt;/div&gt;" vertex="1">
          <mxGeometry height="30" width="870" y="1610" as="geometry" />
        </mxCell>
        <mxCell id="YD8wXlY8oEXokaMSZj_n-708" parent="YD8wXlY8oEXokaMSZj_n-653" style="text;strokeColor=#9673a6;fillColor=#e1d5e7;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;html=1;" value="&lt;div&gt;input logic [CVA6Cfg.NrCommitPorts-1:0] commit_ack_i&amp;nbsp; &amp;nbsp; &amp;nbsp;&lt;span style=&quot;background-color: transparent; color: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));&quot;&gt;//&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;background-color: transparent;&quot;&gt;COMMIT STAGE&lt;/span&gt;&lt;font style=&quot;color: rgb(0, 0, 0);&quot;&gt;&amp;nbsp;:&amp;nbsp;Commit acknowledged an instruction -&amp;gt; increase instret CSR&lt;/font&gt;&lt;/div&gt;" vertex="1">
          <mxGeometry height="30" width="870" y="1640" as="geometry" />
        </mxCell>
        <mxCell id="YD8wXlY8oEXokaMSZj_n-709" parent="YD8wXlY8oEXokaMSZj_n-653" style="text;strokeColor=#9673a6;fillColor=#e1d5e7;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;html=1;" value="&lt;div&gt;input exception_t ex_i&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;&lt;span style=&quot;background-color: transparent; color: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));&quot;&gt;//&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;background-color: transparent;&quot;&gt;COMMIT STAGE&lt;/span&gt;&lt;font style=&quot;color: rgb(0, 0, 0);&quot;&gt;&amp;nbsp;:&amp;nbsp;We&#39;ve got an exception from the commit stage, take it&lt;/font&gt;&lt;/div&gt;" vertex="1">
          <mxGeometry height="30" width="870" y="1670" as="geometry" />
        </mxCell>
        <mxCell id="YD8wXlY8oEXokaMSZj_n-710" parent="YD8wXlY8oEXokaMSZj_n-653" style="text;strokeColor=#9673a6;fillColor=#e1d5e7;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;html=1;" value="&lt;div&gt;input fu_op csr_op_i&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;&lt;span style=&quot;background-color: transparent; color: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));&quot;&gt;//&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;background-color: transparent;&quot;&gt;COMMIT STAGE&lt;/span&gt;&lt;font style=&quot;color: rgb(0, 0, 0);&quot;&gt;&lt;span style=&quot;color: rgb(51, 51, 51);&quot;&gt;&lt;/span&gt;&amp;nbsp;:&amp;nbsp;Operation to perform on the CSR file&lt;/font&gt;&lt;/div&gt;" vertex="1">
          <mxGeometry height="30" width="870" y="1700" as="geometry" />
        </mxCell>
        <mxCell id="YD8wXlY8oEXokaMSZj_n-711" parent="YD8wXlY8oEXokaMSZj_n-653" style="text;strokeColor=#9673a6;fillColor=#e1d5e7;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;html=1;" value="&lt;div&gt;input logic [CVA6Cfg.XLEN-1:0] csr_wdata_i&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;&lt;span style=&quot;background-color: transparent; color: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));&quot;&gt;//&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;background-color: transparent;&quot;&gt;COMMIT STAGE&lt;/span&gt;&lt;font style=&quot;color: rgb(0, 0, 0);&quot;&gt;&lt;span style=&quot;color: rgb(51, 51, 51);&quot;&gt;&lt;/span&gt;&amp;nbsp;:&amp;nbsp;Write data in&lt;/font&gt;&lt;/div&gt;" vertex="1">
          <mxGeometry height="30" width="870" y="1730" as="geometry" />
        </mxCell>
        <mxCell id="YD8wXlY8oEXokaMSZj_n-712" parent="YD8wXlY8oEXokaMSZj_n-653" style="text;strokeColor=#9673a6;fillColor=#e1d5e7;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;html=1;" value="&lt;div&gt;output logic [CVA6Cfg.XLEN-1:0] csr_rdata_o&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;&lt;span style=&quot;background-color: transparent; color: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));&quot;&gt;//&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;background-color: transparent;&quot;&gt;COMMIT STAGE&lt;/span&gt;&lt;font style=&quot;color: rgb(0, 0, 0);&quot;&gt;&lt;span style=&quot;color: rgb(51, 51, 51);&quot;&gt;&lt;/span&gt;&amp;nbsp;:&amp;nbsp;Read data out&lt;/font&gt;&lt;/div&gt;" vertex="1">
          <mxGeometry height="30" width="870" y="1760" as="geometry" />
        </mxCell>
        <mxCell id="YD8wXlY8oEXokaMSZj_n-713" parent="YD8wXlY8oEXokaMSZj_n-653" style="text;strokeColor=#9673a6;fillColor=#e1d5e7;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;html=1;" value="&lt;div&gt;input logic dirty_fp_state_i&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;&amp;nbsp;&lt;span style=&quot;background-color: transparent; color: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));&quot;&gt;//&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;background-color: transparent;&quot;&gt;COMMIT STAGE&lt;/span&gt;&lt;font style=&quot;color: rgb(0, 0, 0);&quot;&gt;&lt;span style=&quot;color: rgb(51, 51, 51);&quot;&gt;&lt;/span&gt;&amp;nbsp;:&amp;nbsp;Mark the FP state as dirty&lt;/font&gt;&lt;/div&gt;" vertex="1">
          <mxGeometry height="30" width="870" y="1790" as="geometry" />
        </mxCell>
        <mxCell id="YD8wXlY8oEXokaMSZj_n-714" parent="YD8wXlY8oEXokaMSZj_n-653" style="text;strokeColor=#9673a6;fillColor=#e1d5e7;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;html=1;" value="&lt;div&gt;input logic csr_write_fflags_i&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;&amp;nbsp;&lt;span style=&quot;background-color: transparent; color: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));&quot;&gt;//&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;background-color: transparent;&quot;&gt;COMMIT STAGE&lt;/span&gt;&lt;font style=&quot;color: rgb(0, 0, 0);&quot;&gt;&lt;span style=&quot;color: rgb(51, 51, 51);&quot;&gt;&lt;/span&gt;&amp;nbsp;:&amp;nbsp;Write fflags register e.g.: we are retiring a floating point instruction&lt;/font&gt;&lt;/div&gt;" vertex="1">
          <mxGeometry height="30" width="870" y="1820" as="geometry" />
        </mxCell>
        <mxCell id="YD8wXlY8oEXokaMSZj_n-715" parent="YD8wXlY8oEXokaMSZj_n-653" style="text;strokeColor=#9673a6;fillColor=#e1d5e7;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;html=1;" value="&lt;div&gt;input logic [CVA6Cfg.VLEN-1:0] pc_i&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;&lt;span style=&quot;background-color: transparent; color: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));&quot;&gt;//&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;background-color: transparent;&quot;&gt;COMMIT STAGE&lt;/span&gt;&lt;font style=&quot;color: rgb(0, 0, 0);&quot;&gt;&lt;span style=&quot;color: rgb(51, 51, 51);&quot;&gt;&lt;/span&gt;&amp;nbsp;:&amp;nbsp;PC of instruction accessing the CSR&lt;/font&gt;&lt;/div&gt;" vertex="1">
          <mxGeometry height="30" width="870" y="1850" as="geometry" />
        </mxCell>
        <mxCell id="YD8wXlY8oEXokaMSZj_n-716" parent="YD8wXlY8oEXokaMSZj_n-653" style="text;strokeColor=#9673a6;fillColor=#e1d5e7;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;html=1;" value="&lt;div&gt;output exception_t csr_exception_o&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;&amp;nbsp;&lt;span style=&quot;background-color: transparent; color: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));&quot;&gt;//&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;background-color: transparent;&quot;&gt;COMMIT STAGE&lt;/span&gt;&lt;font style=&quot;color: rgb(0, 0, 0);&quot;&gt;&lt;span style=&quot;color: rgb(51, 51, 51);&quot;&gt;&lt;/span&gt;&amp;nbsp;:&amp;nbsp;attempts to access a CSR without appropriate privilege&lt;/font&gt;&lt;/div&gt;" vertex="1">
          <mxGeometry height="30" width="870" y="1880" as="geometry" />
        </mxCell>
        <mxCell id="YD8wXlY8oEXokaMSZj_n-717" parent="YD8wXlY8oEXokaMSZj_n-653" style="text;strokeColor=#9673a6;fillColor=#e1d5e7;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;html=1;" value="&lt;div&gt;output logic [4:0] fflags_o&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;&amp;nbsp;&lt;span style=&quot;background-color: transparent; color: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));&quot;&gt;//&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;background-color: transparent;&quot;&gt;COMMIT STAGE&lt;/span&gt;&lt;font style=&quot;color: rgb(0, 0, 0);&quot;&gt;&lt;span style=&quot;color: rgb(51, 51, 51);&quot;&gt;&lt;/span&gt;&amp;nbsp;:&amp;nbsp;Floating-Point Occurred Exceptions&lt;/font&gt;&lt;/div&gt;" vertex="1">
          <mxGeometry height="30" width="870" y="1910" as="geometry" />
        </mxCell>
        <mxCell id="YD8wXlY8oEXokaMSZj_n-718" parent="YD8wXlY8oEXokaMSZj_n-653" style="text;strokeColor=#9673a6;fillColor=#e1d5e7;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;html=1;" value="&lt;div&gt;output logic single_step_o&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;&amp;nbsp;&lt;span style=&quot;background-color: transparent; color: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));&quot;&gt;//&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;background-color: transparent;&quot;&gt;COMMIT STAGE&lt;/span&gt;&lt;font style=&quot;color: rgb(0, 0, 0);&quot;&gt;&lt;span style=&quot;color: rgb(51, 51, 51);&quot;&gt;&lt;/span&gt;&amp;nbsp;:&amp;nbsp;we are in single-step mode&lt;/font&gt;&lt;/div&gt;" vertex="1">
          <mxGeometry height="30" width="870" y="1940" as="geometry" />
        </mxCell>
        <mxCell id="YD8wXlY8oEXokaMSZj_n-719" parent="YD8wXlY8oEXokaMSZj_n-653" style="text;strokeColor=#36393d;fillColor=#eeeeee;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;html=1;" value="&lt;div&gt;&lt;font&gt;output &lt;span style=&quot;background-color: rgb(255, 153, 153);&quot;&gt;jvt_t&lt;/span&gt; jvt_o&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;&amp;nbsp;&lt;span style=&quot;background-color: transparent;&quot;&gt;//&amp;nbsp;&lt;/span&gt;&lt;/font&gt;&lt;span style=&quot;background-color: transparent;&quot;&gt;jvt output&lt;/span&gt;&lt;/div&gt;" vertex="1">
          <mxGeometry height="30" width="870" y="1970" as="geometry" />
        </mxCell>
        <mxCell id="YD8wXlY8oEXokaMSZj_n-720" parent="YD8wXlY8oEXokaMSZj_n-653" style="text;strokeColor=#005700;fillColor=#008a00;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;html=1;fontColor=#ffffff;fontStyle=1" value="&lt;div&gt;&lt;font&gt;output rvfi_probes_csr_t rvfi_csr_o &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;&lt;span style=&quot;background-color: transparent;&quot;&gt;//&amp;nbsp;&lt;/span&gt;&lt;/font&gt;&lt;span style=&quot;background-color: transparent;&quot;&gt;RVFI&lt;/span&gt;&lt;/div&gt;" vertex="1">
          <mxGeometry height="30" width="870" y="2000" as="geometry" />
        </mxCell>
        <mxCell id="YD8wXlY8oEXokaMSZj_n-721" edge="1" parent="1" source="YD8wXlY8oEXokaMSZj_n-720" style="endArrow=classic;html=1;rounded=0;exitX=1;exitY=0.5;exitDx=0;exitDy=0;strokeWidth=7;fillColor=#d5e8d4;strokeColor=#82b366;entryX=0;entryY=0.5;entryDx=0;entryDy=0;" target="YD8wXlY8oEXokaMSZj_n-738" value="">
          <mxGeometry height="50" relative="1" width="50" as="geometry">
            <Array as="points">
              <mxPoint x="13440" y="955" />
              <mxPoint x="13460" y="6420" />
              <mxPoint x="17080" y="7190" />
              <mxPoint x="17100" y="8620" />
            </Array>
            <mxPoint x="12120" y="860" as="sourcePoint" />
            <mxPoint x="12010" y="6530" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="YD8wXlY8oEXokaMSZj_n-722" edge="1" parent="1" source="YD8wXlY8oEXokaMSZj_n-318" style="endArrow=classic;html=1;rounded=0;exitX=1;exitY=0.5;exitDx=0;exitDy=0;strokeWidth=7;fillColor=#008a00;strokeColor=#005700;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" target="YD8wXlY8oEXokaMSZj_n-727" value="">
          <mxGeometry height="50" relative="1" width="50" as="geometry">
            <Array as="points">
              <mxPoint x="8910" y="2840" />
              <mxPoint x="8910" y="2950" />
              <mxPoint x="8500" y="2970" />
            </Array>
            <mxPoint x="11610" y="3440" as="sourcePoint" />
            <mxPoint x="8500" y="2970" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="YD8wXlY8oEXokaMSZj_n-723" edge="1" parent="1" source="YD8wXlY8oEXokaMSZj_n-765" style="endArrow=classic;html=1;rounded=0;strokeWidth=7;fillColor=#fff2cc;strokeColor=#d6b656;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;" target="YD8wXlY8oEXokaMSZj_n-747" value="">
          <mxGeometry height="50" relative="1" width="50" as="geometry">
            <Array as="points">
              <mxPoint x="13130" y="3970" />
              <mxPoint x="13120" y="6220" />
              <mxPoint x="16560" y="7230" />
              <mxPoint x="16620" y="8898" />
            </Array>
            <mxPoint x="11920" y="4400" as="sourcePoint" />
            <mxPoint x="13010" y="5910" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="YD8wXlY8oEXokaMSZj_n-724" edge="1" parent="1" source="YD8wXlY8oEXokaMSZj_n-769" style="endArrow=classic;html=1;rounded=0;strokeWidth=7;fillColor=#fff2cc;strokeColor=#d6b656;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;" target="YD8wXlY8oEXokaMSZj_n-751" value="">
          <mxGeometry height="50" relative="1" width="50" as="geometry">
            <Array as="points">
              <mxPoint x="13350" y="2020" />
              <mxPoint x="13390" y="6300" />
              <mxPoint x="16280" y="7120" />
              <mxPoint x="16330" y="9020" />
            </Array>
            <mxPoint x="12690" y="2477" as="sourcePoint" />
            <mxPoint x="13360" y="6280" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="YD8wXlY8oEXokaMSZj_n-725" edge="1" parent="1" source="YD8wXlY8oEXokaMSZj_n-772" style="endArrow=classic;html=1;rounded=0;strokeWidth=7;fillColor=#fff2cc;strokeColor=#d6b656;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;" target="YD8wXlY8oEXokaMSZj_n-750" value="">
          <mxGeometry height="50" relative="1" width="50" as="geometry">
            <Array as="points">
              <mxPoint x="13270" y="2710" />
              <mxPoint x="13260" y="6240" />
              <mxPoint x="16400" y="7170" />
              <mxPoint x="16460" y="8990" />
            </Array>
            <mxPoint x="11960" y="2890" as="sourcePoint" />
            <mxPoint x="12920" y="6310" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="YD8wXlY8oEXokaMSZj_n-726" edge="1" parent="1" source="YD8wXlY8oEXokaMSZj_n-775" style="endArrow=classic;html=1;rounded=0;strokeWidth=7;fillColor=#fad9d5;strokeColor=#ae4132;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;" target="YD8wXlY8oEXokaMSZj_n-754" value="">
          <mxGeometry height="50" relative="1" width="50" as="geometry">
            <Array as="points">
              <mxPoint x="18140" y="3960" />
              <mxPoint x="18130" y="6250" />
              <mxPoint x="17280" y="7070" />
              <mxPoint x="17260" y="9110" />
            </Array>
            <mxPoint x="18210" y="4110" as="sourcePoint" />
            <mxPoint x="13740" y="9840" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="YD8wXlY8oEXokaMSZj_n-727" parent="1" style="swimlane;fontStyle=0;childLayout=stackLayout;horizontal=1;startSize=26;fillColor=#008a00;horizontalStack=0;resizeParent=1;resizeParentMax=0;resizeLast=0;collapsible=1;marginBottom=0;whiteSpace=wrap;html=1;fontColor=#ffffff;strokeColor=#005700;" value="RVFI" vertex="1">
          <mxGeometry height="320" width="480" x="8260" y="3088" as="geometry" />
        </mxCell>
        <mxCell id="YD8wXlY8oEXokaMSZj_n-728" parent="YD8wXlY8oEXokaMSZj_n-727" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;html=1;" value="&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;logic&amp;nbsp; [CVA6Cfg.NrIssuePorts-1:0] is_compressed_rvc;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&lt;br&gt;&lt;/span&gt;&lt;/div&gt;assign rvfi_is_compressed_o = is_compressed_rvc;&lt;br&gt;&lt;br&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp; if (CVA6Cfg.RVC) begin&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp; &amp;nbsp; for (genvar i = 0; i &amp;lt; CVA6Cfg.NrIssuePorts; i++) begin&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; compressed_decoder #(&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; .CVA6Cfg(CVA6Cfg)&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; ) compressed_decoder_i (&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; .instr_i&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;(fetch_entry_i[i].instruction),&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; .instr_o&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;(instruction_rvc[i]),&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; .illegal_instr_o (is_illegal_rvc[i]),&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; .is_compressed_o (&lt;span style=&quot;background-color: rgb(0, 204, 0);&quot;&gt;is_compressed_rvc[i]&lt;/span&gt;),&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; .is_macro_instr_o(is_macro_instr[i]),&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; .is_zcmt_instr_o (is_zcmt_instr[i])&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; );&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp; &amp;nbsp; end&lt;br&gt;&amp;nbsp; &amp;nbsp; ...&lt;br&gt;&amp;nbsp; &amp;nbsp; ...&lt;/span&gt;&lt;/div&gt;" vertex="1">
          <mxGeometry height="294" width="480" y="26" as="geometry" />
        </mxCell>
        <mxCell id="YD8wXlY8oEXokaMSZj_n-729" parent="1" style="swimlane;fontStyle=1;align=center;verticalAlign=top;childLayout=stackLayout;horizontal=1;startSize=40;horizontalStack=0;resizeParent=1;resizeParentMax=0;resizeLast=0;collapsible=1;marginBottom=0;whiteSpace=wrap;html=1;fillColor=#dae8fc;strokeColor=#6c8ebf;" value="&lt;span style=&quot;text-align: left;&quot;&gt;&lt;span style=&quot;font-weight: 400;&quot;&gt;uvmt_cva6_dut_wrap&lt;/span&gt;&lt;br&gt;&lt;span style=&quot;font-size: 12px; font-weight: 400;&quot;&gt;/home/ICer/proj/cva6/verif/tb/uvmt/uvmt_cva6_dut_wrap.sv&lt;/span&gt;&lt;/span&gt;" vertex="1">
          <mxGeometry height="490" width="540" x="11995" y="10230" as="geometry" />
        </mxCell>
        <mxCell id="YD8wXlY8oEXokaMSZj_n-730" parent="YD8wXlY8oEXokaMSZj_n-729" style="line;strokeWidth=1;fillColor=none;align=left;verticalAlign=middle;spacingTop=-1;spacingLeft=3;spacingRight=3;rotatable=0;labelPosition=right;points=[];portConstraint=eastwest;strokeColor=inherit;" value="" vertex="1">
          <mxGeometry height="8" width="540" y="40" as="geometry" />
        </mxCell>
        <mxCell id="YD8wXlY8oEXokaMSZj_n-731" parent="YD8wXlY8oEXokaMSZj_n-729" style="text;strokeColor=default;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;html=1;" value="&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;assign boot_addr[31:0] = &lt;span style=&quot;background-color: rgb(213, 232, 212);&quot;&gt;core_cntrl_if.boot_addr&lt;/span&gt;;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&lt;br&gt;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;cva6_tb_wrapper #(&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp;.CVA6Cfg ( CVA6Cfg ),&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp;.rvfi_instr_t&amp;nbsp; &amp;nbsp; &amp;nbsp; ( rvfi_instr_t&amp;nbsp; &amp;nbsp; &amp;nbsp; ),&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp;.rvfi_csr_elmt_t&amp;nbsp; &amp;nbsp;( rvfi_csr_elmt_t&amp;nbsp; &amp;nbsp;),&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp;.rvfi_csr_t&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; ( rvfi_csr_t&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; ),&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp;.rvfi_probes_instr_t(rvfi_probes_instr_t),&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp;.rvfi_probes_csr_t ( rvfi_probes_csr_t ),&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp;.rvfi_probes_t&amp;nbsp; &amp;nbsp; &amp;nbsp;( rvfi_probes_t&amp;nbsp; &amp;nbsp; &amp;nbsp;),&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp;.rvfi_to_iti_t&amp;nbsp; &amp;nbsp; &amp;nbsp;( rvfi_to_iti_t&amp;nbsp; &amp;nbsp; &amp;nbsp;),&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp;//&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp;.AXI_USER_EN&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;(AXI_USER_EN),&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp;.NUM_WORDS&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;(NUM_WORDS)&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;)&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp; &amp;nbsp; cva6_tb_wrapper_i&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; (&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;.clk_i&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; ( clknrst_if.clk&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;),&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;.rst_ni&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;( clknrst_if.reset_n&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;),&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;.boot_addr_i&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; ( boot_addr&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; ),&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;.irq_i&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; ( interrupt_vif.irq&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; ),&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;.debug_if&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;( debug_if&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;),&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;.axi_slave&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; ( axi_if&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;),&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;.cvxif_if&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;( cvxif_vif&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; ),&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;.axi_switch_vif&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;( axi_switch_vif&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;),&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;.default_inputs_vif&amp;nbsp; &amp;nbsp; &amp;nbsp;( default_inputs_vif&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;),&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;.tb_exit_o&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; ( tb_exit_o&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; ),&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;.rvfi_csr_o&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;( rvfi_csr_o&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;),&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;.rvfi_o&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;( rvfi_o&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;)&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;);&lt;/span&gt;&lt;/div&gt;" vertex="1">
          <mxGeometry height="442" width="540" y="48" as="geometry" />
        </mxCell>
        <mxCell id="YD8wXlY8oEXokaMSZj_n-732" edge="1" parent="1" source="YD8wXlY8oEXokaMSZj_n-108" style="html=1;verticalAlign=bottom;endArrow=block;curved=0;rounded=0;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;" target="YD8wXlY8oEXokaMSZj_n-731" value="dispatch">
          <mxGeometry relative="1" width="80" as="geometry">
            <Array as="points">
              <mxPoint x="11900" y="10499" />
            </Array>
            <mxPoint x="11910" y="9930" as="sourcePoint" />
            <mxPoint x="12265" y="10067" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="YD8wXlY8oEXokaMSZj_n-733" parent="1" style="swimlane;fontStyle=1;align=center;verticalAlign=top;childLayout=stackLayout;horizontal=1;startSize=40;horizontalStack=0;resizeParent=1;resizeParentMax=0;resizeLast=0;collapsible=1;marginBottom=0;whiteSpace=wrap;html=1;fillColor=#008a00;strokeColor=#005700;fontColor=#ffffff;" value="&lt;span style=&quot;text-align: left;&quot;&gt;&lt;span style=&quot;font-weight: 400;&quot;&gt;cva6&lt;/span&gt;&lt;br&gt;&lt;span style=&quot;font-size: 12px; font-weight: 400;&quot;&gt;/home/ICer/proj/cva6/core/cva6.sv&lt;/span&gt;&lt;/span&gt;" vertex="1">
          <mxGeometry height="1170" width="540" x="17360" y="8228" as="geometry" />
        </mxCell>
        <mxCell id="YD8wXlY8oEXokaMSZj_n-734" parent="YD8wXlY8oEXokaMSZj_n-733" style="line;strokeWidth=1;fillColor=none;align=left;verticalAlign=middle;spacingTop=-1;spacingLeft=3;spacingRight=3;rotatable=0;labelPosition=right;points=[];portConstraint=eastwest;strokeColor=inherit;" value="" vertex="1">
          <mxGeometry height="8" width="540" y="40" as="geometry" />
        </mxCell>
        <mxCell id="YD8wXlY8oEXokaMSZj_n-735" parent="YD8wXlY8oEXokaMSZj_n-733" style="text;strokeColor=default;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;html=1;" value="&lt;div&gt;...&lt;/div&gt;&lt;div&gt;...&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;cva6_rvfi_probes #(&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp; &amp;nbsp; .CVA6Cfg&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; (CVA6Cfg),&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp; &amp;nbsp; .exception_t&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; (exception_t),&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp; &amp;nbsp; .scoreboard_entry_t (scoreboard_entry_t),&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp; &amp;nbsp; .lsu_ctrl_t&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;(lsu_ctrl_t),&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp; &amp;nbsp; .bp_resolve_t&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;(bp_resolve_t),&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp; &amp;nbsp; .rvfi_probes_instr_t(rvfi_probes_instr_t),&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp; &amp;nbsp; .rvfi_probes_csr_t&amp;nbsp; (rvfi_probes_csr_t),&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp; &amp;nbsp; .rvfi_probes_t&amp;nbsp; &amp;nbsp; &amp;nbsp; (rvfi_probes_t)&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;) i_cva6_rvfi_probes (&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&lt;br&gt;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp; &amp;nbsp; .flush_i&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; (flush_ctrl_if),&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp; &amp;nbsp; .issue_instr_ack_i&amp;nbsp; (issue_instr_issue_id),&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp; &amp;nbsp; .fetch_entry_valid_i(fetch_valid_if_id),&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp; &amp;nbsp; .instruction_i&amp;nbsp; &amp;nbsp; &amp;nbsp; (rvfi_fetch_instr),&lt;/span&gt;&lt;/div&gt;&lt;/div&gt;" vertex="1">
          <mxGeometry height="272" width="540" y="48" as="geometry" />
        </mxCell>
        <mxCell id="YD8wXlY8oEXokaMSZj_n-736" parent="YD8wXlY8oEXokaMSZj_n-733" style="text;strokeColor=#82b366;fillColor=#d5e8d4;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;html=1;" value="&lt;div&gt;&lt;span style=&quot;background-color: transparent; color: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));&quot;&gt;&amp;nbsp; &amp;nbsp; .priv_lvl_i&amp;nbsp; &amp;nbsp; (priv_lvl),&lt;/span&gt;&lt;/div&gt;" vertex="1">
          <mxGeometry height="30" width="540" y="320" as="geometry" />
        </mxCell>
        <mxCell id="YD8wXlY8oEXokaMSZj_n-737" parent="YD8wXlY8oEXokaMSZj_n-733" style="text;strokeColor=#82b366;fillColor=#d5e8d4;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;html=1;" value="&lt;div&gt;&lt;span style=&quot;background-color: transparent; color: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));&quot;&gt;&amp;nbsp; &amp;nbsp; .debug_mode_i(debug_mode),&lt;/span&gt;&lt;/div&gt;" vertex="1">
          <mxGeometry height="30" width="540" y="350" as="geometry" />
        </mxCell>
        <mxCell id="YD8wXlY8oEXokaMSZj_n-738" parent="YD8wXlY8oEXokaMSZj_n-733" style="text;strokeColor=#82b366;fillColor=#d5e8d4;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;html=1;" value="&lt;div&gt;&lt;span style=&quot;background-color: transparent; color: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));&quot;&gt;&amp;nbsp; &amp;nbsp; &lt;/span&gt;&lt;span style=&quot;color: light-dark(rgb(0, 0, 0), rgb(255, 255, 255)); background-color: rgb(0, 204, 0);&quot;&gt;.csr_i(rvfi_csr),&lt;/span&gt;&lt;/div&gt;" vertex="1">
          <mxGeometry height="30" width="540" y="380" as="geometry" />
        </mxCell>
        <mxCell id="YD8wXlY8oEXokaMSZj_n-739" parent="YD8wXlY8oEXokaMSZj_n-733" style="text;strokeColor=#d79b00;fillColor=#ffe6cc;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;html=1;" value="&lt;div&gt;&lt;span style=&quot;background-color: transparent; color: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));&quot;&gt;&amp;nbsp; &amp;nbsp; .flush_i&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; (flush_ctrl_if),&lt;/span&gt;&lt;/div&gt;" vertex="1">
          <mxGeometry height="30" width="540" y="410" as="geometry" />
        </mxCell>
        <mxCell id="YD8wXlY8oEXokaMSZj_n-740" parent="YD8wXlY8oEXokaMSZj_n-733" style="text;strokeColor=#d79b00;fillColor=#ffe6cc;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;html=1;" value="&lt;div&gt;&lt;span style=&quot;background-color: transparent; color: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));&quot;&gt;&amp;nbsp; &amp;nbsp; .flush_unissued_instr_i(flush_unissued_instr_ctrl_id),&lt;/span&gt;&lt;/div&gt;" vertex="1">
          <mxGeometry height="30" width="540" y="440" as="geometry" />
        </mxCell>
        <mxCell id="YD8wXlY8oEXokaMSZj_n-741" parent="YD8wXlY8oEXokaMSZj_n-733" style="text;strokeColor=#006EAF;fillColor=#1ba1e2;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;html=1;fontColor=#ffffff;" value="&lt;div&gt;&lt;span style=&quot;background-color: transparent; color: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));&quot;&gt;&amp;nbsp; &amp;nbsp; .fetch_entry_valid_i(fetch_valid_if_id),&lt;/span&gt;&lt;/div&gt;" vertex="1">
          <mxGeometry height="30" width="540" y="470" as="geometry" />
        </mxCell>
        <mxCell id="YD8wXlY8oEXokaMSZj_n-742" parent="YD8wXlY8oEXokaMSZj_n-733" style="text;strokeColor=#006EAF;fillColor=#1ba1e2;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;html=1;fontColor=#ffffff;" value="&lt;div&gt;&lt;span style=&quot;background-color: transparent; color: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));&quot;&gt;&amp;nbsp; &amp;nbsp; .instruction_i&amp;nbsp; &amp;nbsp; &amp;nbsp; (rvfi_fetch_instr),&lt;/span&gt;&lt;/div&gt;" vertex="1">
          <mxGeometry height="30" width="540" y="500" as="geometry" />
        </mxCell>
        <mxCell id="YD8wXlY8oEXokaMSZj_n-743" parent="YD8wXlY8oEXokaMSZj_n-733" style="text;strokeColor=default;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;html=1;" value="&lt;div&gt;&lt;span style=&quot;background-color: transparent; color: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));&quot;&gt;&amp;nbsp; &amp;nbsp; .irq_i(irq_i),&lt;/span&gt;&lt;/div&gt;" vertex="1">
          <mxGeometry height="30" width="540" y="530" as="geometry" />
        </mxCell>
        <mxCell id="YD8wXlY8oEXokaMSZj_n-744" parent="YD8wXlY8oEXokaMSZj_n-733" style="text;strokeColor=#10739e;fillColor=#b1ddf0;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;html=1;" value="&lt;div&gt;&lt;span style=&quot;background-color: transparent; color: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));&quot;&gt;&amp;nbsp; &amp;nbsp; .decoded_instr_valid_i (issue_entry_valid_id_issue),&amp;nbsp;&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;background-color: transparent; color: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));&quot;&gt;// DECODE_STAGE&lt;/span&gt;&lt;/div&gt;" vertex="1">
          <mxGeometry height="30" width="540" y="560" as="geometry" />
        </mxCell>
        <mxCell id="YD8wXlY8oEXokaMSZj_n-745" parent="YD8wXlY8oEXokaMSZj_n-733" style="text;strokeColor=#10739e;fillColor=#b1ddf0;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;html=1;" value="&lt;div&gt;&lt;span style=&quot;background-color: transparent; color: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));&quot;&gt;&amp;nbsp; &amp;nbsp; &lt;/span&gt;&lt;span style=&quot;background-color: rgb(0, 204, 0);&quot;&gt;&lt;span style=&quot;color: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));&quot;&gt;.&lt;/span&gt;&lt;span style=&quot;color: light-dark(rgb(0, 0, 0), rgb(255, 255, 255)); background-color: rgb(0, 204, 0);&quot;&gt;i&lt;/span&gt;&lt;/span&gt;&lt;span style=&quot;color: light-dark(rgb(0, 0, 0), rgb(255, 255, 255)); background-color: rgb(0, 204, 0);&quot;&gt;s_compressed_i&amp;nbsp; &amp;nbsp; (rvfi_is_compressed)&lt;/span&gt;&lt;span style=&quot;background-color: transparent; color: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));&quot;&gt;,&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;// DECODE_STAGE&lt;/span&gt;&lt;/div&gt;" vertex="1">
          <mxGeometry height="30" width="540" y="590" as="geometry" />
        </mxCell>
        <mxCell id="YD8wXlY8oEXokaMSZj_n-746" parent="YD8wXlY8oEXokaMSZj_n-733" style="text;strokeColor=default;fillColor=#fff2cc;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;html=1;" value="&lt;div&gt;&lt;span style=&quot;background-color: transparent; color: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));&quot;&gt;&amp;nbsp; &amp;nbsp; .commit_instr_i(commit_instr_id_commit),&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;&lt;/span&gt;&lt;span style=&quot;background-color: transparent; color: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));&quot;&gt;// ISSUE_STAGE&lt;/span&gt;&lt;/div&gt;" vertex="1">
          <mxGeometry height="30" width="540" y="620" as="geometry" />
        </mxCell>
        <mxCell id="YD8wXlY8oEXokaMSZj_n-747" parent="YD8wXlY8oEXokaMSZj_n-733" style="text;strokeColor=default;fillColor=#fff2cc;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;html=1;" value="&lt;div&gt;&lt;span style=&quot;background-color: transparent; color: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));&quot;&gt;&amp;nbsp; &amp;nbsp; &lt;/span&gt;&lt;span style=&quot;color: light-dark(rgb(0, 0, 0), rgb(255, 255, 255)); background-color: rgb(0, 204, 0);&quot;&gt;.rs1_i(rvfi_rs1),&lt;/span&gt;&lt;span style=&quot;color: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;background-color: transparent; color: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));&quot;&gt;// ISSUE_STAGE&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp; &amp;nbsp; &lt;span style=&quot;background-color: rgb(0, 204, 0);&quot;&gt;.rs2_i(rvfi_rs2),&lt;/span&gt;&lt;/span&gt;&lt;/div&gt;&lt;/div&gt;" vertex="1">
          <mxGeometry height="40" width="540" y="650" as="geometry" />
        </mxCell>
        <mxCell id="YD8wXlY8oEXokaMSZj_n-748" parent="YD8wXlY8oEXokaMSZj_n-733" style="text;strokeColor=default;fillColor=#fff2cc;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;html=1;" value="&lt;div&gt;&lt;span style=&quot;background-color: transparent; color: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));&quot;&gt;&amp;nbsp; &amp;nbsp; .decoded_instr_ack_i&amp;nbsp; &amp;nbsp;(issue_instr_issue_id),&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;&lt;/span&gt;&lt;span style=&quot;background-color: transparent; color: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));&quot;&gt;// ISSUE_STAGE&lt;/span&gt;&lt;/div&gt;" vertex="1">
          <mxGeometry height="30" width="540" y="690" as="geometry" />
        </mxCell>
        <mxCell id="YD8wXlY8oEXokaMSZj_n-749" parent="YD8wXlY8oEXokaMSZj_n-733" style="text;strokeColor=default;fillColor=#fff2cc;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;html=1;" value="&lt;div&gt;&lt;span style=&quot;background-color: transparent; color: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));&quot;&gt;&amp;nbsp; &amp;nbsp; .issue_instr_ack_i&amp;nbsp; (issue_instr_issue_id),&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;// ISSUE_STAGE&lt;/span&gt;&lt;/div&gt;" vertex="1">
          <mxGeometry height="30" width="540" y="720" as="geometry" />
        </mxCell>
        <mxCell id="YD8wXlY8oEXokaMSZj_n-750" parent="YD8wXlY8oEXokaMSZj_n-733" style="text;strokeColor=default;fillColor=#fff2cc;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;html=1;" value="&lt;div&gt;&lt;span style=&quot;background-color: transparent; color: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));&quot;&gt;&amp;nbsp; &amp;nbsp; &lt;/span&gt;&lt;span style=&quot;color: light-dark(rgb(0, 0, 0), rgb(255, 255, 255)); background-color: rgb(0, 204, 0);&quot;&gt;.commit_pointer_i(rvfi_commit_pointer),&lt;/span&gt;&lt;span style=&quot;color: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;&lt;/span&gt;&lt;span style=&quot;background-color: transparent; color: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));&quot;&gt;// ISSUE_STAGE&lt;/span&gt;&lt;/div&gt;" vertex="1">
          <mxGeometry height="30" width="540" y="750" as="geometry" />
        </mxCell>
        <mxCell id="YD8wXlY8oEXokaMSZj_n-751" parent="YD8wXlY8oEXokaMSZj_n-733" style="text;strokeColor=default;fillColor=#fff2cc;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;html=1;" value="&lt;div&gt;&lt;span style=&quot;background-color: transparent; color: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));&quot;&gt;&amp;nbsp; &amp;nbsp; &lt;/span&gt;&lt;span style=&quot;color: light-dark(rgb(0, 0, 0), rgb(255, 255, 255)); background-color: rgb(0, 204, 0);&quot;&gt;.issue_pointer_i (rvfi_issue_pointer),&lt;/span&gt;&lt;span style=&quot;color: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;&lt;/span&gt;&lt;span style=&quot;background-color: transparent; color: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));&quot;&gt;// ISSUE_STAGE&lt;/span&gt;&lt;/div&gt;" vertex="1">
          <mxGeometry height="30" width="540" y="780" as="geometry" />
        </mxCell>
        <mxCell id="YD8wXlY8oEXokaMSZj_n-752" parent="YD8wXlY8oEXokaMSZj_n-733" style="text;strokeColor=default;fillColor=#fff2cc;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;html=1;" value="&lt;div&gt;&lt;span style=&quot;background-color: transparent; color: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));&quot;&gt;&amp;nbsp; &amp;nbsp; .commit_drop_i (commit_drop_id_commit),&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;&lt;/span&gt;&lt;span style=&quot;background-color: transparent; color: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));&quot;&gt;// ISSUE_STAGE&lt;/span&gt;&lt;/div&gt;" vertex="1">
          <mxGeometry height="30" width="540" y="810" as="geometry" />
        </mxCell>
        <mxCell id="YD8wXlY8oEXokaMSZj_n-753" parent="YD8wXlY8oEXokaMSZj_n-733" style="text;strokeColor=#b85450;fillColor=#f8cecc;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;html=1;" value="&lt;div&gt;&lt;span style=&quot;background-color: transparent; color: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));&quot;&gt;&amp;nbsp; &amp;nbsp; .resolved_branch_i(resolved_branch),&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;// EX_STAGE&lt;/span&gt;&lt;/div&gt;" vertex="1">
          <mxGeometry height="30" width="540" y="840" as="geometry" />
        </mxCell>
        <mxCell id="YD8wXlY8oEXokaMSZj_n-754" parent="YD8wXlY8oEXokaMSZj_n-733" style="text;strokeColor=#ae4132;fillColor=#fad9d5;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;html=1;" value="&lt;div&gt;&lt;span style=&quot;background-color: transparent; color: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));&quot;&gt;&amp;nbsp; &amp;nbsp; &lt;/span&gt;&lt;span style=&quot;color: light-dark(rgb(0, 0, 0), rgb(255, 255, 255)); background-color: rgb(0, 204, 0);&quot;&gt;.mem_paddr_i (rvfi_mem_paddr),&lt;/span&gt;&lt;span style=&quot;color: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;background-color: transparent; color: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));&quot;&gt;// EX_STAGE&lt;/span&gt;&lt;/div&gt;" vertex="1">
          <mxGeometry height="30" width="540" y="870" as="geometry" />
        </mxCell>
        <mxCell id="YD8wXlY8oEXokaMSZj_n-755" parent="YD8wXlY8oEXokaMSZj_n-733" style="text;strokeColor=#ae4132;fillColor=#fad9d5;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;html=1;" value="&lt;div&gt;&lt;span style=&quot;background-color: transparent; color: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));&quot;&gt;&amp;nbsp; &amp;nbsp; &lt;/span&gt;&lt;span style=&quot;color: light-dark(rgb(0, 0, 0), rgb(255, 255, 255)); background-color: rgb(0, 204, 0);&quot;&gt;.lsu_ctrl_i&amp;nbsp; (rvfi_lsu_ctrl),&lt;/span&gt;&lt;span style=&quot;color: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;&lt;/span&gt;&lt;span style=&quot;background-color: transparent; color: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));&quot;&gt;// EX_STAGE&lt;/span&gt;&lt;/div&gt;" vertex="1">
          <mxGeometry height="30" width="540" y="900" as="geometry" />
        </mxCell>
        <mxCell id="YD8wXlY8oEXokaMSZj_n-756" parent="YD8wXlY8oEXokaMSZj_n-733" style="text;strokeColor=#b85450;fillColor=#f8cecc;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;html=1;" value="&lt;div&gt;&lt;span style=&quot;background-color: transparent; color: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));&quot;&gt;&amp;nbsp; &amp;nbsp; .flu_trans_id_ex_id_i(flu_trans_id_ex_id),&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;background-color: transparent; color: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));&quot;&gt;// EX_STAGE&lt;/span&gt;&lt;/div&gt;" vertex="1">
          <mxGeometry height="30" width="540" y="930" as="geometry" />
        </mxCell>
        <mxCell id="YD8wXlY8oEXokaMSZj_n-757" parent="YD8wXlY8oEXokaMSZj_n-733" style="text;strokeColor=#b85450;fillColor=#f8cecc;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;html=1;" value="&lt;div&gt;&lt;span style=&quot;background-color: transparent; color: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));&quot;&gt;&amp;nbsp; &amp;nbsp; .wbdata_i&amp;nbsp; &amp;nbsp; (wbdata_ex_id),&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;&lt;/span&gt;&lt;span style=&quot;background-color: transparent; color: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));&quot;&gt;// EX_STAGE&lt;/span&gt;&lt;/div&gt;" vertex="1">
          <mxGeometry height="30" width="540" y="960" as="geometry" />
        </mxCell>
        <mxCell id="YD8wXlY8oEXokaMSZj_n-758" parent="YD8wXlY8oEXokaMSZj_n-733" style="text;strokeColor=#9673a6;fillColor=#e1d5e7;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;html=1;" value="&lt;div&gt;&lt;span style=&quot;background-color: transparent; color: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));&quot;&gt;&amp;nbsp; &amp;nbsp; .ex_commit_i&amp;nbsp; &amp;nbsp;(ex_commit),&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; // COMMIT_STAGE&lt;/span&gt;&lt;/div&gt;" vertex="1">
          <mxGeometry height="30" width="540" y="990" as="geometry" />
        </mxCell>
        <mxCell id="YD8wXlY8oEXokaMSZj_n-759" parent="YD8wXlY8oEXokaMSZj_n-733" style="text;strokeColor=#9673a6;fillColor=#e1d5e7;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;html=1;" value="&lt;div&gt;&lt;span style=&quot;background-color: transparent; color: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));&quot;&gt;&amp;nbsp; &amp;nbsp; .commit_ack_i(commit_ack),&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; //&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;background-color: transparent; color: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));&quot;&gt;COMMIT_STAGE&lt;/span&gt;&lt;/div&gt;" vertex="1">
          <mxGeometry height="30" width="540" y="1020" as="geometry" />
        </mxCell>
        <mxCell id="YD8wXlY8oEXokaMSZj_n-760" parent="YD8wXlY8oEXokaMSZj_n-733" style="text;strokeColor=#9673a6;fillColor=#e1d5e7;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;html=1;" value="&lt;div&gt;&lt;span style=&quot;background-color: transparent; color: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));&quot;&gt;&amp;nbsp; &amp;nbsp; .wdata_i&amp;nbsp; &amp;nbsp; &amp;nbsp;(wdata_commit_id),&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; //&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;background-color: transparent; color: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));&quot;&gt;COMMIT_STAGE&lt;/span&gt;&lt;/div&gt;" vertex="1">
          <mxGeometry height="30" width="540" y="1050" as="geometry" />
        </mxCell>
        <mxCell id="YD8wXlY8oEXokaMSZj_n-761" parent="YD8wXlY8oEXokaMSZj_n-733" style="text;strokeColor=default;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;html=1;" value="&lt;div&gt;&lt;span style=&quot;background-color: transparent; color: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));&quot;&gt;&amp;nbsp; &amp;nbsp; .rvfi_probes_o(rvfi_probes_o)&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;);&lt;/span&gt;&lt;/div&gt;&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;...&lt;/div&gt;&lt;div&gt;...&lt;/div&gt;" vertex="1">
          <mxGeometry height="90" width="540" y="1080" as="geometry" />
        </mxCell>
        <mxCell id="YD8wXlY8oEXokaMSZj_n-762" edge="1" parent="1" source="YD8wXlY8oEXokaMSZj_n-798" style="html=1;verticalAlign=bottom;endArrow=block;curved=0;rounded=0;exitX=1;exitY=0;exitDx=0;exitDy=0;entryX=0.495;entryY=0.992;entryDx=0;entryDy=0;entryPerimeter=0;" target="YD8wXlY8oEXokaMSZj_n-761" value="dispatch">
          <mxGeometry relative="1" width="80" as="geometry">
            <Array as="points">
              <mxPoint x="16880" y="10406" />
            </Array>
            <mxPoint x="14470" y="10490" as="sourcePoint" />
            <mxPoint x="15600" y="11239" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="YD8wXlY8oEXokaMSZj_n-763" edge="1" parent="1" source="YD8wXlY8oEXokaMSZj_n-728" style="endArrow=classic;html=1;rounded=0;exitX=0.486;exitY=0.996;exitDx=0;exitDy=0;strokeWidth=7;fillColor=#b1ddf0;strokeColor=#10739e;exitPerimeter=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;" target="YD8wXlY8oEXokaMSZj_n-745" value="">
          <mxGeometry height="50" relative="1" width="50" as="geometry">
            <Array as="points">
              <mxPoint x="8450" y="5670" />
              <mxPoint x="11020" y="5790" />
              <mxPoint x="16790" y="8830" />
            </Array>
            <mxPoint x="9050" y="3020" as="sourcePoint" />
            <mxPoint x="8510" y="6160" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="YD8wXlY8oEXokaMSZj_n-764" parent="1" style="swimlane;fontStyle=0;childLayout=stackLayout;horizontal=1;startSize=26;fillColor=#008a00;horizontalStack=0;resizeParent=1;resizeParentMax=0;resizeLast=0;collapsible=1;marginBottom=0;whiteSpace=wrap;html=1;fontColor=#ffffff;strokeColor=#005700;" value="RVFI" vertex="1">
          <mxGeometry height="250" width="610" x="12430" y="3760" as="geometry" />
        </mxCell>
        <mxCell id="YD8wXlY8oEXokaMSZj_n-765" parent="YD8wXlY8oEXokaMSZj_n-764" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;html=1;" value="&lt;div&gt;&lt;div style=&quot;&quot;&gt;&lt;span style=&quot;font-size: 12px; background-color: light-dark(#ffffff, var(--ge-dark-color, #121212));&quot;&gt;// Information dedicated to RVFI - RVFI&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;&quot;&gt;&lt;span style=&quot;font-size: 12px; background-color: light-dark(#ffffff, var(--ge-dark-color, #121212));&quot;&gt;output logic [CVA6Cfg.NrIssuePorts-1:0][CVA6Cfg.XLEN-1:0] rvfi_rs1_o,&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;&quot;&gt;&lt;span style=&quot;font-size: 12px; background-color: light-dark(#ffffff, var(--ge-dark-color, #121212));&quot;&gt;// Information dedicated to RVFI - RVFI&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;&quot;&gt;&lt;span style=&quot;font-size: 12px; background-color: light-dark(#ffffff, var(--ge-dark-color, #121212));&quot;&gt;output logic [CVA6Cfg.NrIssuePorts-1:0][CVA6Cfg.XLEN-1:0] rvfi_rs2_o,&lt;/span&gt;&lt;/div&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&lt;br&gt;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;for (genvar i = 0; i &amp;lt; CVA6Cfg.NrIssuePorts; i++) begin&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp; assign rs1_forwarding_o[i] = fu_data_n[i].operand_a[CVA6Cfg.VLEN-1:0];&amp;nbsp; //forwarding or unregistered rs1 value&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp; assign rs2_forwarding_o[i] = fu_data_n[i].operand_b[CVA6Cfg.VLEN-1:0];&amp;nbsp; //forwarding or unregistered rs2 value&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp; &lt;span style=&quot;background-color: rgb(0, 204, 0);&quot;&gt;assign rvfi_rs1_o[i] = fu_data_n[i].operand_a;&lt;/span&gt;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp; &lt;span style=&quot;background-color: rgb(0, 204, 0);&quot;&gt;assign rvfi_rs2_o[i] = fu_data_n[i].operand_b;&lt;/span&gt;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;end&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&lt;br&gt;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&lt;br&gt;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&lt;br&gt;&lt;/span&gt;&lt;/div&gt;" vertex="1">
          <mxGeometry height="224" width="610" y="26" as="geometry" />
        </mxCell>
        <mxCell id="YD8wXlY8oEXokaMSZj_n-766" edge="1" parent="1" source="YD8wXlY8oEXokaMSZj_n-444" style="endArrow=classic;html=1;rounded=0;strokeWidth=7;fillColor=#008a00;strokeColor=#005700;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=0;entryY=0;entryDx=0;entryDy=0;" target="YD8wXlY8oEXokaMSZj_n-764" value="">
          <mxGeometry height="50" relative="1" width="50" as="geometry">
            <Array as="points">
              <mxPoint x="12350" y="4415" />
            </Array>
            <mxPoint x="13120" y="4450" as="sourcePoint" />
            <mxPoint x="12560" y="3910" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="YD8wXlY8oEXokaMSZj_n-767" edge="1" parent="1" source="YD8wXlY8oEXokaMSZj_n-445" style="endArrow=classic;html=1;rounded=0;strokeWidth=7;fillColor=#008a00;strokeColor=#005700;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=0;entryY=0;entryDx=0;entryDy=0;" target="YD8wXlY8oEXokaMSZj_n-764" value="">
          <mxGeometry height="50" relative="1" width="50" as="geometry">
            <Array as="points">
              <mxPoint x="12340" y="4445" />
            </Array>
            <mxPoint x="12480" y="4875" as="sourcePoint" />
            <mxPoint x="12871" y="4380" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="YD8wXlY8oEXokaMSZj_n-768" parent="1" style="swimlane;fontStyle=0;childLayout=stackLayout;horizontal=1;startSize=26;fillColor=#008a00;horizontalStack=0;resizeParent=1;resizeParentMax=0;resizeLast=0;collapsible=1;marginBottom=0;whiteSpace=wrap;html=1;fontColor=#ffffff;strokeColor=#005700;" value="RVFI" vertex="1">
          <mxGeometry height="760" width="610" x="12420" y="1560" as="geometry" />
        </mxCell>
        <mxCell id="YD8wXlY8oEXokaMSZj_n-769" parent="YD8wXlY8oEXokaMSZj_n-768" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;html=1;" value="&lt;div style=&quot;&quot;&gt;&lt;div&gt;//RVFI&lt;br&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;logic [CVA6Cfg.NrIssuePorts-1:0] num_issue;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;logic [CVA6Cfg.TRANS_ID_BITS-1:0] issue_pointer_n, issue_pointer_q;&lt;/span&gt;&lt;/div&gt;&lt;/div&gt;&lt;div&gt;&lt;span&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;logic [CVA6Cfg.NrIssuePorts:0][CVA6Cfg.TRANS_ID_BITS-1:0] issue_pointer;&lt;/span&gt;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;background-color: rgb(0, 204, 0);&quot;&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&lt;br&gt;&lt;/span&gt;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px; background-color: rgb(0, 204, 0);&quot;&gt;assign rvfi_issue_pointer_o&amp;nbsp; = issue_pointer[CVA6Cfg.NrIssuePorts-1:0];&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&lt;br&gt;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;div style=&quot;&quot;&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;assign issue_pointer[0] = &lt;b&gt;issue_pointer_q&lt;/b&gt;;&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;&quot;&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;for (genvar i = 0; i &amp;lt; CVA6Cfg.NrIssuePorts; i++) begin&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;&quot;&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp; assign &lt;b&gt;issue_pointer&lt;/b&gt;[i+1] = &lt;b&gt;issue_pointer&lt;/b&gt;[i] + &#39;d1;&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;&quot;&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;end&lt;/span&gt;&lt;/div&gt;&lt;/div&gt;&lt;div style=&quot;&quot;&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&lt;br&gt;&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;&quot;&gt;&lt;div style=&quot;font-size: 12px;&quot;&gt;// sequential process&lt;/div&gt;&lt;div style=&quot;font-size: 12px;&quot;&gt;always_ff @(posedge clk_i or negedge rst_ni) begin : regs&lt;/div&gt;&lt;div style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp; if (!rst_ni) begin&lt;/div&gt;&lt;div style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp; &amp;nbsp; ...&lt;/div&gt;&lt;div style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp; &amp;nbsp; &lt;b&gt;issue_pointer_q&lt;/b&gt;&amp;nbsp; &amp;lt;= &#39;0;&lt;/div&gt;&lt;div style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp; end else begin&lt;/div&gt;&lt;div style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp; &amp;nbsp; &lt;b&gt;issue_pointer_q&lt;/b&gt; &amp;lt;= &lt;b&gt;issue_pointer_n&lt;/b&gt;;&lt;/div&gt;&lt;div style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp; &amp;nbsp; ...&lt;/div&gt;&lt;div style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp; end&lt;/div&gt;&lt;div style=&quot;&quot;&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;end&lt;/span&gt;&lt;br&gt;&lt;br&gt;&lt;div style=&quot;&quot;&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;always_comb begin : assign_issue_pointer_n&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;&quot;&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp; &lt;b&gt;issue_pointer_n &lt;/b&gt;= &lt;b&gt;issue_pointer[num_issue];&lt;/b&gt;&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;&quot;&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp; if (flush_i) issue_pointer_n = &#39;0;&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;&quot;&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;end&lt;/span&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;&lt;div style=&quot;&quot;&gt;&lt;br&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;// maintain a FIFO with issued instructions&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;// keep track of all issued instructions&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;always_comb begin : issue_fifo&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp; // default assignment&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp; num_issue = &#39;0;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&lt;br&gt;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp; // if we got an acknowledge from the issue stage, put this scoreboard entry in the queue&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp; for (int unsigned i = 0; i &amp;lt; CVA6Cfg.NrIssuePorts; i++) begin&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp; &amp;nbsp; if (decoded_instr_valid_i[i] &amp;amp;&amp;amp; decoded_instr_ack_o[i] &amp;amp;&amp;amp; !flush_unissued_instr_i) begin&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; // the decoded instruction we put in there is valid (1st bit)&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; // increase the issue counter and advance issue pointer&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &lt;b&gt;num_issue += &#39;d1;&lt;/b&gt;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; mem_n[issue_pointer[i]] = &#39;{&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; issued: 1&#39;b1,&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; cancelled: 1&#39;b0,&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; is_rd_fpr_flag: CVA6Cfg.FpPresent &amp;amp;&amp;amp; ariane_pkg::is_rd_fpr(decoded_instr_i[i].op),&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; sbe: decoded_instr_i[i]&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; };&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp; &amp;nbsp; end&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp; end&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp; ...&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp; ...&lt;/span&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;" vertex="1">
          <mxGeometry height="734" width="610" y="26" as="geometry" />
        </mxCell>
        <mxCell id="YD8wXlY8oEXokaMSZj_n-770" edge="1" parent="1" source="YD8wXlY8oEXokaMSZj_n-399" style="endArrow=classic;html=1;rounded=0;strokeWidth=7;fillColor=#008a00;strokeColor=#005700;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=0;entryY=0;entryDx=0;entryDy=0;" target="YD8wXlY8oEXokaMSZj_n-768" value="">
          <mxGeometry height="50" relative="1" width="50" as="geometry">
            <Array as="points">
              <mxPoint x="12230" y="2565" />
              <mxPoint x="12360" y="1560" />
            </Array>
            <mxPoint x="12830" y="2540" as="sourcePoint" />
            <mxPoint x="13500" y="6343" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="YD8wXlY8oEXokaMSZj_n-771" parent="1" style="swimlane;fontStyle=0;childLayout=stackLayout;horizontal=1;startSize=26;fillColor=#008a00;horizontalStack=0;resizeParent=1;resizeParentMax=0;resizeLast=0;collapsible=1;marginBottom=0;whiteSpace=wrap;html=1;fontColor=#ffffff;strokeColor=#005700;" value="RVFI" vertex="1">
          <mxGeometry height="450" width="610" x="12420" y="2410" as="geometry" />
        </mxCell>
        <mxCell id="YD8wXlY8oEXokaMSZj_n-772" parent="YD8wXlY8oEXokaMSZj_n-771" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;html=1;" value="&lt;div style=&quot;&quot;&gt;&lt;div&gt;//RVFI&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;logic [CVA6Cfg.NrCommitPorts-1:0][CVA6Cfg.TRANS_ID_BITS-1:0] commit_pointer_n, commit_pointer_q;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px; background-color: rgb(0, 204, 0);&quot;&gt;assign rvfi_commit_pointer_o = commit_pointer_q;&lt;/span&gt;&lt;br&gt;&lt;br&gt;&lt;div style=&quot;&quot;&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;// sequential process&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;always_ff @(posedge clk_i or negedge rst_ni) begin : regs&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp; if (!rst_ni) begin&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp; &amp;nbsp; commit_pointer_q &amp;lt;= &#39;0;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp; end else begin&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp; &amp;nbsp; &lt;span style=&quot;background-color: rgb(0, 204, 0);&quot;&gt;commit_pointer_q &amp;lt;= commit_pointer_n;&lt;/span&gt;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp; end&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;end&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&lt;br&gt;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;assign &lt;b&gt;commit_pointer_n[0]&lt;/b&gt; = (flush_i) ? &#39;0 :&lt;b&gt; commit_pointer_q[0]&lt;/b&gt; + &lt;b&gt;num_commit&lt;/b&gt;;&lt;br&gt;&lt;br&gt;&lt;/span&gt;&lt;div style=&quot;&quot;&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&lt;div&gt;// precompute offsets for commit slots&lt;/div&gt;&lt;div&gt;for (genvar k = 1; k &amp;lt; CVA6Cfg.NrCommitPorts; k++) begin : gen_cnt_incr&lt;/div&gt;&lt;div&gt;&amp;nbsp; assign &lt;b&gt;commit_pointer_n[k]&lt;/b&gt; = (flush_i) ? &#39;0 : &lt;b&gt;commit_pointer_n[0]&lt;/b&gt; + &lt;b&gt;unsigned&#39;(k)&lt;/b&gt;;&lt;/div&gt;&lt;div&gt;end&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;&lt;div&gt;// FIFO counter updates&lt;/div&gt;&lt;div&gt;if (CVA6Cfg.NrCommitPorts == 2) begin : gen_commit_ports&lt;/div&gt;&lt;div&gt;&amp;nbsp;&lt;span&gt;&amp;nbsp;&lt;span&gt;assign&amp;nbsp;&lt;b style=&quot;&quot;&gt;num_commit&lt;/b&gt;&amp;nbsp;=&amp;nbsp;&lt;span style=&quot;background-color: rgb(255, 204, 255);&quot;&gt;&lt;b style=&quot;&quot;&gt;commit_ack_i[1]&lt;/b&gt;&amp;nbsp;+&amp;nbsp;&lt;b style=&quot;&quot;&gt;commit_ack_i[0]&lt;/b&gt;&lt;/span&gt;;&lt;/span&gt;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;end else begin : gen_one_commit_port&lt;/div&gt;&lt;div&gt;&amp;nbsp; assign&amp;nbsp;&lt;b&gt;num_commit&amp;nbsp;&lt;/b&gt;=&amp;nbsp;&lt;b&gt;commit_ack_i[0]&lt;/b&gt;;&lt;/div&gt;&lt;div&gt;end&lt;/div&gt;&lt;/div&gt;&lt;/span&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;" vertex="1">
          <mxGeometry height="424" width="610" y="26" as="geometry" />
        </mxCell>
        <mxCell id="YD8wXlY8oEXokaMSZj_n-773" edge="1" parent="1" source="YD8wXlY8oEXokaMSZj_n-400" style="endArrow=classic;html=1;rounded=0;strokeWidth=7;fillColor=#008a00;strokeColor=#005700;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=0;entryY=0;entryDx=0;entryDy=0;" target="YD8wXlY8oEXokaMSZj_n-771" value="">
          <mxGeometry height="50" relative="1" width="50" as="geometry">
            <Array as="points">
              <mxPoint x="12250" y="2595" />
              <mxPoint x="12350" y="2430" />
            </Array>
            <mxPoint x="12440" y="2915" as="sourcePoint" />
            <mxPoint x="12690" y="2160" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="YD8wXlY8oEXokaMSZj_n-774" parent="1" style="swimlane;fontStyle=0;childLayout=stackLayout;horizontal=1;startSize=26;fillColor=#008a00;horizontalStack=0;resizeParent=1;resizeParentMax=0;resizeLast=0;collapsible=1;marginBottom=0;whiteSpace=wrap;html=1;fontColor=#ffffff;strokeColor=#005700;" value="RVFI" vertex="1">
          <mxGeometry height="450" width="610" x="17500" y="3710" as="geometry" />
        </mxCell>
        <mxCell id="YD8wXlY8oEXokaMSZj_n-775" parent="YD8wXlY8oEXokaMSZj_n-774" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;html=1;" value="&lt;div style=&quot;&quot;&gt;&lt;div&gt;//RVFI&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;logic [CVA6Cfg.NrCommitPorts-1:0][CVA6Cfg.TRANS_ID_BITS-1:0] commit_pointer_n, commit_pointer_q;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px; background-color: rgb(0, 204, 0);&quot;&gt;assign rvfi_mem_paddr_o = speculative_queue_q[speculative_read_pointer_q].address;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&lt;br&gt;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&lt;br&gt;&lt;/span&gt;&lt;/div&gt;&lt;/div&gt;" vertex="1">
          <mxGeometry height="424" width="610" y="26" as="geometry" />
        </mxCell>
        <mxCell id="YD8wXlY8oEXokaMSZj_n-776" edge="1" parent="1" source="YD8wXlY8oEXokaMSZj_n-544" style="endArrow=classic;html=1;rounded=0;strokeWidth=7;fillColor=#008a00;strokeColor=#005700;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=0;entryY=0;entryDx=0;entryDy=0;" target="YD8wXlY8oEXokaMSZj_n-774" value="">
          <mxGeometry height="50" relative="1" width="50" as="geometry">
            <Array as="points">
              <mxPoint x="17350" y="4025" />
              <mxPoint x="17400" y="3710" />
            </Array>
            <mxPoint x="22620" y="4120" as="sourcePoint" />
            <mxPoint x="21180" y="4260" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="YD8wXlY8oEXokaMSZj_n-777" edge="1" parent="1" source="YD8wXlY8oEXokaMSZj_n-510" style="endArrow=classic;html=1;rounded=0;strokeWidth=7;fillColor=#008a00;strokeColor=#005700;entryX=0;entryY=0.5;entryDx=0;entryDy=0;exitX=1;exitY=0.5;exitDx=0;exitDy=0;" target="YD8wXlY8oEXokaMSZj_n-544" value="">
          <mxGeometry height="50" relative="1" width="50" as="geometry">
            <Array as="points">
              <mxPoint x="16450" y="4025" />
            </Array>
            <mxPoint x="14640" y="2877.999999999999" as="sourcePoint" />
            <mxPoint x="17470" y="3930" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="YD8wXlY8oEXokaMSZj_n-778" parent="1" style="swimlane;fontStyle=0;childLayout=stackLayout;horizontal=1;startSize=26;fillColor=#008a00;horizontalStack=0;resizeParent=1;resizeParentMax=0;resizeLast=0;collapsible=1;marginBottom=0;whiteSpace=wrap;html=1;fontColor=#ffffff;strokeColor=#005700;" value="RVFI" vertex="1">
          <mxGeometry height="980" width="390" x="17480" y="5070" as="geometry" />
        </mxCell>
        <mxCell id="YD8wXlY8oEXokaMSZj_n-779" parent="YD8wXlY8oEXokaMSZj_n-778" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;html=1;" value="&lt;div style=&quot;&quot;&gt;&lt;div&gt;//RVFI&lt;br&gt;&lt;span style=&quot;font-size: 12px; background-color: rgb(0, 204, 0);&quot;&gt;lsu_ctrl_t [1:0] mem_n, mem_q;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&lt;br&gt;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;// output assignment&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;always_comb begin : output_assignments&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp; if (empty) begin&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp; &amp;nbsp; &lt;span style=&quot;background-color: rgb(0, 204, 0);&quot;&gt;lsu_ctrl_o = lsu_req_i;&lt;/span&gt;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp; end else begin&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp; &amp;nbsp; &lt;span style=&quot;background-color: rgb(0, 204, 0);&quot;&gt;lsu_ctrl_o = mem_q[read_pointer_q];&lt;/span&gt;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp; end&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;end&lt;/span&gt;&lt;/div&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;background-color: transparent; color: rgba(0, 0, 0, 0);&quot;&gt;&lt;span style=&quot;background-color: transparent; font-size: 12px;&quot;&gt;&amp;nbsp; end&lt;/span&gt;&lt;font color=&quot;rgba(0, 0, 0, 0)&quot; face=&quot;monospace&quot;&gt;&lt;span style=&quot;font-size: 0px; text-wrap-mode: nowrap;&quot;&gt;%3CmxGraphModel%3E%3Croot%3E%3CmxCell%20id%3D%220%22%2F%3E%3CmxCell%20id%3D%221%22%20parent%3D%220%22%2F%3E%3CmxCell%20id%3D%222%22%20value%3D%22%22%20style%3D%22endArrow%3Dclassic%3Bhtml%3D1%3Brounded%3D0%3BstrokeWidth%3D7%3BfillColor%3D%23008a00%3BstrokeColor%3D%23005700%3BentryX%3D0.5%3BentryY%3D0%3BentryDx%3D0%3BentryDy%3D0%3BexitX%3D1%3BexitY%3D0.5%3BexitDx%3D0%3BexitDy%3D0%3B%22%20edge%3D%221%22%20parent%3D%221%22%3E%3CmxGeometry%20width%3D%2250%22%20height%3D%2250%22%20relative%3D%221%22%20as%3D%22geometry%22%3E%3CmxPoint%20x%3D%2216020%22%20y%3D%224219%22%20as%3D%22sourcePoint%22%2F%3E%3CmxPoint%20x%3D%2216215%22%20y%3D%224600%22%20as%3D%22targetPoint%22%2F%3E%3CArray%20as%3D%22points%22%3E%3CmxPoint%20x%3D%2216150%22%20y%3D%224240%22%2F%3E%3C%2FArray%3E%3C%2FmxGeometry%3E%3C%2FmxCell%3E%3C%2Froot%3E%3C%2FmxGraphModel%3E&lt;/span&gt;&lt;/font&gt;&lt;/span&gt;&lt;/div&gt;&lt;/div&gt;&lt;div&gt;&lt;div style=&quot;&quot;&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;// registers&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;&quot;&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;always_ff @(posedge clk_i or negedge rst_ni) begin&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;&quot;&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp; if (~rst_ni) begin&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;&quot;&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp; &amp;nbsp; &lt;b&gt;mem_q&lt;/b&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;&amp;lt;= &#39;0;&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;&quot;&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp; end else begin&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;&quot;&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp; &amp;nbsp; &lt;b&gt;mem_q&lt;/b&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;&amp;lt;= &lt;b&gt;mem_n&lt;/b&gt;;&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;&quot;&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp; end&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;&quot;&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;end&lt;/span&gt;&lt;/div&gt;&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;&lt;div style=&quot;&quot;&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;always_comb begin&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;&quot;&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp; automatic logic [1:0] status_cnt;&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;&quot;&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp; automatic logic write_pointer;&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;&quot;&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp; automatic logic read_pointer;&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;&quot;&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&lt;br&gt;&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;&quot;&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp; status_cnt = status_cnt_q;&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;&quot;&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp; write_pointer = write_pointer_q;&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;&quot;&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp; read_pointer = read_pointer_q;&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;&quot;&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&lt;br&gt;&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;&quot;&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp; &lt;b&gt;mem_n = mem_q&lt;/b&gt;;&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;&quot;&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp; // we&#39;ve got a valid LSU request&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;&quot;&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp; if (lsu_req_valid_i) begin&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;&quot;&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp; &amp;nbsp; &lt;b&gt;mem_n[write_pointer_q] = lsu_req_i;&lt;/b&gt;&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;&quot;&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp; &amp;nbsp; write_pointer++;&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;&quot;&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp; &amp;nbsp; status_cnt++;&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;&quot;&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp; end&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;&quot;&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&lt;br&gt;&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;&quot;&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp; if (pop_ld_i) begin&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;&quot;&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp; &amp;nbsp; // invalidate the result&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;&quot;&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp; &amp;nbsp; &lt;b&gt;mem_n[read_pointer_q].valid = 1&#39;b0;&lt;/b&gt;&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;&quot;&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp; &amp;nbsp; read_pointer++;&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;&quot;&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp; &amp;nbsp; status_cnt--;&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;&quot;&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp; end&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;&quot;&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&lt;br&gt;&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;&quot;&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp; if (pop_st_i) begin&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;&quot;&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp; &amp;nbsp; // invalidate the result&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;&quot;&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp; &amp;nbsp; &lt;b&gt;mem_n[read_pointer_q].valid = 1&#39;b0;&lt;/b&gt;&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;&quot;&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp; &amp;nbsp; read_pointer++;&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;&quot;&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp; &amp;nbsp; status_cnt--;&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;&quot;&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp; end&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;&quot;&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&lt;br&gt;&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;&quot;&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp; &lt;span&gt;&lt;b&gt;if (pop_st_i &amp;amp;&amp;amp; pop_ld_i) mem_n = &#39;0;&lt;/b&gt;&lt;/span&gt;&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;&quot;&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&lt;br&gt;&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;&quot;&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp; if (flush_i) begin&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;&quot;&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp; &amp;nbsp; status_cnt = &#39;0;&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;&quot;&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp; &amp;nbsp; write_pointer = &#39;0;&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;&quot;&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp; &amp;nbsp; read_pointer = &#39;0;&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;&quot;&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp; &amp;nbsp; &lt;b&gt;mem_n = &#39;0;&lt;/b&gt;&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;&quot;&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp; end&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;&quot;&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp; // default assignments&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;&quot;&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp; read_pointer_n&amp;nbsp; = read_pointer;&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;&quot;&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp; write_pointer_n = write_pointer;&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;&quot;&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp; status_cnt_n&amp;nbsp; &amp;nbsp; = status_cnt;&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;&quot;&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;end&lt;/span&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;" vertex="1">
          <mxGeometry height="954" width="390" y="26" as="geometry" />
        </mxCell>
        <mxCell id="YD8wXlY8oEXokaMSZj_n-780" edge="1" parent="1" source="YD8wXlY8oEXokaMSZj_n-511" style="endArrow=classic;html=1;rounded=0;strokeWidth=7;fillColor=#008a00;strokeColor=#005700;entryX=0.5;entryY=0;entryDx=0;entryDy=0;exitX=1;exitY=0.5;exitDx=0;exitDy=0;" target="YD8wXlY8oEXokaMSZj_n-783" value="">
          <mxGeometry height="50" relative="1" width="50" as="geometry">
            <Array as="points">
              <mxPoint x="16150" y="4240" />
            </Array>
            <mxPoint x="16350" y="3584" as="sourcePoint" />
            <mxPoint x="16490" y="4074" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="YD8wXlY8oEXokaMSZj_n-781" edge="1" parent="1" source="YD8wXlY8oEXokaMSZj_n-577" style="endArrow=classic;html=1;rounded=0;strokeWidth=7;fillColor=#008a00;strokeColor=#005700;entryX=0;entryY=0;entryDx=0;entryDy=0;exitX=1;exitY=0.5;exitDx=0;exitDy=0;" target="YD8wXlY8oEXokaMSZj_n-778" value="">
          <mxGeometry height="50" relative="1" width="50" as="geometry">
            <Array as="points">
              <mxPoint x="17280" y="5444" />
              <mxPoint x="17400" y="5070" />
            </Array>
            <mxPoint x="16260" y="4950" as="sourcePoint" />
            <mxPoint x="16640" y="6175" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="YD8wXlY8oEXokaMSZj_n-782" edge="1" parent="1" source="YD8wXlY8oEXokaMSZj_n-779" style="endArrow=classic;html=1;rounded=0;strokeWidth=7;fillColor=#fad9d5;strokeColor=#ae4132;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;" target="YD8wXlY8oEXokaMSZj_n-755" value="">
          <mxGeometry height="50" relative="1" width="50" as="geometry">
            <Array as="points">
              <mxPoint x="17940" y="5600" />
              <mxPoint x="17940" y="6180" />
              <mxPoint x="17240" y="7040" />
              <mxPoint x="17220" y="9143" />
            </Array>
            <mxPoint x="22490" y="5420" as="sourcePoint" />
            <mxPoint x="14410" y="8680" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="YD8wXlY8oEXokaMSZj_n-783" parent="1" style="swimlane;fontStyle=0;childLayout=stackLayout;horizontal=1;startSize=26;fillColor=#008a00;horizontalStack=0;resizeParent=1;resizeParentMax=0;resizeLast=0;collapsible=1;marginBottom=0;whiteSpace=wrap;html=1;fontColor=#ffffff;strokeColor=#005700;" value="RVFI" vertex="1">
          <mxGeometry height="180" width="390" x="16020" y="4600" as="geometry" />
        </mxCell>
        <mxCell id="YD8wXlY8oEXokaMSZj_n-784" parent="YD8wXlY8oEXokaMSZj_n-783" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;html=1;" value="&lt;div style=&quot;&quot;&gt;&lt;div&gt;//RVFI&lt;/div&gt;&lt;div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;// --------------------------------------&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;// 1st register stage - (stall registers)&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;// --------------------------------------&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;// those are the signals which are always correct&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;// e.g.: they keep the value in the stall case&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;lsu_ctrl_t lsu_ctrl, lsu_ctrl_byp;&lt;/span&gt;&lt;/div&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&lt;br&gt;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px; background-color: rgb(0, 204, 0);&quot;&gt;assign lsu_ctrl&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;= lsu_ctrl_byp;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&lt;br&gt;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&lt;br&gt;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&lt;br&gt;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&lt;br&gt;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&lt;br&gt;&lt;/span&gt;&lt;/div&gt;&lt;/div&gt;" vertex="1">
          <mxGeometry height="154" width="390" y="26" as="geometry" />
        </mxCell>
        <mxCell id="YD8wXlY8oEXokaMSZj_n-785" edge="1" parent="1" source="YD8wXlY8oEXokaMSZj_n-784" style="endArrow=classic;html=1;rounded=0;strokeWidth=7;fillColor=#008a00;strokeColor=#005700;entryX=0;entryY=0.5;entryDx=0;entryDy=0;exitX=0.489;exitY=0.996;exitDx=0;exitDy=0;exitPerimeter=0;" target="YD8wXlY8oEXokaMSZj_n-577" value="">
          <mxGeometry height="50" relative="1" width="50" as="geometry">
            <Array as="points">
              <mxPoint x="16280" y="5410" />
            </Array>
            <mxPoint x="16260" y="4430" as="sourcePoint" />
            <mxPoint x="16455" y="4811" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="YD8wXlY8oEXokaMSZj_n-786" edge="1" parent="1" source="YD8wXlY8oEXokaMSZj_n-632" style="endArrow=classic;html=1;rounded=0;strokeWidth=7;fillColor=#ffe6cc;strokeColor=#d79b00;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;" target="YD8wXlY8oEXokaMSZj_n-739" value="">
          <mxGeometry height="50" relative="1" width="50" as="geometry">
            <Array as="points">
              <mxPoint x="10250" y="640" />
              <mxPoint x="10230" y="4910" />
              <mxPoint x="17040" y="8653" />
            </Array>
            <mxPoint x="9090" y="1070" as="sourcePoint" />
            <mxPoint x="12290" y="8580" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="YD8wXlY8oEXokaMSZj_n-787" edge="1" parent="1" source="YD8wXlY8oEXokaMSZj_n-387" style="endArrow=classic;html=1;rounded=0;strokeWidth=7;fillColor=#fff2cc;strokeColor=#d6b656;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;" target="YD8wXlY8oEXokaMSZj_n-749" value="">
          <mxGeometry height="50" relative="1" width="50" as="geometry">
            <Array as="points">
              <mxPoint x="12220" y="2205" />
              <mxPoint x="16500" y="8963" />
            </Array>
            <mxPoint x="12300" y="2815" as="sourcePoint" />
            <mxPoint x="12550" y="2630" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="YD8wXlY8oEXokaMSZj_n-788" edge="1" parent="1" source="YD8wXlY8oEXokaMSZj_n-273" style="endArrow=classic;html=1;rounded=0;exitX=1;exitY=0.5;exitDx=0;exitDy=0;strokeWidth=7;fillColor=#0050ef;strokeColor=#001DBC;entryX=0;entryY=0.5;entryDx=0;entryDy=0;" target="YD8wXlY8oEXokaMSZj_n-741" value="">
          <mxGeometry height="50" relative="1" width="50" as="geometry">
            <Array as="points">
              <mxPoint x="7140" y="3779" />
              <mxPoint x="10110" y="5150" />
              <mxPoint x="16940" y="8713" />
            </Array>
            <mxPoint x="6640" y="3880" as="sourcePoint" />
            <mxPoint x="12200" y="9180" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="YD8wXlY8oEXokaMSZj_n-789" parent="1" style="swimlane;fontStyle=1;align=center;verticalAlign=top;childLayout=stackLayout;horizontal=1;startSize=40;horizontalStack=0;resizeParent=1;resizeParentMax=0;resizeLast=0;collapsible=1;marginBottom=0;whiteSpace=wrap;html=1;fillColor=#dae8fc;strokeColor=#6c8ebf;" value="&lt;span style=&quot;text-align: left;&quot;&gt;&lt;span style=&quot;font-weight: 400;&quot;&gt;uvmt_cva6_dut_wrap&lt;/span&gt;&lt;br&gt;&lt;span style=&quot;font-size: 12px; font-weight: 400;&quot;&gt;/home/ICer/proj/cva6/verif/tb/uvmt/uvmt_cva6_dut_wrap.sv&lt;/span&gt;&lt;/span&gt;" vertex="1">
          <mxGeometry height="490" width="540" x="12745" y="10310" as="geometry" />
        </mxCell>
        <mxCell id="YD8wXlY8oEXokaMSZj_n-790" parent="YD8wXlY8oEXokaMSZj_n-789" style="line;strokeWidth=1;fillColor=none;align=left;verticalAlign=middle;spacingTop=-1;spacingLeft=3;spacingRight=3;rotatable=0;labelPosition=right;points=[];portConstraint=eastwest;strokeColor=inherit;" value="" vertex="1">
          <mxGeometry height="8" width="540" y="40" as="geometry" />
        </mxCell>
        <mxCell id="YD8wXlY8oEXokaMSZj_n-791" parent="YD8wXlY8oEXokaMSZj_n-789" style="text;strokeColor=default;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;html=1;" value="&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;assign boot_addr[31:0] = &lt;span style=&quot;background-color: rgb(213, 232, 212);&quot;&gt;core_cntrl_if.boot_addr&lt;/span&gt;;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&lt;br&gt;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;cva6_tb_wrapper #(&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp;.CVA6Cfg ( CVA6Cfg ),&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp;.rvfi_instr_t&amp;nbsp; &amp;nbsp; &amp;nbsp; ( rvfi_instr_t&amp;nbsp; &amp;nbsp; &amp;nbsp; ),&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp;.rvfi_csr_elmt_t&amp;nbsp; &amp;nbsp;( rvfi_csr_elmt_t&amp;nbsp; &amp;nbsp;),&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp;.rvfi_csr_t&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; ( rvfi_csr_t&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; ),&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp;.rvfi_probes_instr_t(rvfi_probes_instr_t),&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp;.rvfi_probes_csr_t ( rvfi_probes_csr_t ),&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp;.rvfi_probes_t&amp;nbsp; &amp;nbsp; &amp;nbsp;( rvfi_probes_t&amp;nbsp; &amp;nbsp; &amp;nbsp;),&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp;.rvfi_to_iti_t&amp;nbsp; &amp;nbsp; &amp;nbsp;( rvfi_to_iti_t&amp;nbsp; &amp;nbsp; &amp;nbsp;),&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp;//&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp;.AXI_USER_EN&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;(AXI_USER_EN),&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp;.NUM_WORDS&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;(NUM_WORDS)&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;)&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp; &amp;nbsp; cva6_tb_wrapper_i&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; (&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;.clk_i&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; ( clknrst_if.clk&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;),&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;.rst_ni&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;( clknrst_if.reset_n&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;),&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;.boot_addr_i&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; ( boot_addr&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; ),&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;.irq_i&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; ( interrupt_vif.irq&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; ),&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;.debug_if&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;( debug_if&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;),&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;.axi_slave&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; ( axi_if&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;),&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;.cvxif_if&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;( cvxif_vif&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; ),&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;.axi_switch_vif&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;( axi_switch_vif&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;),&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;.default_inputs_vif&amp;nbsp; &amp;nbsp; &amp;nbsp;( default_inputs_vif&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;),&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;.tb_exit_o&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; ( tb_exit_o&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; ),&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;.rvfi_csr_o&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;( rvfi_csr_o&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;),&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;.rvfi_o&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;( rvfi_o&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;)&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;);&lt;/span&gt;&lt;/div&gt;" vertex="1">
          <mxGeometry height="442" width="540" y="48" as="geometry" />
        </mxCell>
        <mxCell id="YD8wXlY8oEXokaMSZj_n-792" edge="1" parent="1" source="YD8wXlY8oEXokaMSZj_n-731" style="html=1;verticalAlign=bottom;endArrow=block;curved=0;rounded=0;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=0;entryY=0;entryDx=0;entryDy=0;" target="YD8wXlY8oEXokaMSZj_n-789" value="dispatch">
          <mxGeometry relative="1" width="80" as="geometry">
            <Array as="points">
              <mxPoint x="12625" y="10310" />
            </Array>
            <mxPoint x="12155" y="10450" as="sourcePoint" />
            <mxPoint x="12765" y="11069" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="YD8wXlY8oEXokaMSZj_n-793" parent="1" style="swimlane;fontStyle=1;align=center;verticalAlign=top;childLayout=stackLayout;horizontal=1;startSize=40;horizontalStack=0;resizeParent=1;resizeParentMax=0;resizeLast=0;collapsible=1;marginBottom=0;whiteSpace=wrap;html=1;fillColor=#dae8fc;strokeColor=#6c8ebf;" value="&lt;span style=&quot;text-align: left;&quot;&gt;&lt;span style=&quot;font-size: 12px; font-weight: 400;&quot;&gt;cva6_tb_wrapper&lt;/span&gt;&lt;br&gt;&lt;span style=&quot;font-size: 12px; font-weight: 400;&quot;&gt;/home/ICer/proj/cva6/verif/tb/uvmt/cva6_tb_wrapper.sv&lt;/span&gt;&lt;/span&gt;" vertex="1">
          <mxGeometry height="910" width="540" x="13530" y="10358" as="geometry" />
        </mxCell>
        <mxCell id="YD8wXlY8oEXokaMSZj_n-794" parent="YD8wXlY8oEXokaMSZj_n-793" style="line;strokeWidth=1;fillColor=none;align=left;verticalAlign=middle;spacingTop=-1;spacingLeft=3;spacingRight=3;rotatable=0;labelPosition=right;points=[];portConstraint=eastwest;strokeColor=inherit;" value="" vertex="1">
          <mxGeometry height="8" width="540" y="40" as="geometry" />
        </mxCell>
        <mxCell id="YD8wXlY8oEXokaMSZj_n-795" parent="YD8wXlY8oEXokaMSZj_n-793" style="text;strokeColor=default;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;html=1;" value="&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp; cva6 #(&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp;.CVA6Cfg ( CVA6Cfg ),&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp;.rvfi_probes_instr_t&amp;nbsp; ( rvfi_probes_instr_t ),&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp;.rvfi_probes_csr_t&amp;nbsp; &amp;nbsp; ( rvfi_probes_csr_t&amp;nbsp; &amp;nbsp;),&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp;.rvfi_probes_t&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; ( rvfi_probes_t&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;)&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp; &amp;nbsp;) i_cva6 (&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp; &amp;nbsp; .clk_i&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; ( clk_i&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; ),&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp; &amp;nbsp; .rst_ni&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;( rst_ni&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;),&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp; &amp;nbsp; .boot_addr_i&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; ( boot_addr_i&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; ),//Driving the boot_addr value from the core control agent&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp; &amp;nbsp; .hart_id_i&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; ( default_inputs_vif.hart_id&amp;nbsp; &amp;nbsp;),&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp; &amp;nbsp; .irq_i&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; ( {1&#39;b0, irq_i[0]}&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;),&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp; &amp;nbsp; .ipi_i&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; ( 1&#39;b0&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;),&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp; &amp;nbsp; .time_irq_i&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;( irq_i[1]&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;),&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp; &amp;nbsp; .debug_req_i&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; ( debug_if.debug_req&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;),&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp; &amp;nbsp; .rvfi_probes_o&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; ( rvfi_probes&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; ),&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp; &amp;nbsp; .cvxif_req_o&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; ( cvxif_req&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; ),&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp; &amp;nbsp; .cvxif_resp_i&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;( cvxif_resp&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;),&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp; &amp;nbsp; .noc_req_o&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; ( axi_ariane_req&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;),&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp; &amp;nbsp; .noc_resp_i&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;( axi_ariane_resp&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; )&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp; );&lt;/span&gt;&lt;/div&gt;" vertex="1">
          <mxGeometry height="322" width="540" y="48" as="geometry" />
        </mxCell>
        <mxCell id="YD8wXlY8oEXokaMSZj_n-796" parent="YD8wXlY8oEXokaMSZj_n-793" style="text;strokeColor=default;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;html=1;" value="&lt;div&gt;&lt;span style=&quot;background-color: transparent; color: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));&quot;&gt;&amp;nbsp; //----------------------------------------------------------------------------&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp; // RVFI&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp; //----------------------------------------------------------------------------&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&lt;br&gt;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp; cva6_rvfi #(&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; .CVA6Cfg&amp;nbsp; &amp;nbsp;(CVA6Cfg),&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; .rvfi_instr_t(rvfi_instr_t),&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; .rvfi_csr_t(rvfi_csr_t),&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; .rvfi_probes_instr_t(rvfi_probes_instr_t),&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; .rvfi_probes_csr_t(rvfi_probes_csr_t),&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; .rvfi_probes_t(rvfi_probes_t),&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; .rvfi_to_iti_t(rvfi_to_iti_t)&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp; ) i_cva6_rvfi (&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; .clk_i&amp;nbsp; &amp;nbsp; &amp;nbsp;(clk_i),&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; .rst_ni&amp;nbsp; &amp;nbsp; (rst_ni),&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; .rvfi_probes_i(rvfi_probes),&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; .rvfi_instr_o(rvfi_instr),&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; .rvfi_to_iti_o&amp;nbsp; &amp;nbsp;(rvfi_to_iti),&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; .rvfi_csr_o(rvfi_csr)&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp; );&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&lt;br&gt;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp; rvfi_tracer&amp;nbsp; #(&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp; &amp;nbsp; .CVA6Cfg(CVA6Cfg),&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp; &amp;nbsp; .rvfi_instr_t(rvfi_instr_t),&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp; &amp;nbsp; .rvfi_csr_t(rvfi_csr_t),&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp; &amp;nbsp; //&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp; &amp;nbsp; .HART_ID(8&#39;h0),&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp; &amp;nbsp; .DEBUG_START(0),&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp; &amp;nbsp; .DEBUG_STOP(0)&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp; ) i_rvfi_tracer (&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp; &amp;nbsp; .clk_i(clk_i),&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp; &amp;nbsp; .rst_ni(rst_ni),&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp; &amp;nbsp; .rvfi_i(rvfi_instr),&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp; &amp;nbsp; .rvfi_csr_i(rvfi_csr),&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp; &amp;nbsp; .end_of_test_o(tb_exit_o)&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp; ) ;&lt;/span&gt;&lt;/div&gt;" vertex="1">
          <mxGeometry height="540" width="540" y="370" as="geometry" />
        </mxCell>
        <mxCell id="YD8wXlY8oEXokaMSZj_n-797" edge="1" parent="1" source="YD8wXlY8oEXokaMSZj_n-791" style="html=1;verticalAlign=bottom;endArrow=block;curved=0;rounded=0;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=0;entryY=0;entryDx=0;entryDy=0;" target="YD8wXlY8oEXokaMSZj_n-793" value="dispatch">
          <mxGeometry relative="1" width="80" as="geometry">
            <Array as="points">
              <mxPoint x="13425" y="10360" />
            </Array>
            <mxPoint x="12875" y="10809" as="sourcePoint" />
            <mxPoint x="13155" y="10640" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="YD8wXlY8oEXokaMSZj_n-798" parent="1" style="swimlane;fontStyle=1;align=center;verticalAlign=top;childLayout=stackLayout;horizontal=1;startSize=40;horizontalStack=0;resizeParent=1;resizeParentMax=0;resizeLast=0;collapsible=1;marginBottom=0;whiteSpace=wrap;html=1;fillColor=#dae8fc;strokeColor=#6c8ebf;" value="&lt;span style=&quot;text-align: left;&quot;&gt;&lt;span style=&quot;font-size: 12px; font-weight: 400;&quot;&gt;cva6&lt;/span&gt;&lt;br&gt;&lt;span style=&quot;font-size: 12px; font-weight: 400;&quot;&gt;/home/ICer/proj/cva6/core/cva6.sv&lt;/span&gt;&lt;/span&gt;" vertex="1">
          <mxGeometry height="500" width="540" x="15285" y="10406" as="geometry" />
        </mxCell>
        <mxCell id="YD8wXlY8oEXokaMSZj_n-799" parent="YD8wXlY8oEXokaMSZj_n-798" style="line;strokeWidth=1;fillColor=none;align=left;verticalAlign=middle;spacingTop=-1;spacingLeft=3;spacingRight=3;rotatable=0;labelPosition=right;points=[];portConstraint=eastwest;strokeColor=inherit;" value="" vertex="1">
          <mxGeometry height="8" width="540" y="40" as="geometry" />
        </mxCell>
        <mxCell id="YD8wXlY8oEXokaMSZj_n-800" parent="YD8wXlY8oEXokaMSZj_n-798" style="text;strokeColor=default;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;html=1;" value="" vertex="1">
          <mxGeometry height="132" width="540" y="48" as="geometry" />
        </mxCell>
        <mxCell id="YD8wXlY8oEXokaMSZj_n-801" parent="YD8wXlY8oEXokaMSZj_n-798" style="text;strokeColor=default;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;html=1;" value="&lt;div&gt;&lt;div style=&quot;&quot;&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;// --------------&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;&quot;&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;// IF &amp;lt;-&amp;gt; ID&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;&quot;&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;// --------------&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;&quot;&gt;&lt;span style=&quot;font-size: 12px; background-color: rgb(0, 204, 0);&quot;&gt;fetch_entry_t [CVA6Cfg.NrIssuePorts-1:0] fetch_entry_if_id;&lt;/span&gt;&lt;/div&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&lt;br&gt;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;//RVFI INSTR&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px; background-color: rgb(0, 204, 0);&quot;&gt;logic [CVA6Cfg.NrIssuePorts-1:0][31:0] rvfi_fetch_instr;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&lt;br&gt;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;for (genvar i = 0; i &amp;lt; CVA6Cfg.NrIssuePorts; i++) begin&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp; &lt;span style=&quot;background-color: rgb(0, 204, 0);&quot;&gt;assign rvfi_fetch_instr[i] = fetch_entry_if_id[i].instruction;&lt;/span&gt;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;end&lt;/span&gt;&lt;/div&gt;" vertex="1">
          <mxGeometry height="170" width="540" y="180" as="geometry" />
        </mxCell>
        <mxCell id="YD8wXlY8oEXokaMSZj_n-802" parent="YD8wXlY8oEXokaMSZj_n-798" style="text;strokeColor=default;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;html=1;" value="&lt;div style=&quot;&quot;&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;logic [CVA6Cfg.NrWbPorts-1:0][CVA6Cfg.XLEN-1:0] &lt;span style=&quot;background-color: rgb(0, 204, 0);&quot;&gt;wbdata_ex_id&lt;/span&gt;;&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;&quot;&gt;&lt;br&gt;&lt;/div&gt;&lt;div style=&quot;&quot;&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;assign wbdata_ex_id[FLU_WB]&amp;nbsp; &amp;nbsp;= flu_result_ex_id;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;assign wbdata_ex_id[STORE_WB]&amp;nbsp; &amp;nbsp;= store_result_ex_id;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;assign wbdata_ex_id[LOAD_WB]&amp;nbsp; &amp;nbsp;= load_result_ex_id;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;assign wbdata_ex_id[FPU_WB]&amp;nbsp; &amp;nbsp;= fpu_result_ex_id;&lt;/span&gt;&lt;/div&gt;&lt;/div&gt;" vertex="1">
          <mxGeometry height="150" width="540" y="350" as="geometry" />
        </mxCell>
        <mxCell id="YD8wXlY8oEXokaMSZj_n-803" edge="1" parent="1" source="YD8wXlY8oEXokaMSZj_n-795" style="html=1;verticalAlign=bottom;endArrow=block;curved=0;rounded=0;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=0;entryY=0;entryDx=0;entryDy=0;" target="YD8wXlY8oEXokaMSZj_n-798" value="dispatch">
          <mxGeometry relative="1" width="80" as="geometry">
            <Array as="points">
              <mxPoint x="14155" y="10410" />
            </Array>
            <mxPoint x="14585" y="10531" as="sourcePoint" />
            <mxPoint x="14830" y="10310" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="YD8wXlY8oEXokaMSZj_n-804" edge="1" parent="1" source="YD8wXlY8oEXokaMSZj_n-274" style="endArrow=classic;html=1;rounded=0;exitX=1;exitY=0.5;exitDx=0;exitDy=0;strokeWidth=7;fillColor=#0050ef;strokeColor=#001DBC;entryX=0;entryY=0.5;entryDx=0;entryDy=0;" target="YD8wXlY8oEXokaMSZj_n-801" value="">
          <mxGeometry height="50" relative="1" width="50" as="geometry">
            <Array as="points">
              <mxPoint x="7120" y="3809" />
              <mxPoint x="10610" y="6960" />
              <mxPoint x="15120" y="10671" />
            </Array>
            <mxPoint x="6160" y="3880" as="sourcePoint" />
            <mxPoint x="12420" y="8746" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="YD8wXlY8oEXokaMSZj_n-805" edge="1" parent="1" source="YD8wXlY8oEXokaMSZj_n-801" style="endArrow=classic;html=1;rounded=0;exitX=1;exitY=0.5;exitDx=0;exitDy=0;strokeWidth=7;fillColor=#0050ef;strokeColor=#001DBC;entryX=0;entryY=0.5;entryDx=0;entryDy=0;" target="YD8wXlY8oEXokaMSZj_n-742" value="">
          <mxGeometry height="50" relative="1" width="50" as="geometry">
            <Array as="points">
              <mxPoint x="15940" y="10671" />
              <mxPoint x="16940" y="8743" />
            </Array>
            <mxPoint x="15720" y="9640" as="sourcePoint" />
            <mxPoint x="16160" y="9090" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="YD8wXlY8oEXokaMSZj_n-806" edge="1" parent="1" source="YD8wXlY8oEXokaMSZj_n-633" style="endArrow=classic;html=1;rounded=0;strokeWidth=7;fillColor=#ffe6cc;strokeColor=#d79b00;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;" target="YD8wXlY8oEXokaMSZj_n-740" value="">
          <mxGeometry height="50" relative="1" width="50" as="geometry">
            <Array as="points">
              <mxPoint x="10200" y="690" />
              <mxPoint x="10200" y="4985" />
              <mxPoint x="16970" y="8683" />
            </Array>
            <mxPoint x="8110" y="-150" as="sourcePoint" />
            <mxPoint x="12490" y="8720" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="YD8wXlY8oEXokaMSZj_n-807" edge="1" parent="1" source="YD8wXlY8oEXokaMSZj_n-317" style="endArrow=classic;html=1;rounded=0;exitX=1;exitY=0.5;exitDx=0;exitDy=0;strokeWidth=7;fillColor=#b1ddf0;strokeColor=#10739e;entryX=0;entryY=0.5;entryDx=0;entryDy=0;" target="YD8wXlY8oEXokaMSZj_n-744" value="">
          <mxGeometry height="50" relative="1" width="50" as="geometry">
            <Array as="points">
              <mxPoint x="8910" y="2830" />
              <mxPoint x="8920" y="5800" />
              <mxPoint x="10910" y="5840" />
              <mxPoint x="16800" y="8800" />
            </Array>
            <mxPoint x="9250" y="2720" as="sourcePoint" />
            <mxPoint x="11590" y="9020" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="YD8wXlY8oEXokaMSZj_n-808" edge="1" parent="1" source="YD8wXlY8oEXokaMSZj_n-387" style="endArrow=classic;html=1;rounded=0;strokeWidth=7;fillColor=#fff2cc;strokeColor=#d6b656;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;" target="YD8wXlY8oEXokaMSZj_n-748" value="">
          <mxGeometry height="50" relative="1" width="50" as="geometry">
            <Array as="points">
              <mxPoint x="12220" y="2205" />
              <mxPoint x="16530" y="8933" />
            </Array>
            <mxPoint x="12050.000000000002" y="2170" as="sourcePoint" />
            <mxPoint x="12220.000000000002" y="8880" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="YD8wXlY8oEXokaMSZj_n-809" edge="1" parent="1" source="YD8wXlY8oEXokaMSZj_n-396" style="endArrow=classic;html=1;rounded=0;strokeWidth=7;fillColor=#fff2cc;strokeColor=#d6b656;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;" target="YD8wXlY8oEXokaMSZj_n-746" value="">
          <mxGeometry height="50" relative="1" width="50" as="geometry">
            <Array as="points">
              <mxPoint x="12200" y="2480" />
              <mxPoint x="16690" y="8863" />
            </Array>
            <mxPoint x="12220" y="2350" as="sourcePoint" />
            <mxPoint x="12390" y="9060" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="YD8wXlY8oEXokaMSZj_n-810" edge="1" parent="1" source="YD8wXlY8oEXokaMSZj_n-397" style="endArrow=classic;html=1;rounded=0;strokeWidth=7;fillColor=#fff2cc;strokeColor=#d6b656;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;" target="YD8wXlY8oEXokaMSZj_n-752" value="">
          <mxGeometry height="50" relative="1" width="50" as="geometry">
            <Array as="points">
              <mxPoint x="12270" y="2510" />
              <mxPoint x="16090" y="9053" />
            </Array>
            <mxPoint x="12320" y="2520" as="sourcePoint" />
            <mxPoint x="13060" y="9040" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="YD8wXlY8oEXokaMSZj_n-811" parent="1" style="swimlane;fontStyle=0;childLayout=stackLayout;horizontal=1;startSize=26;fillColor=#008a00;horizontalStack=0;resizeParent=1;resizeParentMax=0;resizeLast=0;collapsible=1;marginBottom=0;whiteSpace=wrap;html=1;fontColor=#ffffff;strokeColor=#005700;" value="RVFI" vertex="1">
          <mxGeometry height="750" width="740" x="20240" y="3050" as="geometry" />
        </mxCell>
        <mxCell id="YD8wXlY8oEXokaMSZj_n-812" parent="YD8wXlY8oEXokaMSZj_n-811" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;html=1;" value="&lt;div style=&quot;&quot;&gt;&lt;div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;// -----------------------------&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;// Exception &amp;amp; Interrupt Logic&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;// -----------------------------&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;// here we know for sure that we are taking the exception&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;always_comb begin : exception_handling&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp; // Multiple simultaneous interrupts and traps at the same privilege level are handled in the following decreasing&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp; // priority order: external interrupts, software interrupts, timer interrupts, then finally any synchronous traps. (1.10 p.30)&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp; // interrupts are correctly prioritized in the CSR reg file, exceptions are prioritized here&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp; exception_o.valid = 1&#39;b0;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp; exception_o.cause = &#39;0;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp; exception_o.tval&amp;nbsp; = &#39;0;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp; exception_o.tval2 = &#39;0;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp; exception_o.tinst = &#39;0;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp; exception_o.gva&amp;nbsp; &amp;nbsp;= 1&#39;b0;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&lt;br&gt;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp; // we need a valid instruction in the commit stage&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp; if (commit_instr_i[0].valid &amp;amp;&amp;amp; !commit_drop_i[0]) begin&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp; &amp;nbsp; // ------------------------&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp; &amp;nbsp; // check for CSR exception&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp; &amp;nbsp; // ------------------------&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp; &amp;nbsp; if (csr_exception_i.valid) begin&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; exception_o&amp;nbsp; &amp;nbsp; &amp;nbsp; = csr_exception_i;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; // if no earlier exception happened the commit instruction will still contain&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; // the instruction bits from the ID stage. If a earlier exception happened we don&#39;t care&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; // as we will overwrite it anyway in the next IF bl&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; exception_o.tval = commit_instr_i[0].ex.tval;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; if (CVA6Cfg.RVH) begin&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; exception_o.tinst = commit_instr_i[0].ex.tinst;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; exception_o.tval2 = commit_instr_i[0].ex.tval2;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; exception_o.gva&amp;nbsp; &amp;nbsp;= commit_instr_i[0].ex.gva;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; end&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp; &amp;nbsp; end&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp; &amp;nbsp; // ------------------------&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp; &amp;nbsp; // Earlier Exceptions&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp; &amp;nbsp; // ------------------------&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp; &amp;nbsp; // but we give precedence to exceptions which happened earlier e.g.: instruction page&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp; &amp;nbsp; // faults for example&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp; &amp;nbsp; if (commit_instr_i[0].ex.valid) begin&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; exception_o = commit_instr_i[0].ex;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp; &amp;nbsp; end&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp; end&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp; // Don&#39;t take any exceptions iff:&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp; // - If we halted the processor&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp; if (halt_i) begin&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp; &amp;nbsp; exception_o.valid = 1&#39;b0;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp; end&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;end&lt;/span&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;" vertex="1">
          <mxGeometry height="724" width="740" y="26" as="geometry" />
        </mxCell>
        <mxCell id="YD8wXlY8oEXokaMSZj_n-813" edge="1" parent="1" source="YD8wXlY8oEXokaMSZj_n-612" style="endArrow=classic;html=1;rounded=0;strokeWidth=7;fillColor=#008a00;strokeColor=#005700;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=0;entryY=0;entryDx=0;entryDy=0;" target="YD8wXlY8oEXokaMSZj_n-811" value="">
          <mxGeometry height="50" relative="1" width="50" as="geometry">
            <Array as="points">
              <mxPoint x="20040" y="3085" />
              <mxPoint x="20150" y="3050" />
            </Array>
            <mxPoint x="20060" y="3325" as="sourcePoint" />
            <mxPoint x="20250" y="3010" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="YD8wXlY8oEXokaMSZj_n-814" edge="1" parent="1" source="YD8wXlY8oEXokaMSZj_n-812" style="endArrow=classic;html=1;rounded=0;strokeWidth=7;fillColor=#e1d5e7;strokeColor=#9673a6;exitX=0.526;exitY=1.001;exitDx=0;exitDy=0;exitPerimeter=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;" target="YD8wXlY8oEXokaMSZj_n-758" value="">
          <mxGeometry height="50" relative="1" width="50" as="geometry">
            <Array as="points">
              <mxPoint x="20610" y="7870" />
              <mxPoint x="17050" y="7870" />
              <mxPoint x="17090" y="9233" />
            </Array>
            <mxPoint x="20040" y="3215" as="sourcePoint" />
            <mxPoint x="12610" y="8420" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="YD8wXlY8oEXokaMSZj_n-815" edge="1" parent="1" source="YD8wXlY8oEXokaMSZj_n-686" style="endArrow=classic;html=1;rounded=0;exitX=1;exitY=0.5;exitDx=0;exitDy=0;strokeWidth=7;fillColor=#d5e8d4;strokeColor=#82b366;entryX=0;entryY=0.5;entryDx=0;entryDy=0;" target="YD8wXlY8oEXokaMSZj_n-736" value="">
          <mxGeometry height="50" relative="1" width="50" as="geometry">
            <Array as="points">
              <mxPoint x="13680" y="-30" />
              <mxPoint x="13690" y="6230" />
              <mxPoint x="17150" y="7020" />
              <mxPoint x="17150" y="8560" />
            </Array>
            <mxPoint x="13310" y="460" as="sourcePoint" />
            <mxPoint x="14070" y="8800" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="YD8wXlY8oEXokaMSZj_n-816" edge="1" parent="1" source="YD8wXlY8oEXokaMSZj_n-802" style="endArrow=classic;html=1;rounded=0;exitX=1;exitY=0.5;exitDx=0;exitDy=0;strokeWidth=7;fillColor=#f8cecc;strokeColor=#b85450;entryX=0;entryY=0.5;entryDx=0;entryDy=0;" target="YD8wXlY8oEXokaMSZj_n-757" value="">
          <mxGeometry height="50" relative="1" width="50" as="geometry">
            <Array as="points">
              <mxPoint x="15980" y="10831" />
              <mxPoint x="17290" y="9200" />
            </Array>
            <mxPoint x="16070" y="11541" as="sourcePoint" />
            <mxPoint x="17440" y="9385" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="YD8wXlY8oEXokaMSZj_n-817" edge="1" parent="1" source="YD8wXlY8oEXokaMSZj_n-607" style="endArrow=classic;html=1;rounded=0;strokeWidth=7;fillColor=#e1d5e7;strokeColor=#9673a6;entryX=0;entryY=0.5;entryDx=0;entryDy=0;exitX=1;exitY=0.5;exitDx=0;exitDy=0;" target="YD8wXlY8oEXokaMSZj_n-759" value="">
          <mxGeometry height="50" relative="1" width="50" as="geometry">
            <Array as="points">
              <mxPoint x="20030" y="2935" />
              <mxPoint x="20030" y="7950" />
              <mxPoint x="16980" y="7950" />
              <mxPoint x="17000" y="9260" />
            </Array>
            <mxPoint x="19940" y="3390" as="sourcePoint" />
            <mxPoint x="12930" y="10164" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="YD8wXlY8oEXokaMSZj_n-818" edge="1" parent="1" source="YD8wXlY8oEXokaMSZj_n-608" style="endArrow=classic;html=1;rounded=0;strokeWidth=7;fillColor=#e1d5e7;strokeColor=#9673a6;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;" target="YD8wXlY8oEXokaMSZj_n-760" value="">
          <mxGeometry height="50" relative="1" width="50" as="geometry">
            <Array as="points">
              <mxPoint x="19980" y="2965" />
              <mxPoint x="19960" y="7980" />
              <mxPoint x="16910" y="7980" />
              <mxPoint x="16930" y="9293" />
            </Array>
            <mxPoint x="20290" y="3870" as="sourcePoint" />
            <mxPoint x="12870" y="9430" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="YD8wXlY8oEXokaMSZj_n-819" edge="1" parent="1" source="YD8wXlY8oEXokaMSZj_n-479" style="endArrow=classic;html=1;rounded=0;strokeWidth=7;fillColor=#f8cecc;strokeColor=#b85450;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;" target="YD8wXlY8oEXokaMSZj_n-753" value="">
          <mxGeometry height="50" relative="1" width="50" as="geometry">
            <Array as="points">
              <mxPoint x="18300" y="2960" />
              <mxPoint x="18260" y="6320" />
              <mxPoint x="17320" y="7100" />
              <mxPoint x="17300" y="9083" />
            </Array>
            <mxPoint x="16170" y="2460" as="sourcePoint" />
            <mxPoint x="12390" y="8250" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="YD8wXlY8oEXokaMSZj_n-820" edge="1" parent="1" source="YD8wXlY8oEXokaMSZj_n-455" style="endArrow=classic;html=1;rounded=0;strokeWidth=7;fillColor=#008a00;strokeColor=#005700;entryX=0.5;entryY=0;entryDx=0;entryDy=0;exitX=0.519;exitY=0.962;exitDx=0;exitDy=0;exitPerimeter=0;" target="YD8wXlY8oEXokaMSZj_n-821" value="">
          <mxGeometry height="50" relative="1" width="50" as="geometry">
            <Array as="points">
              <mxPoint x="14370" y="3120" />
            </Array>
            <mxPoint x="16160" y="3641" as="sourcePoint" />
            <mxPoint x="14440.869999999999" y="3296.8199999999997" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="YD8wXlY8oEXokaMSZj_n-821" parent="1" style="swimlane;fontStyle=0;childLayout=stackLayout;horizontal=1;startSize=26;fillColor=#008a00;horizontalStack=0;resizeParent=1;resizeParentMax=0;resizeLast=0;collapsible=1;marginBottom=0;whiteSpace=wrap;html=1;fontColor=#ffffff;strokeColor=#005700;" value="RVFI" vertex="1">
          <mxGeometry height="490" width="550" x="14180" y="3330" as="geometry" />
        </mxCell>
        <mxCell id="YD8wXlY8oEXokaMSZj_n-822" parent="YD8wXlY8oEXokaMSZj_n-821" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;html=1;" value="&lt;div style=&quot;&quot;&gt;&lt;div&gt;&lt;div&gt;&lt;span style=&quot;color: light-dark(rgb(0, 0, 0), rgb(255, 255, 255)); background-color: rgb(0, 204, 0);&quot;&gt;output logic [CVA6Cfg.TRANS_ID_BITS-1:0] flu_trans_id_o&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&lt;b&gt;&lt;br&gt;&lt;/b&gt;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&lt;b&gt;fu_data_t one_cycle_data;&lt;/b&gt;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&lt;br&gt;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;// result MUX&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;always_comb begin&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp; // Branch result as default case&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp; flu_result_o&amp;nbsp; &amp;nbsp;= {{CVA6Cfg.XLEN - CVA6Cfg.VLEN{1&#39;b0}}, branch_result};&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp; &lt;span style=&quot;background-color: rgb(0, 204, 0);&quot;&gt;flu_trans_id_o = one_cycle_data.trans_id;&lt;/span&gt;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp; // ALU result&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp; if (|alu_valid_i) begin&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp; &amp;nbsp; flu_result_o = alu_result[0];&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp; &amp;nbsp; // CSR result&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp; end else if (|csr_valid_i) begin&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp; &amp;nbsp; flu_result_o = csr_result;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp; end else if (mult_valid) begin&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp; &amp;nbsp; flu_result_o&amp;nbsp; &amp;nbsp;= mult_result;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp; &amp;nbsp; flu_trans_id_o = mult_trans_id;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp; end else if (|aes_valid_i) begin&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp; &amp;nbsp; flu_result_o = aes_result;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp; end&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;end&lt;/span&gt;&lt;/div&gt;&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;&lt;div style=&quot;&quot;&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;always_comb begin&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;&quot;&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp; // data silence operation&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;&quot;&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp; &lt;b&gt;one_cycle_data = one_cycle_select[0] ? fu_data_i[0] : &#39;0;&lt;/b&gt;&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;&quot;&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&lt;br&gt;&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;&quot;&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp; if (CVA6Cfg.SuperscalarEn) begin&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;&quot;&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp; &amp;nbsp; if (one_cycle_select[1]) begin&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;&quot;&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &lt;b&gt;one_cycle_data = fu_data_i[1];&lt;/b&gt;&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;&quot;&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp; &amp;nbsp; end&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;&quot;&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp; end&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;&quot;&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;end&lt;/span&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;" vertex="1">
          <mxGeometry height="464" width="550" y="26" as="geometry" />
        </mxCell>
        <mxCell id="YD8wXlY8oEXokaMSZj_n-823" edge="1" parent="1" source="YD8wXlY8oEXokaMSZj_n-822" style="endArrow=classic;html=1;rounded=0;strokeWidth=7;fillColor=#f8cecc;strokeColor=#b85450;exitX=0.472;exitY=0.995;exitDx=0;exitDy=0;exitPerimeter=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;" target="YD8wXlY8oEXokaMSZj_n-756" value="">
          <mxGeometry height="50" relative="1" width="50" as="geometry">
            <Array as="points">
              <mxPoint x="17200" y="6980" />
              <mxPoint x="17190" y="9173" />
            </Array>
            <mxPoint x="14447" y="3822" as="sourcePoint" />
            <mxPoint x="12740" y="9520" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="YD8wXlY8oEXokaMSZj_n-824" parent="1" style="swimlane;fontStyle=1;align=center;verticalAlign=top;childLayout=stackLayout;horizontal=1;startSize=40;horizontalStack=0;resizeParent=1;resizeParentMax=0;resizeLast=0;collapsible=1;marginBottom=0;whiteSpace=wrap;html=1;fillColor=#008a00;strokeColor=#005700;fontColor=#ffffff;" value="&lt;span style=&quot;text-align: left;&quot;&gt;&lt;span style=&quot;font-size: 12px; font-weight: 400;&quot;&gt;cva6_rvfi_probes&lt;/span&gt;&lt;br&gt;&lt;span style=&quot;font-size: 12px; font-weight: 400;&quot;&gt;/home/ICer/proj/cva6/core/cva6_rvfi_probes.sv&lt;/span&gt;&lt;/span&gt;" vertex="1">
          <mxGeometry height="1910" width="790" x="18480" y="8228" as="geometry" />
        </mxCell>
        <mxCell id="YD8wXlY8oEXokaMSZj_n-825" parent="YD8wXlY8oEXokaMSZj_n-824" style="line;strokeWidth=1;fillColor=none;align=left;verticalAlign=middle;spacingTop=-1;spacingLeft=3;spacingRight=3;rotatable=0;labelPosition=right;points=[];portConstraint=eastwest;strokeColor=inherit;" value="" vertex="1">
          <mxGeometry height="8" width="790" y="40" as="geometry" />
        </mxCell>
        <mxCell id="YD8wXlY8oEXokaMSZj_n-826" parent="YD8wXlY8oEXokaMSZj_n-824" style="text;strokeColor=default;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;html=1;" value="&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;module cva6_rvfi_probes&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp; import ariane_pkg::*;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;#(&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp; &amp;nbsp; parameter config_pkg::cva6_cfg_t CVA6Cfg = config_pkg::cva6_cfg_empty,&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp; &amp;nbsp; parameter type exception_t = logic,&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp; &amp;nbsp; parameter type scoreboard_entry_t = logic,&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp; &amp;nbsp; parameter type lsu_ctrl_t = logic,&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp; &amp;nbsp; parameter type bp_resolve_t = logic,&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp; &amp;nbsp; parameter type rvfi_probes_instr_t = logic,&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp; &amp;nbsp; parameter type rvfi_probes_csr_t = logic,&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp; &amp;nbsp; parameter type rvfi_probes_t = logic&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&lt;br&gt;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;) (&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&lt;br&gt;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp; &amp;nbsp; input logic&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; flush_i,&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp; &amp;nbsp; input logic [CVA6Cfg.NrIssuePorts-1:0]&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;issue_instr_ack_i,&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp; &amp;nbsp; input logic [CVA6Cfg.NrIssuePorts-1:0]&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;fetch_entry_valid_i,&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp; &amp;nbsp; input logic [CVA6Cfg.NrIssuePorts-1:0][31:0] instruction_i,&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp; &amp;nbsp; input logic [CVA6Cfg.NrIssuePorts-1:0]&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;is_compressed_i,&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&lt;br&gt;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp; &amp;nbsp; input logic [CVA6Cfg.NrIssuePorts-1 : 0][CVA6Cfg.TRANS_ID_BITS-1:0] issue_pointer_i,&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp; &amp;nbsp; input logic [ CVA6Cfg.NrCommitPorts-1:0][CVA6Cfg.TRANS_ID_BITS-1:0] commit_pointer_i,&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&lt;br&gt;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp; &amp;nbsp; input logic flush_unissued_instr_i,&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp; &amp;nbsp; input logic [CVA6Cfg.NrIssuePorts-1:0] decoded_instr_valid_i,&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp; &amp;nbsp; input logic [CVA6Cfg.NrIssuePorts-1:0] decoded_instr_ack_i,&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&lt;br&gt;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp; &amp;nbsp; input logic [CVA6Cfg.NrIssuePorts-1:0][CVA6Cfg.XLEN-1:0] rs1_i,&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp; &amp;nbsp; input logic [CVA6Cfg.NrIssuePorts-1:0][CVA6Cfg.XLEN-1:0] rs2_i,&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&lt;br&gt;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp; &amp;nbsp; input scoreboard_entry_t [CVA6Cfg.NrCommitPorts-1:0] commit_instr_i,&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp; &amp;nbsp; input logic [CVA6Cfg.NrCommitPorts-1:0] commit_drop_i,&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp; &amp;nbsp; input exception_t ex_commit_i,&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp; &amp;nbsp; input riscv::priv_lvl_t priv_lvl_i,&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&lt;br&gt;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp; &amp;nbsp; input lsu_ctrl_t&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;lsu_ctrl_i,&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp; &amp;nbsp; input logic&amp;nbsp; &amp;nbsp; &amp;nbsp; [&amp;nbsp; &amp;nbsp; CVA6Cfg.NrWbPorts-1:0][CVA6Cfg.XLEN-1:0] wbdata_i,&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp; &amp;nbsp; input logic&amp;nbsp; &amp;nbsp; &amp;nbsp; [CVA6Cfg.NrCommitPorts-1:0]&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;commit_ack_i,&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp; &amp;nbsp; input logic&amp;nbsp; &amp;nbsp; &amp;nbsp; [&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;CVA6Cfg.PLEN-1:0]&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;mem_paddr_i,&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp; &amp;nbsp; input logic&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; debug_mode_i,&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp; &amp;nbsp; input logic&amp;nbsp; &amp;nbsp; &amp;nbsp; [CVA6Cfg.NrCommitPorts-1:0][CVA6Cfg.XLEN-1:0] wdata_i,&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&lt;br&gt;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp; &amp;nbsp; input rvfi_probes_csr_t csr_i,&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp; &amp;nbsp; input logic [1:0] irq_i,&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp; &amp;nbsp; input bp_resolve_t resolved_branch_i,&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp; &amp;nbsp; input [CVA6Cfg.TRANS_ID_BITS-1:0] flu_trans_id_ex_id_i,&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&lt;br&gt;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp; &amp;nbsp; output rvfi_probes_t rvfi_probes_o&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;);&lt;/span&gt;&lt;/div&gt;" vertex="1">
          <mxGeometry height="732" width="790" y="48" as="geometry" />
        </mxCell>
        <mxCell id="YD8wXlY8oEXokaMSZj_n-827" parent="YD8wXlY8oEXokaMSZj_n-824" style="text;strokeColor=default;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;html=1;" value="&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;rvfi_probes_csr_t&amp;nbsp; &amp;nbsp;csr;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;rvfi_probes_instr_t instr;&lt;/span&gt;&lt;/div&gt;" vertex="1">
          <mxGeometry height="40" width="790" y="780" as="geometry" />
        </mxCell>
        <mxCell id="YD8wXlY8oEXokaMSZj_n-828" parent="YD8wXlY8oEXokaMSZj_n-824" style="text;strokeColor=default;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;html=1;" value="&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;always_comb begin&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp; csr = &#39;0;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp; instr = &#39;0;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&lt;br&gt;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp; instr.flush = flush_i;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp; instr.issue_instr_ack = issue_instr_ack_i;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp; instr.fetch_entry_valid = fetch_entry_valid_i;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp; instr.instruction = instruction_i;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp; instr.is_compressed = is_compressed_i;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&lt;br&gt;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp; instr.issue_pointer = issue_pointer_i;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&lt;br&gt;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp; instr.flush_unissued_instr = flush_unissued_instr_i;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp; instr.decoded_instr_valid = decoded_instr_valid_i;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp; instr.decoded_instr_ack = decoded_instr_ack_i;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&lt;br&gt;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp; instr.rs1 = rs1_i;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp; instr.rs2 = rs2_i;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&lt;br&gt;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp; instr.ex_commit_cause = ex_commit_i.cause;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp; instr.ex_commit_valid = ex_commit_i.valid;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp; if (CVA6Cfg.TvalEn) begin&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp; &amp;nbsp; instr.tval = ex_commit_i.tval;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp; end else begin&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp; &amp;nbsp; instr.tval = &#39;0;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp; end&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&lt;br&gt;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp; instr.priv_lvl = priv_lvl_i;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&lt;br&gt;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp; instr.lsu_ctrl_vaddr = lsu_ctrl_i.vaddr;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp; instr.lsu_ctrl_fu = lsu_ctrl_i.fu;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp; instr.lsu_ctrl_be = lsu_ctrl_i.be;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp; instr.lsu_ctrl_trans_id = lsu_ctrl_i.trans_id;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&lt;br&gt;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp; instr.wbdata = wbdata_i;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp; instr.mem_paddr = mem_paddr_i;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp; instr.debug_mode = debug_mode_i;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&lt;br&gt;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp; instr.commit_pointer = commit_pointer_i;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&lt;br&gt;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp; for (int i = 0; i &amp;lt; CVA6Cfg.NrCommitPorts; i++) begin&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp; &amp;nbsp; instr.commit_instr_pc[i] = commit_instr_i[i].pc;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp; &amp;nbsp; instr.commit_instr_op[i] = commit_instr_i[i].op;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp; &amp;nbsp; instr.commit_instr_rs1[i] = commit_instr_i[i].rs1;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp; &amp;nbsp; instr.commit_instr_rs2[i] = commit_instr_i[i].rs2;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp; &amp;nbsp; instr.commit_instr_rd[i] = commit_instr_i[i].rd;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp; &amp;nbsp; instr.commit_instr_result[i] = commit_instr_i[i].result;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp; &amp;nbsp; instr.commit_instr_valid[i] = commit_instr_i[i].valid;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp; end&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&lt;br&gt;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp; instr.commit_drop = commit_drop_i;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp; instr.commit_ack = commit_ack_i;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp; instr.wdata = wdata_i;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&lt;br&gt;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp; instr.branch_valid = resolved_branch_i.valid;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp; instr.is_taken = resolved_branch_i.is_taken;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp; instr.branch_trans_id = flu_trans_id_ex_id_i;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&lt;br&gt;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp; csr = csr_i;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp; csr.mip_q = csr_i.mip_q | ({{CVA6Cfg.XLEN - 1{1&#39;b0}}, CVA6Cfg.RVS &amp;amp;&amp;amp; irq_i[1]} &amp;lt;&amp;lt; riscv::IRQ_S_EXT);&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&lt;br&gt;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;end&lt;/span&gt;&lt;/div&gt;" vertex="1">
          <mxGeometry height="920" width="790" y="820" as="geometry" />
        </mxCell>
        <mxCell id="YD8wXlY8oEXokaMSZj_n-829" parent="YD8wXlY8oEXokaMSZj_n-824" style="text;strokeColor=default;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;html=1;" value="&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;always_comb begin&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp; rvfi_probes_o = &#39;0;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&lt;br&gt;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp; if ($bits(rvfi_probes_o.instr) == $bits(instr)) begin&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp; &amp;nbsp; rvfi_probes_o.instr = instr;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp; end&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&lt;br&gt;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp; if ($bits(rvfi_probes_o.csr) == $bits(csr)) begin&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp; &amp;nbsp; rvfi_probes_o.csr = csr;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp; end&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;end&lt;/span&gt;&lt;/div&gt;" vertex="1">
          <mxGeometry height="170" width="790" y="1740" as="geometry" />
        </mxCell>
        <mxCell id="YD8wXlY8oEXokaMSZj_n-830" edge="1" parent="1" source="YD8wXlY8oEXokaMSZj_n-707" style="endArrow=classic;html=1;rounded=0;strokeWidth=7;fillColor=#d5e8d4;strokeColor=#82b366;entryX=0;entryY=0.5;entryDx=0;entryDy=0;exitX=1;exitY=0.5;exitDx=0;exitDy=0;" target="YD8wXlY8oEXokaMSZj_n-737" value="">
          <mxGeometry height="50" relative="1" width="50" as="geometry">
            <Array as="points">
              <mxPoint x="13580" y="565" />
              <mxPoint x="13570" y="6280" />
              <mxPoint x="17120" y="7050" />
              <mxPoint x="17130" y="8590" />
            </Array>
            <mxPoint x="12980" y="-250" as="sourcePoint" />
            <mxPoint x="13740" y="8900" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="YD8wXlY8oEXokaMSZj_n-831" parent="1" style="html=1;whiteSpace=wrap;align=left;verticalAlign=top;movable=0;resizable=0;rotatable=0;deletable=0;editable=0;locked=1;connectable=0;" value="&lt;font style=&quot;font-size: 48px;&quot;&gt;&amp;nbsp;&amp;nbsp;&lt;/font&gt;&lt;div&gt;&lt;font style=&quot;font-size: 48px;&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; Design / COMMIT STAGE&lt;/font&gt;&lt;/div&gt;" vertex="1">
          <mxGeometry height="4220" width="7850" x="28990" y="750" as="geometry" />
        </mxCell>
        <mxCell id="YD8wXlY8oEXokaMSZj_n-832" parent="1" style="swimlane;fontStyle=1;align=center;verticalAlign=top;childLayout=stackLayout;horizontal=1;startSize=40;horizontalStack=0;resizeParent=1;resizeParentMax=0;resizeLast=0;collapsible=1;marginBottom=0;whiteSpace=wrap;html=1;fillColor=#0050ef;strokeColor=#001DBC;fontColor=#ffffff;" value="&lt;span style=&quot;text-align: left;&quot;&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;DPI&lt;br&gt;/home/ICer/proj/cva6/verif/core-v-verif/vendor/riscv/riscv-isa-sim/riscv/riscv_dpi.cc&lt;/span&gt;&lt;/span&gt;" vertex="1">
          <mxGeometry height="2840" width="690" x="30030" y="1350" as="geometry" />
        </mxCell>
        <mxCell id="YD8wXlY8oEXokaMSZj_n-833" parent="YD8wXlY8oEXokaMSZj_n-832" style="line;strokeWidth=1;fillColor=none;align=left;verticalAlign=middle;spacingTop=-1;spacingLeft=3;spacingRight=3;rotatable=0;labelPosition=right;points=[];portConstraint=eastwest;strokeColor=inherit;" value="" vertex="1">
          <mxGeometry height="8" width="690" y="40" as="geometry" />
        </mxCell>
        <mxCell id="YD8wXlY8oEXokaMSZj_n-834" parent="YD8wXlY8oEXokaMSZj_n-832" style="text;strokeColor=#666666;fillColor=#f5f5f5;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;html=1;fontColor=#333333;" value="&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;#include &quot;svdpi.h&quot;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;#include &amp;lt;vpi_user.h&amp;gt;&lt;/span&gt;&lt;br&gt;&lt;br&gt;&lt;div style=&quot;&quot;&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;#include &quot;Simulation.h&quot;&lt;/span&gt;&lt;/div&gt;&lt;/div&gt;" vertex="1">
          <mxGeometry height="72" width="690" y="48" as="geometry" />
        </mxCell>
        <mxCell id="YD8wXlY8oEXokaMSZj_n-835" parent="YD8wXlY8oEXokaMSZj_n-832" style="text;strokeColor=#666666;fillColor=#f5f5f5;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;html=1;fontColor=#333333;" value="&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;Simulation *sim;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; //&amp;nbsp;/home/ICer/proj/cva6/verif/core-v-verif/vendor/riscv/riscv-isa-sim/riscv/Simulation.h&lt;/span&gt;&lt;br&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;Params params;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; // /&lt;/span&gt;&lt;span style=&quot;background-color: transparent; font-size: 12px;&quot;&gt;home/ICer/proj/cva6/verif/core-v-verif/vendor/riscv/riscv-isa-sim/riscv/Params.h&lt;/span&gt;&lt;/div&gt;" vertex="1">
          <mxGeometry height="50" width="690" y="120" as="geometry" />
        </mxCell>
        <mxCell id="YD8wXlY8oEXokaMSZj_n-836" parent="YD8wXlY8oEXokaMSZj_n-832" style="text;strokeColor=#82b366;fillColor=#d5e8d4;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;html=1;" value="&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;extern &quot;C&quot; void &lt;b&gt;spike_set_default_params&lt;/b&gt;(const char *profile) {&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;//profile core_name &quot;&lt;/span&gt;cv64a6_imafdc_sv39&lt;span style=&quot;font-size: 12px;&quot;&gt;&quot;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp; if (strncmp(profile, &quot;cv64a&quot;, 5) == 0) {&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp; &amp;nbsp; params.set_string(&lt;span style=&quot;background-color: rgb(213, 232, 212);&quot;&gt;&lt;font style=&quot;color: rgb(51, 51, 255);&quot;&gt;&quot;/top/&quot;, &quot;isa&quot;&lt;/font&gt;&lt;/span&gt;, std::string(&quot;&lt;span style=&quot;background-color: rgb(213, 232, 212);&quot;&gt;&lt;font style=&quot;color: rgb(51, 51, 255);&quot;&gt;RV64GC&lt;/font&gt;&lt;/span&gt;&quot;));&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp; &amp;nbsp; params.set_string(&lt;font style=&quot;color: rgb(51, 51, 255); background-color: rgb(213, 232, 212);&quot;&gt;&quot;/top/&quot;, &quot;priv&quot;&lt;/font&gt;, std::string(&lt;span style=&quot;background-color: rgb(213, 232, 212);&quot;&gt;&lt;font style=&quot;color: rgb(51, 51, 255);&quot;&gt;DEFAULT_PRIV&lt;/font&gt;&lt;/span&gt;)); // MSU&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp; &amp;nbsp; params.set_string(&lt;span style=&quot;background-color: rgb(213, 232, 212);&quot;&gt;&lt;font style=&quot;color: rgb(51, 51, 255);&quot;&gt;&quot;/top/cores/&quot;&lt;/font&gt;&lt;/span&gt;, &quot;isa&quot;, std::string(&quot;&lt;span style=&quot;background-color: rgb(213, 232, 212);&quot;&gt;&lt;font style=&quot;color: rgb(51, 51, 255);&quot;&gt;RV64GC&lt;/font&gt;&lt;/span&gt;&quot;));&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp; } else if ((strncmp(profile, &quot;cv32a&quot;, 5) == 0) || (strcmp(profile, &quot;hwconfig&quot;) == 0)) {&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp; &amp;nbsp; // FIXME TODO: We assume hwconfig is a 32b configuration.&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp; &amp;nbsp; // params.set_string(&quot;/top/&quot;, &quot;isa&quot;, std::string(&quot;RV32IMC&quot;));&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp; &amp;nbsp; params.set_string(&quot;/top/&quot;, &quot;priv&quot;, std::string(&quot;M&quot;));&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp; &amp;nbsp; params.set_string(&quot;/top/cores/&quot;, &quot;isa&quot;, std::string(&quot;RV32IMC&quot;));&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp; } else if (strncmp(profile, &quot;cve2&quot;, 4) == 0) {&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp; } else&amp;nbsp; {&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp; &amp;nbsp; std::cerr &amp;lt;&amp;lt; &quot;[SPIKE] spike_set_default_params(): UNSUPPORTED target config &#39;&quot; &amp;lt;&amp;lt; profile &amp;lt;&amp;lt; &quot;&#39;, cannot continue!\n&quot;;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp; &amp;nbsp; exit(1);&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp; }&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp; params.set_string(&lt;span style=&quot;background-color: rgb(213, 232, 212);&quot;&gt;&lt;font style=&quot;color: rgb(51, 51, 255);&quot;&gt;&quot;/top/core/0/&quot;&lt;/font&gt;&lt;/span&gt;&lt;span style=&quot;background-color: rgb(213, 232, 212);&quot;&gt;&lt;font style=&quot;color: rgb(51, 51, 255);&quot;&gt;, &quot;name&quot;&lt;/font&gt;&lt;/span&gt;, &lt;span style=&quot;background-color: rgb(213, 232, 212);&quot;&gt;&lt;font style=&quot;color: rgb(51, 51, 255);&quot;&gt;std::string(profile)&lt;/font&gt;&lt;/span&gt;);&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp; params.set_uint64_t(&lt;span style=&quot;background-color: rgb(213, 232, 212);&quot;&gt;&lt;font style=&quot;color: rgb(51, 51, 255);&quot;&gt;&quot;/top/&quot;, &quot;num_procs&quot;&lt;/font&gt;&lt;/span&gt;, &lt;span style=&quot;background-color: rgb(213, 232, 212);&quot;&gt;&lt;font style=&quot;color: rgb(51, 51, 255);&quot;&gt;0x1UL&lt;/font&gt;&lt;/span&gt;);&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp; params.set_bool(&lt;span style=&quot;background-color: rgb(213, 232, 212);&quot;&gt;&lt;font style=&quot;color: rgb(51, 51, 255);&quot;&gt;&quot;/top/&quot;, &quot;bootrom&quot;&lt;/font&gt;&lt;/span&gt;, &lt;span style=&quot;background-color: rgb(213, 232, 212);&quot;&gt;&lt;font style=&quot;color: rgb(51, 51, 255);&quot;&gt;true&lt;/font&gt;&lt;/span&gt;);&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp; params.set_bool(&lt;span style=&quot;background-color: rgb(213, 232, 212);&quot;&gt;&lt;font style=&quot;color: rgb(51, 51, 255);&quot;&gt;&quot;/top/&quot;, &quot;generic_core_config&quot;&lt;/font&gt;&lt;/span&gt;, &lt;span style=&quot;background-color: rgb(213, 232, 212);&quot;&gt;&lt;font style=&quot;color: rgb(51, 51, 255);&quot;&gt;false&lt;/font&gt;&lt;/span&gt;);&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp; params.set_uint64_t(&lt;span style=&quot;background-color: rgb(213, 232, 212);&quot;&gt;&lt;font style=&quot;color: rgb(51, 51, 255);&quot;&gt;&quot;/top/&quot;, &quot;bootrom_base&quot;&lt;/font&gt;&lt;/span&gt;, &lt;span style=&quot;background-color: rgb(213, 232, 212);&quot;&gt;&lt;font style=&quot;color: rgb(51, 51, 255);&quot;&gt;0x10000UL&lt;/font&gt;&lt;/span&gt;);&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp; params.set_uint64_t(&lt;span style=&quot;background-color: rgb(213, 232, 212);&quot;&gt;&lt;font style=&quot;color: rgb(51, 51, 255);&quot;&gt;&quot;/top/&quot;, &quot;bootrom_size&quot;&lt;/font&gt;&lt;/span&gt;, &lt;span style=&quot;background-color: rgb(213, 232, 212);&quot;&gt;&lt;font style=&quot;color: rgb(51, 51, 255);&quot;&gt;0x1000UL&lt;/font&gt;&lt;/span&gt;);&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp; params.set_uint64_t(&lt;span style=&quot;background-color: rgb(213, 232, 212);&quot;&gt;&lt;font style=&quot;color: rgb(51, 51, 255);&quot;&gt;&quot;/top/&quot;, &quot;dram_base&quot;&lt;/font&gt;&lt;/span&gt;, &lt;span style=&quot;background-color: rgb(213, 232, 212);&quot;&gt;&lt;font style=&quot;color: rgb(51, 51, 255);&quot;&gt;0x80000000UL&lt;/font&gt;&lt;/span&gt;);&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp; params.set_uint64_t(&lt;span style=&quot;background-color: rgb(213, 232, 212);&quot;&gt;&lt;font style=&quot;color: rgb(51, 51, 255);&quot;&gt;&quot;/top/&quot;, &quot;dram_size&quot;&lt;/font&gt;&lt;/span&gt;, &lt;span style=&quot;background-color: rgb(213, 232, 212);&quot;&gt;&lt;font style=&quot;color: rgb(51, 51, 255);&quot;&gt;0x400UL * 1024 * 1024&lt;/font&gt;&lt;/span&gt;);&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp; params.set_bool(&lt;span style=&quot;background-color: rgb(213, 232, 212);&quot;&gt;&lt;font style=&quot;color: rgb(51, 51, 255);&quot;&gt;&quot;/top/&quot;, &quot;max_steps_enabled&quot;&lt;/font&gt;&lt;/span&gt;, &lt;span style=&quot;background-color: rgb(213, 232, 212);&quot;&gt;&lt;font style=&quot;color: rgb(51, 51, 255);&quot;&gt;false&lt;/font&gt;&lt;/span&gt;);&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp; params.set_uint64_t(&lt;span style=&quot;background-color: rgb(213, 232, 212);&quot;&gt;&lt;font style=&quot;color: rgb(51, 51, 255);&quot;&gt;&quot;/top/&quot;, &quot;max_steps&quot;&lt;/font&gt;&lt;/span&gt;, &lt;span style=&quot;background-color: rgb(213, 232, 212);&quot;&gt;&lt;font style=&quot;color: rgb(51, 51, 255);&quot;&gt;2000000UL&lt;/font&gt;&lt;/span&gt;);&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&lt;br&gt;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp; &lt;span style=&quot;background-color: rgb(0, 204, 0);&quot;&gt;Simulation::default_params(params);&lt;/span&gt;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;}&lt;/span&gt;&lt;/div&gt;" vertex="1">
          <mxGeometry height="422" width="690" y="170" as="geometry" />
        </mxCell>
        <mxCell id="YD8wXlY8oEXokaMSZj_n-837" parent="YD8wXlY8oEXokaMSZj_n-832" style="text;strokeColor=#82b366;fillColor=#d5e8d4;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;html=1;" value="&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;extern &quot;C&quot; void spike_set_param_uint64_t(const char *base, const char *name,&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;uint64_t value) {&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp; params.set_uint64_t(base, name, value);&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;}&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&lt;br&gt;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;extern &quot;C&quot; void spike_set_param_str(const char *base, const char *name,&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; const char *value) {&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp; params.set_string(base, name, std::string(value));&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;}&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&lt;br&gt;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;extern &quot;C&quot; void spike_set_param_bool(const char *base, const char *name,&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;bool value) {&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp; params.set_bool(base, name, value);&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;}&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&lt;br&gt;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;extern &quot;C&quot; uint64_t spike_get_param_uint64_t(const char *base, const char *name)&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;{&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp; return params.get(base, name).a_uint64_t;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;}&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&lt;br&gt;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;extern &quot;C&quot; const char *spike_get_param_str(const char *base, const char *name)&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;{&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp; return params.get(base, name).a_string.c_str();&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;}&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&lt;br&gt;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;extern &quot;C&quot; bool spike_get_param_bool(const char *base, const char *name)&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;{&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp; return params.get(base, name).a_bool;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;}&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&lt;br&gt;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;extern &quot;C&quot; void spike_set_params_from_file(const char *yaml_config_path) {&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp; cerr &amp;lt;&amp;lt; &quot;[SPIKE] Setting parameters from file : &quot; &amp;lt;&amp;lt; yaml_config_path &amp;lt;&amp;lt; endl;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp; paramSetter = std::make_unique&amp;lt;YamlParamSetter&amp;gt;(&amp;amp;params, yaml_config_path);&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp; paramSetter-&amp;gt;setParams();&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;}&lt;/span&gt;&lt;/div&gt;" vertex="1">
          <mxGeometry height="530" width="690" y="592" as="geometry" />
        </mxCell>
        <mxCell id="YD8wXlY8oEXokaMSZj_n-838" parent="YD8wXlY8oEXokaMSZj_n-832" style="text;strokeColor=#6c8ebf;fillColor=#dae8fc;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;html=1;" value="&lt;div&gt;...&lt;/div&gt;" vertex="1">
          <mxGeometry height="38" width="690" y="1122" as="geometry" />
        </mxCell>
        <mxCell id="YD8wXlY8oEXokaMSZj_n-839" parent="YD8wXlY8oEXokaMSZj_n-832" style="text;strokeColor=#6c8ebf;fillColor=#dae8fc;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;html=1;" value="&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;extern &quot;C&quot; void spike_create(const char *filename) {&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;&amp;nbsp;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp; std::cerr &amp;lt;&amp;lt; &quot;[SPIKE] Starting &#39;spike_create&#39;...\n&quot;;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp; // TODO parse params from yaml&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp; string isa_str = (params[&quot;&lt;span style=&quot;background-color: rgb(213, 232, 212);&quot;&gt;&lt;font style=&quot;color: rgb(51, 51, 255);&quot;&gt;/top/core/0/isa&lt;/font&gt;&lt;/span&gt;&quot;]).a_string;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp; string priv_str = (params[&quot;&lt;span style=&quot;background-color: rgb(213, 232, 212);&quot;&gt;&lt;font style=&quot;color: rgb(51, 51, 255);&quot;&gt;/top/core/0/priv&lt;/font&gt;&lt;/span&gt;&quot;]).a_string;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&lt;br&gt;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp; cfg_t *config = new cfg_t(&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; /*default_initrd_bounds=*/std::make_pair((reg_t)0, (reg_t)0),&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; /*default_bootargs=*/nullptr,&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; /*default_isa=*/isa_str.c_str(), // Built from the RTL configuration&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; /*default_priv=*/priv_str.c_str(),&amp;nbsp; &amp;nbsp;// TODO FIXME Ditto&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; /*default_varch=*/DEFAULT_VARCH, // TODO FIXME Ditto&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; /*default_misaligned=*/false,&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; /*default_endianness*/ endianness_little,&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; /*default_pmpregions=*/16,&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; /*default_mem_layout=*/memory_map,&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; /*default_hartids=*/std::vector&amp;lt;size_t&amp;gt;(),&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; /*default_real_time_clint=*/false,&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; /*default_trigger_count=*/4);&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&lt;br&gt;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp; // Define the default set of harts with their associated IDs.&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp; // If there are multiple IDs, the vector must be sorted in ascending&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp; // order and w/o duplicates, see &#39;parse_hartids&#39; in spike_main/spike.cc.&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&lt;br&gt;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp; // FIXME FORNOW only a single hart with ID 0.&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp; std::vector&amp;lt;size_t&amp;gt; default_hartids;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp; default_hartids.reserve(1); // Reserve nprocs() slots.&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp; default_hartids.push_back(0);&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp; config-&amp;gt;hartids = default_hartids;&lt;/span&gt;&lt;/div&gt;" vertex="1">
          <mxGeometry height="430" width="690" y="1160" as="geometry" />
        </mxCell>
        <mxCell id="YD8wXlY8oEXokaMSZj_n-840" parent="YD8wXlY8oEXokaMSZj_n-832" style="text;strokeColor=#6c8ebf;fillColor=#dae8fc;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;html=1;" value="&lt;div&gt;&lt;span style=&quot;background-color: transparent; color: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));&quot;&gt;&amp;nbsp; if (!sim) {&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp; &amp;nbsp; std::vector&amp;lt;std::string&amp;gt; htif_args;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp; &amp;nbsp; htif_args.push_back(std::string(filename));&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&lt;br&gt;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp; &amp;nbsp; std::cerr &amp;lt;&amp;lt; &quot;[SPIKE] htif_args = {\n&quot;;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp; &amp;nbsp; for (auto s : htif_args)&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; std::cerr &amp;lt;&amp;lt; &quot;&amp;nbsp; &quot; &amp;lt;&amp;lt; s &amp;lt;&amp;lt; &quot;,\n&quot;;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp; &amp;nbsp; std::cerr &amp;lt;&amp;lt; &quot;}\n&quot;;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&lt;br&gt;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp; &amp;nbsp; Param a_num_procs = params[&quot;&lt;span style=&quot;background-color: rgb(213, 232, 212);&quot;&gt;&lt;font style=&quot;color: rgb(51, 51, 255);&quot;&gt;/top/num_procs&lt;/font&gt;&lt;/span&gt;&quot;];&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp; &amp;nbsp; uint64_t num_procs = (a_num_procs).a_uint64_t&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;? (a_num_procs).a_uint64_t&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;: config-&amp;gt;nprocs();&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp; &amp;nbsp; Param a_generic_config = params[&quot;&lt;span style=&quot;background-color: rgb(213, 232, 212);&quot;&gt;&lt;font style=&quot;color: rgb(51, 51, 255);&quot;&gt;/top/generic_core_config&lt;/font&gt;&lt;/span&gt;&quot;];&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp; &amp;nbsp; bool generic_config = (a_generic_config).a_bool;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&lt;br&gt;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp; &amp;nbsp; mapParam coreParams = params.get_base(&quot;&lt;span style=&quot;background-color: rgb(213, 232, 212);&quot;&gt;&lt;font style=&quot;color: rgb(51, 51, 255);&quot;&gt;/top/cores/&lt;/font&gt;&lt;/span&gt;&quot;);&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&lt;br&gt;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp; &amp;nbsp; std::vector&amp;lt;uint64_t&amp;gt; hartids = params.get_hartids();&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp; &amp;nbsp; std::sort(hartids.begin(), hartids.end());&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&lt;br&gt;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp; &amp;nbsp; uint64_t next_id =&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; (hartids.size() == 0 ? 0 : hartids[hartids.size() - 1] + 1);&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&lt;br&gt;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp; &amp;nbsp; for (size_t i = 0; i &amp;lt; (num_procs - hartids.size()); i++) {&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; hartids.push_back(next_id + i);&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp; &amp;nbsp; }&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&lt;br&gt;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp; &amp;nbsp; config-&amp;gt;hartids = hartids;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&lt;br&gt;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp; &amp;nbsp; if (generic_config) {&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; for (size_t i = 0; i &amp;lt; num_procs; i++) {&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; string base = &quot;/top/core/&quot; + std::to_string(hartids[i]) + &quot;/&quot;;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; for (auto p : coreParams) {&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; params.set(base, p.first, p.second);&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; }&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; }&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp; &amp;nbsp; }&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&lt;br&gt;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp; &amp;nbsp; &lt;span style=&quot;background-color: rgb(213, 232, 212);&quot;&gt;&lt;font style=&quot;color: rgb(51, 51, 255);&quot;&gt;sim = new Simulation((const cfg_t *)config, filename, params);&lt;/font&gt;&lt;/span&gt;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&lt;br&gt;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp; &amp;nbsp; // Disable the debug mode.&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp; &amp;nbsp; &lt;span style=&quot;background-color: rgb(213, 232, 212);&quot;&gt;&lt;font style=&quot;color: rgb(51, 51, 255);&quot;&gt;sim-&amp;gt;sim_t::set_debug(false);&lt;/font&gt;&lt;/span&gt;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp; }&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;}&lt;/span&gt;&lt;/div&gt;" vertex="1">
          <mxGeometry height="660" width="690" y="1590" as="geometry" />
        </mxCell>
        <mxCell id="YD8wXlY8oEXokaMSZj_n-841" parent="YD8wXlY8oEXokaMSZj_n-832" style="text;strokeColor=#36393d;fillColor=#f9f7ed;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;html=1;" value="&lt;div&gt;...&lt;/div&gt;" vertex="1">
          <mxGeometry height="40" width="690" y="2250" as="geometry" />
        </mxCell>
        <mxCell id="YD8wXlY8oEXokaMSZj_n-842" parent="YD8wXlY8oEXokaMSZj_n-832" style="text;strokeColor=#36393d;fillColor=#f9f7ed;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;html=1;" value="&lt;div&gt;&lt;div style=&quot;&quot;&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;void sv2rvfi(st_rvfi &amp;amp;rvfi, svLogicVecVal* svOpen) {&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;&quot;&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp; size_t size = sizeof(st_rvfi) / 8;&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;&quot;&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp; uint64_t *array_ptr = (uint64_t *)(svOpen);&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;&quot;&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp; uint64_t *rvfi_ptr = (uint64_t *)&amp;amp;rvfi;&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;&quot;&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&lt;br&gt;&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;&quot;&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp; for (size_t i = 0; i &amp;lt; size; i++) {&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;&quot;&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp; &amp;nbsp; rvfi_ptr[i] = array_ptr[size - i - 1];&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;&quot;&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp; }&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;&quot;&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;}&lt;/span&gt;&lt;br&gt;&lt;br&gt;&lt;div style=&quot;&quot;&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;void rvfi2sv(st_rvfi &amp;amp;rvfi, svLogicVecVal* svOpen) {&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;&quot;&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp; size_t size = sizeof(st_rvfi) / 8;&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;&quot;&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp; uint64_t *array_ptr = (uint64_t *)(svOpen);&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;&quot;&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp; uint64_t *rvfi_ptr = (uint64_t *)&amp;amp;rvfi;&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;&quot;&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&lt;br&gt;&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;&quot;&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp; for (size_t i = 0; i &amp;lt; size; i++) {&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;&quot;&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; array_ptr[size - i - 1] = rvfi_ptr[i];&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;&quot;&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp; }&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;&quot;&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;}&lt;/span&gt;&lt;/div&gt;&lt;/div&gt;&lt;br&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;extern &quot;C&quot; void spike_step_svLogic(svLogicVecVal* reference,&lt;/span&gt;&lt;span style=&quot;background-color: transparent; color: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));&quot;&gt;&amp;nbsp;svLogicVecVal* spike) {&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp; st_rvfi reference_rvfi, spike_rvfi;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&lt;br&gt;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp; sv2rvfi(reference_rvfi, reference);&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp; &lt;span style=&quot;background-color: rgb(213, 232, 212);&quot;&gt;spike_step_struct(reference_rvfi, spike_rvfi);&lt;/span&gt;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp; rvfi2sv(spike_rvfi, spike);&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;}&lt;/span&gt;&lt;/div&gt;" vertex="1">
          <mxGeometry height="410" width="690" y="2290" as="geometry" />
        </mxCell>
        <mxCell id="YD8wXlY8oEXokaMSZj_n-843" parent="YD8wXlY8oEXokaMSZj_n-832" style="text;strokeColor=#36393d;fillColor=#f9f7ed;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;html=1;" value="&lt;div&gt;...&lt;/div&gt;" vertex="1">
          <mxGeometry height="40" width="690" y="2700" as="geometry" />
        </mxCell>
        <mxCell id="YD8wXlY8oEXokaMSZj_n-844" parent="YD8wXlY8oEXokaMSZj_n-832" style="text;strokeColor=#36393d;fillColor=#f9f7ed;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;html=1;" value="&lt;div style=&quot;&quot;&gt;&lt;div&gt;extern &quot;C&quot; void spike_step_struct(st_rvfi &amp;amp;reference, st_rvfi &amp;amp;spike) {&lt;/div&gt;&lt;div&gt;&amp;nbsp; std::vector&amp;lt;st_rvfi&amp;gt; vreference, vspike;&lt;/div&gt;&lt;div&gt;&amp;nbsp; vreference.push_back(reference);&lt;/div&gt;&lt;div&gt;&amp;nbsp; &lt;span style=&quot;background-color: rgb(213, 232, 212);&quot;&gt;vspike = sim-&amp;gt;step(1, vreference);&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&amp;nbsp; spike = vspike[0];&lt;/div&gt;&lt;div&gt;}&lt;/div&gt;&lt;/div&gt;" vertex="1">
          <mxGeometry height="100" width="690" y="2740" as="geometry" />
        </mxCell>
        <mxCell id="YD8wXlY8oEXokaMSZj_n-845" parent="1" style="swimlane;fontStyle=0;childLayout=stackLayout;horizontal=1;startSize=40;fillColor=none;horizontalStack=0;resizeParent=1;resizeParentMax=0;resizeLast=0;collapsible=1;marginBottom=0;whiteSpace=wrap;html=1;" value="&lt;b&gt;uvma_rvfi_agent.sv&lt;br&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;/home/ICer/proj/cva6/verif/core-v-verif/lib/uvm_agents/uvma_rvfi/uvma_rvfi_agent.sv&lt;/span&gt;&lt;/b&gt;" vertex="1">
          <mxGeometry height="100" width="500" x="24075.000000000004" y="2580" as="geometry" />
        </mxCell>
        <mxCell id="YD8wXlY8oEXokaMSZj_n-946" parent="YD8wXlY8oEXokaMSZj_n-845" style="text;strokeColor=default;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;html=1;" value="uvma_rvfi_instr_mon_c#(ILEN,XLEN)&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;&lt;b&gt;instr_monitor&lt;/b&gt;;" vertex="1">
          <mxGeometry height="30" width="500" y="40" as="geometry" />
        </mxCell>
        <mxCell id="YD8wXlY8oEXokaMSZj_n-846" parent="YD8wXlY8oEXokaMSZj_n-845" style="text;strokeColor=default;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;html=1;" value="uvm_analysis_port#(uvma_rvfi_instr_seq_item_c#(ILEN,XLEN)) &lt;b&gt;rvfi_core_ap&lt;/b&gt;;" vertex="1">
          <mxGeometry height="30" width="500" y="70" as="geometry" />
        </mxCell>
        <mxCell id="YD8wXlY8oEXokaMSZj_n-947" edge="1" parent="YD8wXlY8oEXokaMSZj_n-845" source="YD8wXlY8oEXokaMSZj_n-946" style="html=1;verticalAlign=bottom;endArrow=block;curved=0;rounded=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;strokeWidth=5;fillColor=#1ba1e2;strokeColor=#006EAF;exitX=1;exitY=0.5;exitDx=0;exitDy=0;" target="YD8wXlY8oEXokaMSZj_n-846" value="Connect">
          <mxGeometry relative="1" width="80" x="0.15" y="10" as="geometry">
            <mxPoint as="offset" />
            <Array as="points">
              <mxPoint x="541.0799999999981" y="55" />
              <mxPoint x="541.0799999999981" y="120" />
              <mxPoint x="-58.92000000000189" y="120" />
              <mxPoint x="-58.92000000000189" y="85" />
            </Array>
            <mxPoint x="521.0799999999981" y="100" as="sourcePoint" />
            <mxPoint x="656.08" y="85" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="YD8wXlY8oEXokaMSZj_n-847" edge="1" parent="1" source="YD8wXlY8oEXokaMSZj_n-66" style="endArrow=classic;html=1;rounded=0;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;strokeWidth=5;" target="YD8wXlY8oEXokaMSZj_n-839" value="">
          <mxGeometry height="50" relative="1" width="50" as="geometry">
            <Array as="points">
              <mxPoint x="27939" y="4355" />
              <mxPoint x="29478.920000000002" y="2730" />
            </Array>
            <mxPoint x="26678.920000000002" y="6510" as="sourcePoint" />
            <mxPoint x="29598.920000000002" y="3880" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="YD8wXlY8oEXokaMSZj_n-848" connectable="0" parent="YD8wXlY8oEXokaMSZj_n-847" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];" value="Text" vertex="1">
          <mxGeometry relative="1" x="0.4104" y="27" as="geometry">
            <mxPoint x="-2" y="2" as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="YD8wXlY8oEXokaMSZj_n-849" edge="1" parent="1" source="YD8wXlY8oEXokaMSZj_n-77" style="endArrow=classic;html=1;rounded=0;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;strokeWidth=7;fillColor=#d5e8d4;strokeColor=#82b366;startArrow=classic;startFill=1;" target="YD8wXlY8oEXokaMSZj_n-854" value="">
          <mxGeometry height="50" relative="1" width="50" as="geometry">
            <Array as="points">
              <mxPoint x="26336.08" y="5795" />
              <mxPoint x="26355.000000000004" y="6000" />
            </Array>
            <mxPoint x="26935.000000000004" y="7473" as="sourcePoint" />
            <mxPoint x="30740.000000000004" y="4350" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="YD8wXlY8oEXokaMSZj_n-850" parent="1" style="swimlane;fontStyle=1;align=center;verticalAlign=top;childLayout=stackLayout;horizontal=1;startSize=40;horizontalStack=0;resizeParent=1;resizeParentMax=0;resizeLast=0;collapsible=1;marginBottom=0;whiteSpace=wrap;html=1;fillColor=#60a917;strokeColor=#2D7600;fontColor=#ffffff;" value="&lt;span style=&quot;text-align: left;&quot;&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;st_rvfi&lt;/span&gt;&lt;br&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;/home/ICer/proj/cva6/verif/core-v-verif/vendor/riscv/riscv-isa-sim/riscv/Types.h&lt;/span&gt;&lt;/span&gt;" vertex="1">
          <mxGeometry height="810" width="500" x="29210" y="3570" as="geometry" />
        </mxCell>
        <mxCell id="YD8wXlY8oEXokaMSZj_n-851" parent="YD8wXlY8oEXokaMSZj_n-850" style="line;strokeWidth=1;fillColor=none;align=left;verticalAlign=middle;spacingTop=-1;spacingLeft=3;spacingRight=3;rotatable=0;labelPosition=right;points=[];portConstraint=eastwest;strokeColor=inherit;" value="" vertex="1">
          <mxGeometry height="8" width="500" y="40" as="geometry" />
        </mxCell>
        <mxCell id="YD8wXlY8oEXokaMSZj_n-852" parent="YD8wXlY8oEXokaMSZj_n-850" style="text;strokeColor=#666666;fillColor=#f5f5f5;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;html=1;fontColor=#333333;" value="&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;typedef struct {&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp; &amp;nbsp;uint64_t&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;nret_id;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp; &amp;nbsp;uint64_t&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;cycle_cnt;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp; &amp;nbsp;uint64_t&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;order;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp; &amp;nbsp;uint64_t&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;insn;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp; &amp;nbsp;uint64_t&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;trap;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp; &amp;nbsp;uint64_t&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;halt;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp; &amp;nbsp;uint64_t&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;intr;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp; &amp;nbsp;uint64_t&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;mode;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp; &amp;nbsp;uint64_t&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;ixl;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp; &amp;nbsp;uint64_t&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;dbg;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp; &amp;nbsp;uint64_t&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;dbg_mode;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp; &amp;nbsp;uint64_t&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;nmip;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&lt;br&gt;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp; &amp;nbsp;uint64_t&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;insn_interrupt;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp; &amp;nbsp;uint64_t&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;insn_interrupt_id;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp; &amp;nbsp;uint64_t&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;insn_bus_fault;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp; &amp;nbsp;uint64_t&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;insn_nmi_store_fault;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp; &amp;nbsp;uint64_t&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;insn_nmi_load_fault;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&lt;br&gt;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp; &amp;nbsp;uint64_t&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;pc_rdata;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp; &amp;nbsp;uint64_t&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;pc_wdata;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&lt;br&gt;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp; &amp;nbsp;uint64_t&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;rs1_addr;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp; &amp;nbsp;uint64_t&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;rs1_rdata;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&lt;br&gt;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp; &amp;nbsp;uint64_t&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;rs2_addr;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp; &amp;nbsp;uint64_t&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;rs2_rdata;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&lt;br&gt;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp; &amp;nbsp;uint64_t&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;rs3_addr;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp; &amp;nbsp;uint64_t&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;rs3_rdata;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&lt;br&gt;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp; &amp;nbsp;uint64_t&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;rd1_addr;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp; &amp;nbsp;uint64_t&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;rd1_wdata;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&lt;br&gt;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp; &amp;nbsp;uint64_t&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;rd2_addr;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp; &amp;nbsp;uint64_t&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;rd2_wdata;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&lt;br&gt;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp; &amp;nbsp;uint64_t&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;mem_addr;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp; &amp;nbsp;uint64_t&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;mem_rdata;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp; &amp;nbsp;uint64_t&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;mem_rmask;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp; &amp;nbsp;uint64_t&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;mem_wdata;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp; &amp;nbsp;uint64_t&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;mem_wmask;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&lt;br&gt;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp; &amp;nbsp;uint64_t&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;csr_valid&amp;nbsp; &amp;nbsp;[CSR_MAX_SIZE];&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp; &amp;nbsp;uint64_t&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;csr_addr&amp;nbsp; &amp;nbsp; [CSR_MAX_SIZE];&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp; &amp;nbsp;uint64_t&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;csr_rdata&amp;nbsp; &amp;nbsp;[CSR_MAX_SIZE];&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp; &amp;nbsp;uint64_t&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;csr_rmask&amp;nbsp; &amp;nbsp;[CSR_MAX_SIZE];&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp; &amp;nbsp;uint64_t&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;csr_wdata&amp;nbsp; &amp;nbsp;[CSR_MAX_SIZE];&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp; &amp;nbsp;uint64_t&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;csr_wmask&amp;nbsp; &amp;nbsp;[CSR_MAX_SIZE];&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&lt;br&gt;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;} st_rvfi;&lt;/span&gt;&lt;/div&gt;" vertex="1">
          <mxGeometry height="762" width="500" y="48" as="geometry" />
        </mxCell>
        <mxCell id="YD8wXlY8oEXokaMSZj_n-853" parent="1" style="swimlane;fontStyle=1;align=center;verticalAlign=top;childLayout=stackLayout;horizontal=1;startSize=50;horizontalStack=0;resizeParent=1;resizeParentMax=0;resizeLast=0;collapsible=1;marginBottom=0;whiteSpace=wrap;html=1;fillColor=#60a917;fontColor=#ffffff;strokeColor=#2D7600;" value="spkie model&lt;br&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;/home/ICer/proj/cva6/verif/core-v-verif/lib/uvm_agents/uvma_rvfi/uvma_rvfi_tdefs.sv&lt;/span&gt;" vertex="1">
          <mxGeometry height="810" width="780" x="26456.080000000005" y="5570" as="geometry" />
        </mxCell>
        <mxCell id="YD8wXlY8oEXokaMSZj_n-854" parent="YD8wXlY8oEXokaMSZj_n-853" style="text;strokeColor=default;fillColor=default;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;html=1;" value="&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;typedef struct packed {&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp; &amp;nbsp;bit [MAX_XLEN-1:0]&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;nret_id;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp; &amp;nbsp;bit [MAX_XLEN-1:0]&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;cycle_cnt;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp; &amp;nbsp;bit [MAX_XLEN-1:0]&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;order;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp; &amp;nbsp;bit [MAX_XLEN-1:0]&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;insn;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp; &amp;nbsp;bit [MAX_XLEN-1:0]&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;trap;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp; &amp;nbsp;bit [MAX_XLEN-1:0]&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;halt;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp; &amp;nbsp;bit [MAX_XLEN-1:0]&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;intr;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp; &amp;nbsp;bit [MAX_XLEN-1:0]&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;mode;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp; &amp;nbsp;bit [MAX_XLEN-1:0]&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;ixl;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp; &amp;nbsp;bit [MAX_XLEN-1:0]&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;dbg;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp; &amp;nbsp;bit [MAX_XLEN-1:0]&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;dbg_mode;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp; &amp;nbsp;bit [MAX_XLEN-1:0]&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;nmip;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&lt;br&gt;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp; &amp;nbsp;bit [MAX_XLEN-1:0]&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;insn_interrupt;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp; &amp;nbsp;bit [MAX_XLEN-1:0]&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;insn_interrupt_id;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp; &amp;nbsp;bit [MAX_XLEN-1:0]&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;insn_bus_fault;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp; &amp;nbsp;bit [MAX_XLEN-1:0]&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;insn_nmi_store_fault;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp; &amp;nbsp;bit [MAX_XLEN-1:0]&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;insn_nmi_load_fault;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&lt;br&gt;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp; &amp;nbsp;bit [MAX_XLEN-1:0]&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;pc_rdata;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp; &amp;nbsp;bit [MAX_XLEN-1:0]&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;pc_wdata;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&lt;br&gt;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp; &amp;nbsp;bit [MAX_XLEN-1:0]&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;rs1_addr;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp; &amp;nbsp;bit [MAX_XLEN-1:0]&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;rs1_rdata;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&lt;br&gt;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp; &amp;nbsp;bit [MAX_XLEN-1:0]&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;rs2_addr;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp; &amp;nbsp;bit [MAX_XLEN-1:0]&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;rs2_rdata;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&lt;br&gt;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp; &amp;nbsp;bit [MAX_XLEN-1:0]&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;rs3_addr;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp; &amp;nbsp;bit [MAX_XLEN-1:0]&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;rs3_rdata;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&lt;br&gt;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp; &amp;nbsp;bit [MAX_XLEN-1:0]&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;rd1_addr;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp; &amp;nbsp;bit [MAX_XLEN-1:0]&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;rd1_wdata;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&lt;br&gt;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp; &amp;nbsp;bit [MAX_XLEN-1:0]&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;rd2_addr;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp; &amp;nbsp;bit [MAX_XLEN-1:0]&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;rd2_wdata;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&lt;br&gt;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp; &amp;nbsp;bit [MAX_XLEN-1:0]&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;mem_addr;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp; &amp;nbsp;bit [MAX_XLEN-1:0]&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;mem_rdata;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp; &amp;nbsp;bit [MAX_XLEN-1:0]&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;mem_rmask;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp; &amp;nbsp;bit [MAX_XLEN-1:0]&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;mem_wdata;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp; &amp;nbsp;bit [MAX_XLEN-1:0]&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;mem_wmask;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&lt;br&gt;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp; &amp;nbsp;bit [CSR_MAX_SIZE-1:0] [MAX_XLEN-1:0] csr_valid;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp; &amp;nbsp;bit [CSR_MAX_SIZE-1:0] [MAX_XLEN-1:0] csr_addr;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp; &amp;nbsp;bit [CSR_MAX_SIZE-1:0] [MAX_XLEN-1:0] csr_rdata;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp; &amp;nbsp;bit [CSR_MAX_SIZE-1:0] [MAX_XLEN-1:0] csr_rmask;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp; &amp;nbsp;bit [CSR_MAX_SIZE-1:0] [MAX_XLEN-1:0] csr_wdata;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp; &amp;nbsp;bit [CSR_MAX_SIZE-1:0] [MAX_XLEN-1:0] csr_wmask;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&lt;br&gt;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;} st_rvfi;&lt;/span&gt;&lt;/div&gt;" vertex="1">
          <mxGeometry height="760" width="780" y="50" as="geometry" />
        </mxCell>
        <mxCell id="YD8wXlY8oEXokaMSZj_n-855" edge="1" parent="1" source="YD8wXlY8oEXokaMSZj_n-854" style="endArrow=classic;html=1;rounded=0;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;strokeWidth=16;startArrow=classic;startFill=1;fillColor=#60a917;strokeColor=#2D7600;" target="YD8wXlY8oEXokaMSZj_n-852" value="">
          <mxGeometry height="50" relative="1" width="50" as="geometry">
            <Array as="points">
              <mxPoint x="28320" y="6000" />
              <mxPoint x="28950" y="3999" />
            </Array>
            <mxPoint x="28568.920000000002" y="6940" as="sourcePoint" />
            <mxPoint x="29013.920000000002" y="7265" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="YD8wXlY8oEXokaMSZj_n-856" edge="1" parent="1" source="YD8wXlY8oEXokaMSZj_n-852" style="endArrow=classic;html=1;rounded=0;exitX=1;exitY=0.5;exitDx=0;exitDy=0;strokeWidth=5;entryX=0;entryY=0.5;entryDx=0;entryDy=0;" target="YD8wXlY8oEXokaMSZj_n-842" value="">
          <mxGeometry height="50" relative="1" width="50" as="geometry">
            <Array as="points">
              <mxPoint x="29830" y="3999" />
              <mxPoint x="29860" y="3845" />
            </Array>
            <mxPoint x="29580" y="5671" as="sourcePoint" />
            <mxPoint x="30020" y="3840" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="YD8wXlY8oEXokaMSZj_n-857" parent="1" style="swimlane;fontStyle=1;align=center;verticalAlign=top;childLayout=stackLayout;horizontal=1;startSize=40;horizontalStack=0;resizeParent=1;resizeParentMax=0;resizeLast=0;collapsible=1;marginBottom=0;whiteSpace=wrap;html=1;fillColor=#0050ef;strokeColor=#001DBC;fontColor=#ffffff;" value="&lt;span style=&quot;text-align: left;&quot;&gt;Simulation&lt;/span&gt;&lt;span style=&quot;text-align: left;&quot;&gt;&lt;br&gt;/home/ICer/proj/cva6/verif/core-v-verif/vendor/riscv/riscv-isa-sim/riscv/Simulation.cc&lt;/span&gt;" vertex="1">
          <mxGeometry height="270" width="520" x="31030" y="2950" as="geometry" />
        </mxCell>
        <mxCell id="YD8wXlY8oEXokaMSZj_n-858" parent="YD8wXlY8oEXokaMSZj_n-857" style="line;strokeWidth=1;fillColor=none;align=left;verticalAlign=middle;spacingTop=-1;spacingLeft=3;spacingRight=3;rotatable=0;labelPosition=right;points=[];portConstraint=eastwest;strokeColor=inherit;" value="" vertex="1">
          <mxGeometry height="8" width="520" y="40" as="geometry" />
        </mxCell>
        <mxCell id="YD8wXlY8oEXokaMSZj_n-859" parent="YD8wXlY8oEXokaMSZj_n-857" style="text;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;html=1;fillColor=#f5f5f5;fontColor=#333333;strokeColor=#666666;" value="&lt;div&gt;int Simulation::run() {&lt;/div&gt;&lt;div&gt;&amp;nbsp; try {&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; while (!sim_t::done()) {&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; st_rvfi reference;&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; std::vector&amp;lt;st_rvfi&amp;gt; vreference, vspike;&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; vreference.push_back(reference);&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &lt;span style=&quot;background-color: rgb(213, 232, 212);&quot;&gt;&lt;font style=&quot;color: rgb(0, 0, 255);&quot;&gt;vspike = this-&amp;gt;step(1, vreference);&lt;/font&gt;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; }&lt;/div&gt;&lt;div&gt;&amp;nbsp; } catch (std::ios_base::failure e) {&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; std::cout &amp;lt;&amp;lt; &quot;[SPIKE] Max steps exceeded!&quot; &amp;lt;&amp;lt; std::endl;&lt;/div&gt;&lt;div&gt;&amp;nbsp; }&lt;/div&gt;&lt;div&gt;&amp;nbsp; return sim_t::exit_code();&lt;/div&gt;&lt;div&gt;}&lt;/div&gt;" vertex="1">
          <mxGeometry height="222" width="520" y="48" as="geometry" />
        </mxCell>
        <mxCell id="YD8wXlY8oEXokaMSZj_n-860" edge="1" parent="1" source="YD8wXlY8oEXokaMSZj_n-840" style="endArrow=classic;html=1;rounded=0;exitX=1;exitY=0.5;exitDx=0;exitDy=0;strokeWidth=5;entryX=0;entryY=0.5;entryDx=0;entryDy=0;" target="YD8wXlY8oEXokaMSZj_n-859" value="">
          <mxGeometry height="50" relative="1" width="50" as="geometry">
            <Array as="points">
              <mxPoint x="30850" y="3270" />
              <mxPoint x="30920" y="3109" />
            </Array>
            <mxPoint x="30830" y="3744" as="sourcePoint" />
            <mxPoint x="31150" y="3590" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="YD8wXlY8oEXokaMSZj_n-861" parent="1" style="swimlane;fontStyle=1;align=center;verticalAlign=top;childLayout=stackLayout;horizontal=1;startSize=40;horizontalStack=0;resizeParent=1;resizeParentMax=0;resizeLast=0;collapsible=1;marginBottom=0;whiteSpace=wrap;html=1;fillColor=#0050ef;strokeColor=#001DBC;fontColor=#ffffff;" value="&lt;span style=&quot;text-align: left;&quot;&gt;Simulation&lt;/span&gt;&lt;span style=&quot;text-align: left;&quot;&gt;&lt;br&gt;/home/ICer/proj/cva6/verif/core-v-verif/vendor/riscv/riscv-isa-sim/riscv/Simulation.cc&lt;/span&gt;" vertex="1">
          <mxGeometry height="430" width="550" x="30950" y="3730" as="geometry" />
        </mxCell>
        <mxCell id="YD8wXlY8oEXokaMSZj_n-862" parent="YD8wXlY8oEXokaMSZj_n-861" style="line;strokeWidth=1;fillColor=none;align=left;verticalAlign=middle;spacingTop=-1;spacingLeft=3;spacingRight=3;rotatable=0;labelPosition=right;points=[];portConstraint=eastwest;strokeColor=inherit;" value="" vertex="1">
          <mxGeometry height="8" width="550" y="40" as="geometry" />
        </mxCell>
        <mxCell id="YD8wXlY8oEXokaMSZj_n-863" parent="YD8wXlY8oEXokaMSZj_n-861" style="text;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;html=1;fillColor=#f5f5f5;fontColor=#333333;strokeColor=#666666;" value="&lt;div&gt;std::vector&amp;lt;st_rvfi&amp;gt; Simulation::step(size_t n,&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; std::vector&amp;lt;st_rvfi&amp;gt; &amp;amp;vreference) {&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;&amp;nbsp; // The state PC is the *next* insn fetch address.&lt;/div&gt;&lt;div&gt;&amp;nbsp; // Catch it before exec which yields a new value.&lt;/div&gt;&lt;div&gt;&amp;nbsp; std::vector&amp;lt;st_rvfi&amp;gt; vspike(n);&lt;/div&gt;&lt;div&gt;&amp;nbsp; for (size_t i = 0; i &amp;lt; n; i++) {&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; if (i &amp;gt;= procs.size())&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; continue;&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; &lt;span style=&quot;background-color: rgb(213, 232, 212);&quot;&gt;&lt;font style=&quot;color: rgb(0, 0, 255);&quot;&gt;vspike[i] = ((Processor *)procs[i])-&amp;gt;step(1, vreference[i]);&lt;/font&gt;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; vspike[i].halt = (sim_t::done() ? ((sim_t::exit_code() &amp;lt;&amp;lt; 1) | 1) : 0);&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; host = context_t::current();&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; if (!sim_t::done()) {&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; if (this-&amp;gt;max_steps_enabled &amp;amp;&amp;amp; (this-&amp;gt;max_steps &amp;lt; this-&amp;gt;total_steps)) {&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; throw std::ios_base::failure(&quot;Max steps exceeded&quot;);&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; }&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; ++total_steps;&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; target.switch_to();&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; }&lt;/div&gt;&lt;div&gt;&amp;nbsp; }&lt;/div&gt;&lt;div&gt;&amp;nbsp; return vspike;&lt;/div&gt;&lt;div&gt;}&lt;/div&gt;" vertex="1">
          <mxGeometry height="382" width="550" y="48" as="geometry" />
        </mxCell>
        <mxCell id="YD8wXlY8oEXokaMSZj_n-864" edge="1" parent="1" source="YD8wXlY8oEXokaMSZj_n-844" style="endArrow=classic;html=1;rounded=0;exitX=1;exitY=0.5;exitDx=0;exitDy=0;strokeWidth=5;entryX=0;entryY=0.5;entryDx=0;entryDy=0;" target="YD8wXlY8oEXokaMSZj_n-863" value="">
          <mxGeometry height="50" relative="1" width="50" as="geometry">
            <Array as="points">
              <mxPoint x="30790" y="4140" />
              <mxPoint x="30880" y="3970" />
            </Array>
            <mxPoint x="30160" y="3994" as="sourcePoint" />
            <mxPoint x="31280" y="3923" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="YD8wXlY8oEXokaMSZj_n-865" parent="1" style="swimlane;fontStyle=1;align=center;verticalAlign=top;childLayout=stackLayout;horizontal=1;startSize=40;horizontalStack=0;resizeParent=1;resizeParentMax=0;resizeLast=0;collapsible=1;marginBottom=0;whiteSpace=wrap;html=1;fillColor=#0050ef;strokeColor=#001DBC;fontColor=#ffffff;" value="&lt;span style=&quot;text-align: left;&quot;&gt;Simulation&lt;/span&gt;&lt;span style=&quot;text-align: left;&quot;&gt;&lt;br&gt;/home/ICer/proj/cva6/verif/core-v-verif/vendor/riscv/riscv-isa-sim/riscv/Simulation.cc&lt;/span&gt;" vertex="1">
          <mxGeometry height="430" width="540" x="31650" y="3810" as="geometry" />
        </mxCell>
        <mxCell id="YD8wXlY8oEXokaMSZj_n-866" parent="YD8wXlY8oEXokaMSZj_n-865" style="line;strokeWidth=1;fillColor=none;align=left;verticalAlign=middle;spacingTop=-1;spacingLeft=3;spacingRight=3;rotatable=0;labelPosition=right;points=[];portConstraint=eastwest;strokeColor=inherit;" value="" vertex="1">
          <mxGeometry height="8" width="540" y="40" as="geometry" />
        </mxCell>
        <mxCell id="YD8wXlY8oEXokaMSZj_n-867" parent="YD8wXlY8oEXokaMSZj_n-865" style="text;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;html=1;fillColor=#f5f5f5;fontColor=#333333;strokeColor=#666666;" value="&lt;div&gt;std::vector&amp;lt;st_rvfi&amp;gt; Simulation::step(size_t n,&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; std::vector&amp;lt;st_rvfi&amp;gt; &amp;amp;vreference) {&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;&amp;nbsp; // The state PC is the *next* insn fetch address.&lt;/div&gt;&lt;div&gt;&amp;nbsp; // Catch it before exec which yields a new value.&lt;/div&gt;&lt;div&gt;&amp;nbsp; std::vector&amp;lt;st_rvfi&amp;gt; vspike(n);&lt;/div&gt;&lt;div&gt;&amp;nbsp; for (size_t i = 0; i &amp;lt; n; i++) {&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; if (i &amp;gt;= procs.size())&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; continue;&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; &lt;span style=&quot;background-color: rgb(213, 232, 212);&quot;&gt;&lt;font style=&quot;color: rgb(0, 0, 255);&quot;&gt;vspike[i] = ((Processor *)procs[i])-&amp;gt;step(1, vreference[i]);&lt;/font&gt;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; vspike[i].halt = (sim_t::done() ? ((sim_t::exit_code() &amp;lt;&amp;lt; 1) | 1) : 0);&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; host = context_t::current();&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; if (!sim_t::done()) {&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; if (this-&amp;gt;max_steps_enabled &amp;amp;&amp;amp; (this-&amp;gt;max_steps &amp;lt; this-&amp;gt;total_steps)) {&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; throw std::ios_base::failure(&quot;Max steps exceeded&quot;);&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; }&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; ++total_steps;&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; target.switch_to();&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; }&lt;/div&gt;&lt;div&gt;&amp;nbsp; }&lt;/div&gt;&lt;div&gt;&amp;nbsp; return vspike;&lt;/div&gt;&lt;div&gt;}&lt;/div&gt;" vertex="1">
          <mxGeometry height="382" width="540" y="48" as="geometry" />
        </mxCell>
        <mxCell id="YD8wXlY8oEXokaMSZj_n-868" edge="1" parent="1" source="YD8wXlY8oEXokaMSZj_n-861" style="endArrow=classic;html=1;rounded=0;exitX=1;exitY=0.5;exitDx=0;exitDy=0;strokeWidth=5;entryX=0;entryY=0.5;entryDx=0;entryDy=0;" target="YD8wXlY8oEXokaMSZj_n-867" value="">
          <mxGeometry height="50" relative="1" width="50" as="geometry">
            <Array as="points">
              <mxPoint x="31550" y="3945" />
              <mxPoint x="31570" y="4049" />
            </Array>
            <mxPoint x="31280" y="4237" as="sourcePoint" />
            <mxPoint x="31840.000000000004" y="4020" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="YD8wXlY8oEXokaMSZj_n-869" parent="1" style="swimlane;fontStyle=1;align=center;verticalAlign=top;childLayout=stackLayout;horizontal=1;startSize=40;horizontalStack=0;resizeParent=1;resizeParentMax=0;resizeLast=0;collapsible=1;marginBottom=0;whiteSpace=wrap;html=1;fillColor=#0050ef;strokeColor=#001DBC;fontColor=#ffffff;" value="&lt;span style=&quot;text-align: left;&quot;&gt;Proc.cc&lt;/span&gt;&lt;span style=&quot;text-align: left;&quot;&gt;&lt;br&gt;/home/ICer/proj/cva6/verif/core-v-verif/vendor/riscv/riscv-isa-sim/riscv/Proc.cc&lt;/span&gt;" vertex="1">
          <mxGeometry height="2778" width="690" x="32540" y="1471" as="geometry" />
        </mxCell>
        <mxCell id="YD8wXlY8oEXokaMSZj_n-870" parent="YD8wXlY8oEXokaMSZj_n-869" style="line;strokeWidth=1;fillColor=none;align=left;verticalAlign=middle;spacingTop=-1;spacingLeft=3;spacingRight=3;rotatable=0;labelPosition=right;points=[];portConstraint=eastwest;strokeColor=inherit;" value="" vertex="1">
          <mxGeometry height="8" width="690" y="40" as="geometry" />
        </mxCell>
        <mxCell id="YD8wXlY8oEXokaMSZj_n-871" parent="YD8wXlY8oEXokaMSZj_n-869" style="text;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;html=1;fillColor=#f5f5f5;fontColor=#333333;strokeColor=#666666;" value="&lt;div&gt;st_rvfi Processor::step(size_t n, st_rvfi reference_) {&lt;/div&gt;&lt;div&gt;&amp;nbsp; &lt;span style=&quot;background-color: rgb(213, 232, 212);&quot;&gt;&lt;font style=&quot;color: rgb(0, 0, 255);&quot;&gt;st_rvfi rvfi;&lt;/font&gt;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;&amp;nbsp; this-&amp;gt;reference = &amp;amp; reference_;&lt;/div&gt;&lt;div&gt;&amp;nbsp; this-&amp;gt;step_rvfi = &amp;amp; rvfi;&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;&amp;nbsp; bool unified_traps = (this-&amp;gt;params[base + &quot;unified_traps&quot;]).a_bool;&lt;/div&gt;&lt;div&gt;&amp;nbsp; bool interrupts_injection = (this-&amp;gt;params[base + &quot;interrupts_injection&quot;]).a_bool;&lt;/div&gt;&lt;div&gt;&amp;nbsp; bool debug_injection = (this-&amp;gt;params[base + &quot;debug_injection&quot;]).a_bool;&lt;/div&gt;&lt;div&gt;&amp;nbsp; // Use mstatus as a reference&lt;/div&gt;&lt;div&gt;&amp;nbsp; bool inverse_csr_access = (reference-&amp;gt;csr_addr[0x300] != 0x300);&lt;br&gt;&lt;div&gt;&amp;nbsp; memset(&amp;amp;rvfi, 0, sizeof(st_rvfi));&lt;br&gt;&lt;br&gt;&amp;nbsp; do {&lt;/div&gt;&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;" vertex="1">
          <mxGeometry height="222" width="690" y="48" as="geometry" />
        </mxCell>
        <mxCell id="YD8wXlY8oEXokaMSZj_n-872" parent="YD8wXlY8oEXokaMSZj_n-869" style="text;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;html=1;fillColor=#f5f5f5;fontColor=#333333;strokeColor=#666666;" value="&lt;div&gt;&amp;nbsp; &amp;nbsp; if (this-&amp;gt;is_waiting_for_interrupt())&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; this-&amp;gt;clear_waiting_for_interrupt();&lt;br&gt;&lt;br&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; bool inject_interrupt = ((this-&amp;gt;reference-&amp;gt;intr &amp;amp; 0b111) == 0b101);&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; if (inject_interrupt &amp;amp;&amp;amp; interrupts_injection &amp;amp;&amp;amp; !this-&amp;gt;taken_trap) {&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; // We need to ensure this is an interrupt to inject mip&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; uint64_t mcause = reference-&amp;gt;csr_rdata[INDEX_CSR(CSR_MCAUSE)];&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; if (mcause &amp;gt;&amp;gt; 31) {&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; uint64_t mip = this-&amp;gt;mcause_to_mip(mcause);&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;// int &amp;nbsp;MIP_MSIP,&amp;nbsp;MIP_MTIP,&amp;nbsp;MIP_MEIP&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; this-&amp;gt;get_state()-&amp;gt;mip-&amp;gt;backdoor_write(mip);&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;//  MIP&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; this-&amp;gt;step_rvfi-&amp;gt;intr = 0b101; // Interrupt&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; this-&amp;gt;step_rvfi-&amp;gt;intr |= ((mcause &amp;amp; 0x3FF) &amp;lt;&amp;lt; 3);&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; // interrupt &lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; uint64_t nmi_mcause = (this-&amp;gt;params[base + &quot;nmi_mcause&quot;]).a_uint64_t;&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; if (nmi_mcause == (mcause &amp;amp; 0x3FF))&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;// NMI&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; this-&amp;gt;nmi_inject = true;&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; }&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; }&lt;/div&gt;&lt;/div&gt;" vertex="1">
          <mxGeometry height="280" width="690" y="270" as="geometry" />
        </mxCell>
        <mxCell id="YD8wXlY8oEXokaMSZj_n-873" parent="YD8wXlY8oEXokaMSZj_n-869" style="text;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;html=1;fillColor=#f5f5f5;fontColor=#333333;strokeColor=#666666;" value="&lt;div&gt;&amp;nbsp; &amp;nbsp; if (reference-&amp;gt;dbg &amp;amp;&amp;amp; !this-&amp;gt;get_state()-&amp;gt;debug_mode &amp;amp;&amp;amp; debug_injection &amp;amp;&amp;amp; !this-&amp;gt;halted()) {&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; uint64_t cause = reference-&amp;gt;dbg;&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; if (cause) {&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; enter_debug_mode(cause);&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; rvfi.dbg = cause;&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; rvfi.trap = 0b101;&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; rvfi.trap |= (cause &amp;lt;&amp;lt; 9);&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; }&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; }&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; if (this-&amp;gt;taken_trap &amp;amp;&amp;amp; !(this-&amp;gt;which_trap &amp;gt;&amp;gt; 31)) {&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; rvfi.intr = 0b011;&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; }&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; if (this-&amp;gt;taken_debug) {&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; rvfi.dbg = this-&amp;gt;which_debug;&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; }&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; this-&amp;gt;taken_trap = false;&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; this-&amp;gt;which_trap = 0;&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; this-&amp;gt;taken_debug = false;&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; this-&amp;gt;which_debug = 0;&lt;/div&gt;&lt;/div&gt;" vertex="1">
          <mxGeometry height="340" width="690" y="550" as="geometry" />
        </mxCell>
        <mxCell id="YD8wXlY8oEXokaMSZj_n-874" parent="YD8wXlY8oEXokaMSZj_n-869" style="text;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;html=1;fillColor=#f5f5f5;fontColor=#333333;strokeColor=#666666;" value="&amp;nbsp; &amp;nbsp; &lt;span style=&quot;background-color: rgb(213, 232, 212);&quot;&gt;&lt;font style=&quot;color: rgb(0, 0, 255);&quot;&gt;processor_t::step(n);&lt;/font&gt;&lt;/span&gt;" vertex="1">
          <mxGeometry height="30" width="690" y="890" as="geometry" />
        </mxCell>
        <mxCell id="YD8wXlY8oEXokaMSZj_n-875" parent="YD8wXlY8oEXokaMSZj_n-869" style="text;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;html=1;fillColor=#f5f5f5;fontColor=#333333;strokeColor=#666666;" value="&lt;div&gt;&amp;nbsp; &amp;nbsp; if (this-&amp;gt;taken_trap &amp;amp;&amp;amp; (this-&amp;gt;which_trap &amp;gt;&amp;gt; 31))&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; this-&amp;gt;get_state()-&amp;gt;mip-&amp;gt;backdoor_write(0);&lt;/div&gt;" vertex="1">
          <mxGeometry height="50" width="690" y="920" as="geometry" />
        </mxCell>
        <mxCell id="YD8wXlY8oEXokaMSZj_n-876" parent="YD8wXlY8oEXokaMSZj_n-869" style="text;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;html=1;fillColor=#f5f5f5;fontColor=#333333;strokeColor=#666666;" value="&lt;div&gt;&amp;nbsp; &amp;nbsp; // First intr of the trap handler&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; if ((this-&amp;gt;taken_trap || this-&amp;gt;taken_debug) &amp;amp;&amp;amp; !(this-&amp;gt;which_trap &amp;gt;&amp;gt; 31)) {&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; rvfi.trap = 1;&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; if (this-&amp;gt;get_state()-&amp;gt;debug_mode) {&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; rvfi.trap |= 0x4;&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; rvfi.trap |= (this-&amp;gt;which_debug &amp;amp; 0x7) &amp;lt;&amp;lt; 0x9;&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; } else if (this-&amp;gt;which_trap &amp;gt;&amp;gt; 31) {&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; rvfi.trap |= 0x2;&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; rvfi.trap |= (this-&amp;gt;which_trap &amp;amp; 0x3F) &amp;lt;&amp;lt; 0x3;&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; }&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; }&lt;/div&gt;" vertex="1">
          <mxGeometry height="172" width="690" y="970" as="geometry" />
        </mxCell>
        <mxCell id="YD8wXlY8oEXokaMSZj_n-877" parent="YD8wXlY8oEXokaMSZj_n-869" style="text;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;html=1;fillColor=#f5f5f5;fontColor=#333333;strokeColor=#666666;" value="&lt;div&gt;&amp;nbsp; &amp;nbsp; rvfi.dbg_mode = this-&amp;gt;get_state()-&amp;gt;debug_mode;&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; rvfi.mode = this-&amp;gt;get_state()-&amp;gt;last_inst_priv;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;// priv &lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; rvfi.insn =&amp;nbsp;&lt;span style=&quot;background-color: transparent; color: light-dark(rgb(51, 51, 51), rgb(193, 193, 193));&quot;&gt;(uint32_t)(this-&amp;gt;get_state()-&amp;gt;last_inst_fetched.bits() &amp;amp; 0xffffffffULL);&amp;nbsp; //&amp;nbsp;&lt;br&gt;&lt;br&gt;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;background-color: transparent;&quot;&gt;&lt;div style=&quot;&quot;&gt;&amp;nbsp; &amp;nbsp; // TODO FIXME Handle multiple/zero writes in a single insn.&lt;/div&gt;&lt;div style=&quot;&quot;&gt;&amp;nbsp; &amp;nbsp; auto &amp;amp;reg_commits = this-&amp;gt;get_state()-&amp;gt;log_reg_write;&lt;/div&gt;&lt;div style=&quot;&quot;&gt;&amp;nbsp; &amp;nbsp; int xlen = this-&amp;gt;get_state()-&amp;gt;last_inst_xlen;&lt;/div&gt;&lt;div style=&quot;&quot;&gt;&amp;nbsp; &amp;nbsp; int flen = this-&amp;gt;get_state()-&amp;gt;last_inst_flen;&lt;/div&gt;&lt;div style=&quot;&quot;&gt;&lt;br&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; rvfi.rs1_addr = this-&amp;gt;get_state()-&amp;gt;last_inst_fetched.rs1();&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; rvfi.rs1_rdata = this-&amp;gt;get_XPR(reference-&amp;gt;rs1_addr);&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; rvfi.rs2_addr = this-&amp;gt;get_state()-&amp;gt;last_inst_fetched.rs2();&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; rvfi.rs2_rdata = this-&amp;gt;get_XPR(reference-&amp;gt;rs2_addr);&lt;br&gt;&lt;br&gt;&amp;nbsp; &amp;nbsp; bool got_commit = false;&lt;br&gt;&lt;br&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; if (rvfi.intr) {&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; for (auto &amp;amp;reg : last_log_reg_write) {&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; reg_t addr = reg.first &amp;gt;&amp;gt; 4;&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; rvfi.csr_valid[INDEX_CSR(addr)] = 1;&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; rvfi.csr_addr [INDEX_CSR(addr)] = addr;&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; rvfi.csr_wdata[INDEX_CSR(addr)] = reg.second.v[0];&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; rvfi.csr_wmask[INDEX_CSR(addr)] = -1;&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; }&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; }&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; last_log_reg_write.clear();&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;&lt;/span&gt;&lt;/div&gt;" vertex="1">
          <mxGeometry height="408" width="690" y="1142" as="geometry" />
        </mxCell>
        <mxCell id="YD8wXlY8oEXokaMSZj_n-878" parent="YD8wXlY8oEXokaMSZj_n-869" style="text;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;html=1;fillColor=#f5f5f5;fontColor=#333333;strokeColor=#666666;" value="&lt;div&gt;&amp;nbsp; &amp;nbsp; // commitcsr(csr)&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; for (auto &amp;amp;reg : reg_commits) {&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; if ((reg.first &amp;gt;&amp;gt; 4) &amp;gt; 32) {&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; if (rvfi.trap) {&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; last_log_reg_write[reg.first] = reg.second;&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; }&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; else if ((reg.first &amp;gt;&amp;gt; 4) &amp;lt; 0xFFF) {&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; reg_t addr = reg.first &amp;gt;&amp;gt; 4;&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; rvfi.csr_valid[INDEX_CSR(addr)] = 1;&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; rvfi.csr_addr [INDEX_CSR(addr)] = addr;&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; rvfi.csr_wdata[INDEX_CSR(addr)] = reg.second.v[0];&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; rvfi.csr_wmask[INDEX_CSR(addr)] = -1;&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; }&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; }&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; else {&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; // TODO FIXME Take into account the XLEN/FLEN for int/FP values.&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; rvfi.rd1_addr = reg.first &amp;gt;&amp;gt; 4;&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; rvfi.rd1_wdata = reg.second.v[0];&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; // TODO FIXME Handle multiple register commits per cycle.&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; // TODO FIXME This must be handled on the RVFI side as well.&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; }&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; }&lt;/div&gt;" vertex="1">
          <mxGeometry height="330" width="690" y="1550" as="geometry" />
        </mxCell>
        <mxCell id="YD8wXlY8oEXokaMSZj_n-879" parent="YD8wXlY8oEXokaMSZj_n-869" style="text;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;html=1;fillColor=#f5f5f5;fontColor=#333333;strokeColor=#666666;" value="&lt;div&gt;&amp;nbsp; &amp;nbsp; if (csr_counters_injection &amp;amp; !rvfi.trap) {&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; // Inject values comming from the reference&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; if ((rvfi.insn &amp;amp; MASK_CSRRS) == MATCH_CSRRS ||&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; (rvfi.insn &amp;amp; MASK_CSRRSI) == MATCH_CSRRSI ||&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; (rvfi.insn &amp;amp; MASK_CSRRC) == MATCH_CSRRC ||&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; (rvfi.insn &amp;amp; MASK_CSRRCI) == MATCH_CSRRCI ||&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; (rvfi.insn &amp;amp; MASK_CSRRW) == MATCH_CSRRW ||&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; (rvfi.insn &amp;amp; MASK_CSRRWI) == MATCH_CSRRWI ) {&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; reg_t read_csr = this-&amp;gt;get_state()-&amp;gt;last_inst_fetched.csr();&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; switch (read_csr) {&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; case CSR_MIP: // MIP&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; case 0xC00: // cycle&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; case 0xC80: // cycleh&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; case 0xB00: // mcycle&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; case 0xB80: // mcycleh&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; if (reference-&amp;gt;rd1_addr) {&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; this-&amp;gt;set_XPR(reference-&amp;gt;rd1_addr, this-&amp;gt;xlen_format(reference-&amp;gt;rd1_wdata));&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; rvfi.rd1_wdata = reference-&amp;gt;rd1_wdata;&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; }&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; // If it is set or clear we need to inject also the value in the CSR&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; if (this-&amp;gt;get_state()-&amp;gt;last_inst_fetched.rs1()) {&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; if ((rvfi.insn &amp;amp; MASK_CSRRC) == MATCH_CSRRC&amp;nbsp; &amp;nbsp;||&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; (rvfi.insn &amp;amp; MASK_CSRRS) == MATCH_CSRRS&amp;nbsp; &amp;nbsp;||&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; (rvfi.insn &amp;amp; MASK_CSRRCI) == MATCH_CSRRCI ||&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; (rvfi.insn &amp;amp; MASK_CSRRSI) == MATCH_CSRRSI) {&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; if (reference-&amp;gt;csr_valid[INDEX_CSR(read_csr)]) {&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; this-&amp;gt;put_csr(read_csr, this-&amp;gt;xlen_format(reference-&amp;gt;csr_wdata[INDEX_CSR(read_csr)]));&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; rvfi.csr_wdata[INDEX_CSR(read_csr)] = reference-&amp;gt;csr_wdata[INDEX_CSR(read_csr)];&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; }&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; }&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; }&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; if ((rvfi.insn &amp;amp; MASK_CSRRW) == MATCH_CSRRW&amp;nbsp; &amp;nbsp;||&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; (rvfi.insn &amp;amp; MASK_CSRRWI) == MATCH_CSRRWI) {&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; if (reference-&amp;gt;csr_valid[INDEX_CSR(read_csr)]) {&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; this-&amp;gt;put_csr(read_csr, this-&amp;gt;xlen_format(reference-&amp;gt;csr_wdata[INDEX_CSR(read_csr)]));&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; rvfi.csr_wdata[INDEX_CSR(read_csr)] = reference-&amp;gt;csr_wdata[INDEX_CSR(read_csr)];&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; }&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; }&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; break;&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; default:&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; break;&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; }&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; }&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; }&lt;/div&gt;" vertex="1">
          <mxGeometry height="730" width="690" y="1880" as="geometry" />
        </mxCell>
        <mxCell id="YD8wXlY8oEXokaMSZj_n-880" parent="YD8wXlY8oEXokaMSZj_n-869" style="text;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;html=1;fillColor=#f5f5f5;fontColor=#333333;strokeColor=#666666;" value="&lt;div&gt;&amp;nbsp; &amp;nbsp; // Remove sign extension applied by Spike in 32b mode.&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; if (this-&amp;gt;get_xlen() == 32) {&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; rvfi.pc_rdata &amp;amp;= 0xffffffffULL;&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; rvfi.rd1_wdata &amp;amp;= 0xffffffffULL;&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; }&lt;/div&gt;" vertex="1">
          <mxGeometry height="90" width="690" y="2610" as="geometry" />
        </mxCell>
        <mxCell id="YD8wXlY8oEXokaMSZj_n-881" parent="YD8wXlY8oEXokaMSZj_n-869" style="text;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;html=1;fillColor=#f5f5f5;fontColor=#333333;strokeColor=#666666;" value="&lt;div&gt;&amp;nbsp; } while (unified_traps &amp;amp;&amp;amp; this-&amp;gt;taken_trap &amp;amp;&amp;amp; (this-&amp;gt;which_trap &amp;gt;&amp;gt; 31));&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;" vertex="1">
          <mxGeometry height="30" width="690" y="2700" as="geometry" />
        </mxCell>
        <mxCell id="YD8wXlY8oEXokaMSZj_n-882" parent="YD8wXlY8oEXokaMSZj_n-869" style="text;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;html=1;fillColor=#f5f5f5;fontColor=#333333;strokeColor=#666666;" value="&lt;div&gt;&amp;nbsp; &lt;span style=&quot;background-color: rgb(213, 232, 212);&quot;&gt;&lt;font style=&quot;color: rgb(0, 0, 255);&quot;&gt;return rvfi;&lt;/font&gt;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;}&lt;/div&gt;" vertex="1">
          <mxGeometry height="48" width="690" y="2730" as="geometry" />
        </mxCell>
        <mxCell id="YD8wXlY8oEXokaMSZj_n-883" edge="1" parent="1" source="YD8wXlY8oEXokaMSZj_n-867" style="endArrow=classic;html=1;rounded=0;exitX=1;exitY=0.5;exitDx=0;exitDy=0;strokeWidth=5;entryX=0;entryY=0.5;entryDx=0;entryDy=0;" target="YD8wXlY8oEXokaMSZj_n-871" value="">
          <mxGeometry height="50" relative="1" width="50" as="geometry">
            <Array as="points">
              <mxPoint x="32310" y="4049" />
              <mxPoint x="32460" y="1629" />
            </Array>
            <mxPoint x="32260" y="3990" as="sourcePoint" />
            <mxPoint x="32600" y="4124" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="YD8wXlY8oEXokaMSZj_n-884" parent="1" style="swimlane;fontStyle=1;align=center;verticalAlign=top;childLayout=stackLayout;horizontal=1;startSize=40;horizontalStack=0;resizeParent=1;resizeParentMax=0;resizeLast=0;collapsible=1;marginBottom=0;whiteSpace=wrap;html=1;fillColor=#0050ef;strokeColor=#001DBC;fontColor=#ffffff;" value="&lt;span style=&quot;text-align: left;&quot;&gt;execute&lt;/span&gt;&lt;span style=&quot;text-align: left;&quot;&gt;&lt;br&gt;/home/ICer/proj/cva6/verif/core-v-verif/vendor/riscv/riscv-isa-sim/riscv/execute.cc&lt;/span&gt;" vertex="1">
          <mxGeometry height="2260" width="590" x="33575" y="2105" as="geometry" />
        </mxCell>
        <mxCell id="YD8wXlY8oEXokaMSZj_n-885" parent="YD8wXlY8oEXokaMSZj_n-884" style="line;strokeWidth=1;fillColor=none;align=left;verticalAlign=middle;spacingTop=-1;spacingLeft=3;spacingRight=3;rotatable=0;labelPosition=right;points=[];portConstraint=eastwest;strokeColor=inherit;" value="" vertex="1">
          <mxGeometry height="8" width="590" y="40" as="geometry" />
        </mxCell>
        <mxCell id="YD8wXlY8oEXokaMSZj_n-886" parent="YD8wXlY8oEXokaMSZj_n-884" style="text;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;html=1;fillColor=#f5f5f5;fontColor=#333333;strokeColor=#666666;" value="void processor_t::step(size_t n) {" vertex="1">
          <mxGeometry height="32" width="590" y="48" as="geometry" />
        </mxCell>
        <mxCell id="YD8wXlY8oEXokaMSZj_n-887" parent="YD8wXlY8oEXokaMSZj_n-884" style="text;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;html=1;fillColor=#f5f5f5;fontColor=#333333;strokeColor=#666666;" value="&lt;div&gt;&amp;nbsp; if (!state.debug_mode) {&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; if (halt_request == HR_REGULAR) {&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; enter_debug_mode(DCSR_CAUSE_DEBUGINT);&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; } else if (halt_request == HR_GROUP) {&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; enter_debug_mode(DCSR_CAUSE_GROUP);&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; } // !!!The halt bit in DCSR is deprecated.&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; else if (state.dcsr-&amp;gt;halt) {&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; enter_debug_mode(DCSR_CAUSE_HALT);&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; }&lt;/div&gt;&lt;div&gt;&amp;nbsp; }&lt;/div&gt;" vertex="1">
          <mxGeometry height="170" width="590" y="80" as="geometry" />
        </mxCell>
        <mxCell id="YD8wXlY8oEXokaMSZj_n-888" parent="YD8wXlY8oEXokaMSZj_n-884" style="text;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;html=1;fillColor=#f5f5f5;fontColor=#333333;strokeColor=#666666;" value="&lt;div&gt;&amp;nbsp; while (n &amp;gt; 0) {&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; size_t instret = 0;&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; reg_t pc = state.pc;&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; mmu_t* _mmu = mmu;&lt;br&gt;&lt;br&gt;&lt;div&gt;&lt;font style=&quot;color: rgb(0, 0, 255); background-color: light-dark(#ffffff, var(--ge-dark-color, #121212));&quot;&gt;&amp;nbsp; &amp;nbsp; #define advance_pc() \&lt;/font&gt;&lt;/div&gt;&lt;div&gt;&lt;font style=&quot;color: rgb(0, 0, 255); background-color: light-dark(#ffffff, var(--ge-dark-color, #121212));&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; if (unlikely(invalid_pc(pc))) { \&lt;/font&gt;&lt;/div&gt;&lt;div&gt;&lt;font style=&quot;color: rgb(0, 0, 255); background-color: light-dark(#ffffff, var(--ge-dark-color, #121212));&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; switch (pc) { \&lt;/font&gt;&lt;/div&gt;&lt;div&gt;&lt;font style=&quot;color: rgb(0, 0, 255); background-color: light-dark(#ffffff, var(--ge-dark-color, #121212));&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; case PC_SERIALIZE_BEFORE: state.serialized = true; break; \&lt;/font&gt;&lt;/div&gt;&lt;div&gt;&lt;font style=&quot;color: rgb(0, 0, 255); background-color: light-dark(#ffffff, var(--ge-dark-color, #121212));&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; case PC_SERIALIZE_AFTER: ++instret; break; \&lt;/font&gt;&lt;/div&gt;&lt;div&gt;&lt;font style=&quot;color: rgb(0, 0, 255); background-color: light-dark(#ffffff, var(--ge-dark-color, #121212));&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; default: abort(); \&lt;/font&gt;&lt;/div&gt;&lt;div&gt;&lt;font style=&quot;color: rgb(0, 0, 255); background-color: light-dark(#ffffff, var(--ge-dark-color, #121212));&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; } \&lt;/font&gt;&lt;/div&gt;&lt;div&gt;&lt;font style=&quot;color: rgb(0, 0, 255); background-color: light-dark(#ffffff, var(--ge-dark-color, #121212));&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; pc = state.pc; \&lt;/font&gt;&lt;/div&gt;&lt;div&gt;&lt;font style=&quot;color: rgb(0, 0, 255); background-color: light-dark(#ffffff, var(--ge-dark-color, #121212));&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; break; \&lt;/font&gt;&lt;/div&gt;&lt;div&gt;&lt;font style=&quot;color: rgb(0, 0, 255); background-color: light-dark(#ffffff, var(--ge-dark-color, #121212));&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; } else { \&lt;/font&gt;&lt;/div&gt;&lt;div&gt;&lt;font style=&quot;color: rgb(0, 0, 255); background-color: light-dark(#ffffff, var(--ge-dark-color, #121212));&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; state.pc = pc; \&lt;/font&gt;&lt;/div&gt;&lt;div&gt;&lt;font style=&quot;color: rgb(0, 0, 255); background-color: light-dark(#ffffff, var(--ge-dark-color, #121212));&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; instret++; \&lt;/font&gt;&lt;/div&gt;&lt;div&gt;&lt;font style=&quot;color: rgb(0, 0, 255); background-color: light-dark(#ffffff, var(--ge-dark-color, #121212));&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; }&lt;/font&gt;&lt;/div&gt;&lt;/div&gt;" vertex="1">
          <mxGeometry height="280" width="590" y="250" as="geometry" />
        </mxCell>
        <mxCell id="YD8wXlY8oEXokaMSZj_n-889" parent="YD8wXlY8oEXokaMSZj_n-884" style="text;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;html=1;fillColor=#f5f5f5;fontColor=#333333;strokeColor=#666666;" value="&lt;div&gt;&amp;nbsp; &amp;nbsp; try&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; {&lt;br&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &lt;span style=&quot;background-color: rgb(213, 232, 212);&quot;&gt;&lt;font style=&quot;color: rgb(0, 0, 255);&quot;&gt;take_pending_interrupt();&lt;/font&gt;&lt;/span&gt;&lt;/div&gt;" vertex="1">
          <mxGeometry height="60" width="590" y="530" as="geometry" />
        </mxCell>
        <mxCell id="YD8wXlY8oEXokaMSZj_n-890" parent="YD8wXlY8oEXokaMSZj_n-884" style="text;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;html=1;fillColor=#f5f5f5;fontColor=#333333;strokeColor=#666666;" value="&lt;div&gt;&lt;span style=&quot;background-color: transparent; color: light-dark(rgb(51, 51, 51), rgb(193, 193, 193));&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; if (unlikely(slow_path()))&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; {&lt;br&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; // Main simulation loop, slow path.&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; while (instret &amp;lt; n)&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; {&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; if (unlikely(!state.serialized &amp;amp;&amp;amp; state.single_step == state.STEP_STEPPED)) {&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; state.single_step = state.STEP_NONE;&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; if (!state.debug_mode) {&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; enter_debug_mode(DCSR_CAUSE_STEP);&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; // enter_debug_mode changed state.pc, so we can&#39;t just continue.&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; break;&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; }&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; }&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; if (unlikely(state.single_step == state.STEP_STEPPING)) {&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; state.single_step = state.STEP_STEPPED;&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; }&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; if (!state.serialized &amp;amp;&amp;amp; check_triggers_icount) {&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; auto match = TM.detect_icount_match();&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; if (match.has_value()) {&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; assert(match-&amp;gt;timing == triggers::TIMING_BEFORE);&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; throw triggers::matched_t((triggers::operation_t)0, 0, match-&amp;gt;action);&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; }&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; }&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; // debug mode wfis must nop&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; if (unlikely(in_wfi &amp;amp;&amp;amp; !state.debug_mode)) {&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; throw wait_for_interrupt_t();&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; }&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; in_wfi = false;&lt;/div&gt;&lt;/div&gt;" vertex="1">
          <mxGeometry height="470" width="590" y="590" as="geometry" />
        </mxCell>
        <mxCell id="YD8wXlY8oEXokaMSZj_n-891" parent="YD8wXlY8oEXokaMSZj_n-884" style="text;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;html=1;fillColor=#f5f5f5;fontColor=#333333;strokeColor=#666666;" value="&lt;div&gt;&lt;span style=&quot;background-color: transparent; color: light-dark(rgb(51, 51, 51), rgb(193, 193, 193));&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;color: light-dark(rgb(51, 51, 51), rgb(193, 193, 193)); background-color: rgb(213, 232, 212);&quot;&gt;&lt;font style=&quot;color: rgb(0, 0, 255);&quot;&gt;insn_fetch_t fetch = mmu-&amp;gt;load_insn(pc);&lt;/font&gt;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &lt;span style=&quot;background-color: rgb(213, 232, 212);&quot;&gt;&lt;font style=&quot;color: rgb(0, 0, 255);&quot;&gt;state.last_inst_fetched = fetch.insn;&lt;/font&gt;&lt;/span&gt;&lt;/div&gt;&lt;/div&gt;" vertex="1">
          <mxGeometry height="40" width="590" y="1060" as="geometry" />
        </mxCell>
        <mxCell id="YD8wXlY8oEXokaMSZj_n-892" parent="YD8wXlY8oEXokaMSZj_n-884" style="text;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;html=1;fillColor=#f5f5f5;fontColor=#333333;strokeColor=#666666;" value="&lt;div&gt;&lt;span style=&quot;background-color: transparent; color: light-dark(rgb(51, 51, 51), rgb(193, 193, 193));&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; if (debug &amp;amp;&amp;amp; !state.serialized)&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &lt;span style=&quot;background-color: rgb(213, 232, 212);&quot;&gt;&lt;font style=&quot;color: rgb(0, 0, 255);&quot;&gt;disasm(fetch.insn);&lt;/font&gt;&lt;/span&gt;&lt;/div&gt;&lt;/div&gt;" vertex="1">
          <mxGeometry height="40" width="590" y="1100" as="geometry" />
        </mxCell>
        <mxCell id="YD8wXlY8oEXokaMSZj_n-893" parent="YD8wXlY8oEXokaMSZj_n-884" style="text;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;html=1;fillColor=#f5f5f5;fontColor=#333333;strokeColor=#666666;" value="&lt;div&gt;&lt;span style=&quot;background-color: transparent; color: light-dark(rgb(51, 51, 51), rgb(193, 193, 193));&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;color: light-dark(rgb(51, 51, 51), rgb(193, 193, 193)); background-color: rgb(213, 232, 212);&quot;&gt;&lt;font style=&quot;color: rgb(0, 0, 255);&quot;&gt;pc = execute_insn_logged(this, pc, fetch)&lt;/font&gt;&lt;/span&gt;&lt;span style=&quot;background-color: transparent; color: light-dark(rgb(51, 51, 51), rgb(193, 193, 193));&quot;&gt;;&lt;/span&gt;&lt;/div&gt;" vertex="1">
          <mxGeometry height="30" width="590" y="1140" as="geometry" />
        </mxCell>
        <mxCell id="YD8wXlY8oEXokaMSZj_n-894" parent="YD8wXlY8oEXokaMSZj_n-884" style="text;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;html=1;fillColor=#f5f5f5;fontColor=#333333;strokeColor=#666666;" value="&lt;div&gt;&lt;span style=&quot;background-color: transparent; color: light-dark(rgb(51, 51, 51), rgb(193, 193, 193));&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;color: light-dark(rgb(51, 51, 51), rgb(193, 193, 193)); background-color: rgb(213, 232, 212);&quot;&gt;&lt;font style=&quot;color: rgb(0, 0, 255);&quot;&gt;advance_pc();&lt;/font&gt;&lt;/span&gt;&lt;/div&gt;" vertex="1">
          <mxGeometry height="30" width="590" y="1170" as="geometry" />
        </mxCell>
        <mxCell id="YD8wXlY8oEXokaMSZj_n-895" parent="YD8wXlY8oEXokaMSZj_n-884" style="text;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;html=1;fillColor=#f5f5f5;fontColor=#333333;strokeColor=#666666;" value="&lt;div&gt;&lt;span style=&quot;background-color: transparent; color: light-dark(rgb(51, 51, 51), rgb(193, 193, 193));&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; }&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; }&lt;/div&gt;&lt;/div&gt;" vertex="1">
          <mxGeometry height="40" width="590" y="1200" as="geometry" />
        </mxCell>
        <mxCell id="YD8wXlY8oEXokaMSZj_n-896" parent="YD8wXlY8oEXokaMSZj_n-884" style="text;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;html=1;fillColor=#f5f5f5;fontColor=#333333;strokeColor=#666666;" value="&lt;div&gt;&lt;span style=&quot;background-color: transparent; color: light-dark(rgb(51, 51, 51), rgb(193, 193, 193));&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; else while (instret &amp;lt; n)&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; {&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; // Main simulation loop, fast path.&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; for (auto ic_entry = _mmu-&amp;gt;access_icache(pc); ; ) {&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; auto fetch = ic_entry-&amp;gt;data;&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; state.last_inst_fetched = fetch.insn.bits();&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; pc = execute_insn_fast(this, pc, fetch);&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; ic_entry = ic_entry-&amp;gt;next;&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; if (unlikely(ic_entry-&amp;gt;tag != pc))&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; break;&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; if (unlikely(instret + 1 == n))&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; break;&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; instret++;&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; state.pc = pc;&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; }&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; advance_pc();&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; }&lt;/div&gt;&lt;/div&gt;" vertex="1">
          <mxGeometry height="290" width="590" y="1240" as="geometry" />
        </mxCell>
        <mxCell id="YD8wXlY8oEXokaMSZj_n-897" parent="YD8wXlY8oEXokaMSZj_n-884" style="text;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;html=1;fillColor=#f5f5f5;fontColor=#333333;strokeColor=#666666;" value="&lt;div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; }&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; catch(trap_t&amp;amp; t)&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; {&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; take_trap(t, pc);&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; n = instret;&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; // Trigger action takes priority over single step&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; auto match = TM.detect_trap_match(t);&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; if (match.has_value())&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; take_trigger_action(match-&amp;gt;action, 0, state.pc);&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; else if (unlikely(state.single_step == state.STEP_STEPPED)) {&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; state.single_step = state.STEP_NONE;&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; enter_debug_mode(DCSR_CAUSE_STEP);&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; }&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; }&lt;/div&gt;&lt;/div&gt;" vertex="1">
          <mxGeometry height="230" width="590" y="1530" as="geometry" />
        </mxCell>
        <mxCell id="YD8wXlY8oEXokaMSZj_n-898" parent="YD8wXlY8oEXokaMSZj_n-884" style="text;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;html=1;fillColor=#f5f5f5;fontColor=#333333;strokeColor=#666666;" value="&lt;div&gt;&amp;nbsp; &amp;nbsp; catch (triggers::matched_t&amp;amp; t)&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; {&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; if (mmu-&amp;gt;matched_trigger) {&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; delete mmu-&amp;gt;matched_trigger;&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; mmu-&amp;gt;matched_trigger = NULL;&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; }&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; take_trigger_action(t.action, t.address, pc);&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; }&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; catch(trap_debug_mode&amp;amp;)&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; {&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; enter_debug_mode(DCSR_CAUSE_SWBP);&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; break;&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; }&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; catch (wait_for_interrupt_t &amp;amp;t)&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; {&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; // Return to the outer simulation loop, which gives other devices/harts a&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; // chance to generate interrupts.&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; //&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; // In the debug ROM this prevents us from wasting time looping, but also&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; // allows us to switch to other threads only once per idle loop in case&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; // there is activity.&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; n = ++instret;&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; in_wfi = true;&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; }&lt;/div&gt;" vertex="1">
          <mxGeometry height="360" width="590" y="1760" as="geometry" />
        </mxCell>
        <mxCell id="YD8wXlY8oEXokaMSZj_n-899" parent="YD8wXlY8oEXokaMSZj_n-884" style="text;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;html=1;fillColor=#f5f5f5;fontColor=#333333;strokeColor=#666666;" value="&lt;div&gt;&amp;nbsp; &amp;nbsp; state.minstret-&amp;gt;bump(instret);&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; // Model a hart whose CPI is 1.&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; state.mcycle-&amp;gt;bump(instret);&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; n -= instret;&lt;/div&gt;" vertex="1">
          <mxGeometry height="100" width="590" y="2120" as="geometry" />
        </mxCell>
        <mxCell id="YD8wXlY8oEXokaMSZj_n-900" parent="YD8wXlY8oEXokaMSZj_n-884" style="text;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;html=1;fillColor=#f5f5f5;fontColor=#333333;strokeColor=#666666;" value="&amp;nbsp; &amp;nbsp; }&lt;div&gt;}&lt;/div&gt;" vertex="1">
          <mxGeometry height="40" width="590" y="2220" as="geometry" />
        </mxCell>
        <mxCell id="YD8wXlY8oEXokaMSZj_n-901" edge="1" parent="1" source="YD8wXlY8oEXokaMSZj_n-874" style="endArrow=classic;html=1;rounded=0;exitX=1;exitY=0.5;exitDx=0;exitDy=0;strokeWidth=5;entryX=0;entryY=0;entryDx=0;entryDy=0;" target="YD8wXlY8oEXokaMSZj_n-884" value="">
          <mxGeometry height="50" relative="1" width="50" as="geometry">
            <Array as="points">
              <mxPoint x="33390" y="2375" />
              <mxPoint x="33480" y="2110" />
            </Array>
            <mxPoint x="33130" y="4420" as="sourcePoint" />
            <mxPoint x="33420" y="1990" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="YD8wXlY8oEXokaMSZj_n-902" parent="1" style="swimlane;fontStyle=1;align=center;verticalAlign=top;childLayout=stackLayout;horizontal=1;startSize=40;horizontalStack=0;resizeParent=1;resizeParentMax=0;resizeLast=0;collapsible=1;marginBottom=0;whiteSpace=wrap;html=1;fillColor=#0050ef;strokeColor=#001DBC;fontColor=#ffffff;" value="&lt;span style=&quot;text-align: left;&quot;&gt;mmu&lt;br&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;/home/ICer/proj/cva6/verif/core-v-verif/vendor/riscv/riscv-isa-sim/riscv/mmu.h&lt;/span&gt;&lt;/span&gt;" vertex="1">
          <mxGeometry height="990" width="680" x="34495" y="1850" as="geometry" />
        </mxCell>
        <mxCell id="YD8wXlY8oEXokaMSZj_n-903" parent="YD8wXlY8oEXokaMSZj_n-902" style="line;strokeWidth=1;fillColor=none;align=left;verticalAlign=middle;spacingTop=-1;spacingLeft=3;spacingRight=3;rotatable=0;labelPosition=right;points=[];portConstraint=eastwest;strokeColor=inherit;" value="" vertex="1">
          <mxGeometry height="8" width="680" y="40" as="geometry" />
        </mxCell>
        <mxCell id="YD8wXlY8oEXokaMSZj_n-904" parent="YD8wXlY8oEXokaMSZj_n-902" style="text;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;html=1;fillColor=#f5f5f5;fontColor=#333333;strokeColor=#666666;" value="&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;struct insn_fetch_t&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;{&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp; insn_func_t func;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp; insn_t insn;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;};&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&lt;br&gt;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;struct icache_entry_t {&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp; reg_t tag;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp; struct icache_entry_t* next;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp; insn_fetch_t data;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;};&lt;/span&gt;&lt;/div&gt;" vertex="1">
          <mxGeometry height="192" width="680" y="48" as="geometry" />
        </mxCell>
        <mxCell id="YD8wXlY8oEXokaMSZj_n-905" parent="YD8wXlY8oEXokaMSZj_n-902" style="text;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;html=1;fillColor=#dae8fc;strokeColor=#6c8ebf;" value="&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp; inline insn_fetch_t load_insn(reg_t addr)&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp; {&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp; &amp;nbsp; icache_entry_t entry;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp; &amp;nbsp; return refill_icache(addr, &amp;amp;entry)-&amp;gt;data;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp; }&lt;/span&gt;&lt;/div&gt;" vertex="1">
          <mxGeometry height="100" width="680" y="240" as="geometry" />
        </mxCell>
        <mxCell id="YD8wXlY8oEXokaMSZj_n-906" parent="YD8wXlY8oEXokaMSZj_n-902" style="text;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;html=1;fillColor=#f5f5f5;fontColor=#333333;strokeColor=#666666;" value="&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;// ITLB lookup&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;inline tlb_entry_t translate_insn_addr(reg_t addr) {&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp; reg_t vpn = addr &amp;gt;&amp;gt; PGSHIFT;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;// 12 (4KB)&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp; if (likely(tlb_insn_tag[vpn % TLB_ENTRIES] == vpn))&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;&lt;span style=&quot;background-color: rgb(213, 232, 212);&quot;&gt;&lt;font style=&quot;color: rgb(255, 0, 0);&quot;&gt;// tag (tag virtual page table num, &lt;/font&gt;&lt;/span&gt;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp; &amp;nbsp; return tlb_data[vpn % TLB_ENTRIES];&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp; &lt;span style=&quot;background-color: rgb(213, 232, 212);&quot;&gt;&lt;font style=&quot;color: rgb(0, 0, 255);&quot;&gt;return fetch_slow_path(addr);&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;// ptw&lt;/font&gt;&lt;/span&gt;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;}&lt;/span&gt;&lt;/div&gt;" vertex="1">
          <mxGeometry height="120" width="680" y="340" as="geometry" />
        </mxCell>
        <mxCell id="YD8wXlY8oEXokaMSZj_n-907" parent="YD8wXlY8oEXokaMSZj_n-902" style="text;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;html=1;fillColor=#f5f5f5;fontColor=#333333;strokeColor=#666666;" value="&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;inline icache_entry_t* refill_icache(reg_t addr, icache_entry_t* entry)&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;{&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp; if (matched_trigger)&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp; &amp;nbsp; throw *matched_trigger;&lt;/span&gt;&lt;/div&gt;" vertex="1">
          <mxGeometry height="70" width="680" y="460" as="geometry" />
        </mxCell>
        <mxCell id="YD8wXlY8oEXokaMSZj_n-908" parent="YD8wXlY8oEXokaMSZj_n-902" style="text;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;html=1;fillColor=#f5f5f5;fontColor=#333333;strokeColor=#666666;" value="&lt;div&gt;&lt;span style=&quot;background-color: transparent; color: light-dark(rgb(51, 51, 51), rgb(193, 193, 193));&quot;&gt;&amp;nbsp; auto tlb_entry = translate_insn_addr(addr);&lt;/span&gt;&lt;/div&gt;" vertex="1">
          <mxGeometry height="30" width="680" y="530" as="geometry" />
        </mxCell>
        <mxCell id="YD8wXlY8oEXokaMSZj_n-909" parent="YD8wXlY8oEXokaMSZj_n-902" style="text;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;html=1;fillColor=#f5f5f5;fontColor=#333333;strokeColor=#666666;" value="&lt;div&gt;&lt;span style=&quot;background-color: transparent; color: light-dark(rgb(51, 51, 51), rgb(193, 193, 193));&quot;&gt;&amp;nbsp; insn_bits_t insn = from_le(*(uint16_t*)(tlb_entry.host_offset + addr));&amp;nbsp; &amp;nbsp;&lt;/span&gt;&lt;span style=&quot;background-color: rgb(213, 232, 212);&quot;&gt;&lt;font style=&quot;color: light-dark(rgb(0, 0, 255), rgb(193, 193, 193));&quot;&gt;//&lt;/font&gt;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp; int length = insn_length(insn);&lt;/span&gt;&lt;/div&gt;" vertex="1">
          <mxGeometry height="40" width="680" y="560" as="geometry" />
        </mxCell>
        <mxCell id="YD8wXlY8oEXokaMSZj_n-910" parent="YD8wXlY8oEXokaMSZj_n-902" style="text;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;html=1;fillColor=#f5f5f5;fontColor=#333333;strokeColor=#666666;" value="&lt;div&gt;&lt;span style=&quot;background-color: transparent; color: light-dark(rgb(51, 51, 51), rgb(193, 193, 193));&quot;&gt;&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;background-color: transparent; color: light-dark(rgb(51, 51, 51), rgb(193, 193, 193));&quot;&gt;&amp;nbsp; if (likely(length == 4)) {&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &lt;/span&gt;&lt;span style=&quot;background-color: rgb(213, 232, 212);&quot;&gt;&lt;font style=&quot;color: light-dark(rgb(0, 0, 255), rgb(193, 193, 193));&quot;&gt;//, &lt;/font&gt;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp; &amp;nbsp; insn |= (insn_bits_t)from_le(*(const uint16_t*)translate_insn_addr_to_host(addr + 2)) &amp;lt;&amp;lt; 16;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp; } else if (length == 2) {&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp; &amp;nbsp; // entire instruction already fetched&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp; } else if (length == 6) {&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp; &amp;nbsp; insn |= (insn_bits_t)from_le(*(const uint16_t*)translate_insn_addr_to_host(addr + 4)) &amp;lt;&amp;lt; 32;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp; &amp;nbsp; insn |= (insn_bits_t)from_le(*(const uint16_t*)translate_insn_addr_to_host(addr + 2)) &amp;lt;&amp;lt; 16;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp; } else {&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp; &amp;nbsp; static_assert(sizeof(insn_bits_t) == 8, &quot;insn_bits_t must be uint64_t&quot;);&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp; &amp;nbsp; insn |= (insn_bits_t)from_le(*(const uint16_t*)translate_insn_addr_to_host(addr + 6)) &amp;lt;&amp;lt; 48;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp; &amp;nbsp; insn |= (insn_bits_t)from_le(*(const uint16_t*)translate_insn_addr_to_host(addr + 4)) &amp;lt;&amp;lt; 32;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp; &amp;nbsp; insn |= (insn_bits_t)from_le(*(const uint16_t*)translate_insn_addr_to_host(addr + 2)) &amp;lt;&amp;lt; 16;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp; }&lt;/span&gt;&lt;/div&gt;" vertex="1">
          <mxGeometry height="200" width="680" y="600" as="geometry" />
        </mxCell>
        <mxCell id="YD8wXlY8oEXokaMSZj_n-911" parent="YD8wXlY8oEXokaMSZj_n-902" style="text;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;html=1;fillColor=#f5f5f5;fontColor=#333333;strokeColor=#666666;" value="&lt;div&gt;&lt;span style=&quot;background-color: transparent; color: light-dark(rgb(51, 51, 51), rgb(193, 193, 193));&quot;&gt;&amp;nbsp; &lt;/span&gt;&lt;span style=&quot;background-color: rgb(213, 232, 212);&quot;&gt;&lt;font style=&quot;color: light-dark(rgb(0, 0, 255), rgb(193, 193, 193));&quot;&gt;insn_fetch_t fetch = {proc-&amp;gt;decode_insn(insn), insn};&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; //instructions instruction&lt;/font&gt;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp; entry-&amp;gt;tag = addr;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp; entry-&amp;gt;next = &amp;amp;icache[icache_index(addr + length)];&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp; entry-&amp;gt;data = fetch;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&lt;br&gt;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp; reg_t paddr = tlb_entry.target_offset + addr;;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp; if (tracer.interested_in_range(paddr, paddr + 1, FETCH)) {&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp; &amp;nbsp; entry-&amp;gt;tag = -1;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp; &amp;nbsp; tracer.trace(paddr, length, FETCH);&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp; }&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp; return entry;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;}&lt;/span&gt;&lt;/div&gt;" vertex="1">
          <mxGeometry height="190" width="680" y="800" as="geometry" />
        </mxCell>
        <mxCell id="YD8wXlY8oEXokaMSZj_n-912" parent="1" style="swimlane;fontStyle=1;align=center;verticalAlign=top;childLayout=stackLayout;horizontal=1;startSize=40;horizontalStack=0;resizeParent=1;resizeParentMax=0;resizeLast=0;collapsible=1;marginBottom=0;whiteSpace=wrap;html=1;fillColor=#0050ef;strokeColor=#001DBC;fontColor=#ffffff;" value="&lt;span style=&quot;text-align: left;&quot;&gt;execute&lt;/span&gt;&lt;span style=&quot;text-align: left;&quot;&gt;&lt;br&gt;/home/ICer/proj/cva6/verif/core-v-verif/vendor/riscv/riscv-isa-sim/riscv/execute.cc&lt;/span&gt;" vertex="1">
          <mxGeometry height="640" width="550" x="34495" y="3015" as="geometry" />
        </mxCell>
        <mxCell id="YD8wXlY8oEXokaMSZj_n-913" parent="YD8wXlY8oEXokaMSZj_n-912" style="line;strokeWidth=1;fillColor=none;align=left;verticalAlign=middle;spacingTop=-1;spacingLeft=3;spacingRight=3;rotatable=0;labelPosition=right;points=[];portConstraint=eastwest;strokeColor=inherit;" value="" vertex="1">
          <mxGeometry height="8" width="550" y="40" as="geometry" />
        </mxCell>
        <mxCell id="YD8wXlY8oEXokaMSZj_n-914" parent="YD8wXlY8oEXokaMSZj_n-912" style="text;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;html=1;fillColor=#f5f5f5;fontColor=#333333;strokeColor=#666666;" value="&lt;div&gt;static inline reg_t execute_insn_logged(processor_t* p, reg_t pc, insn_fetch_t fetch) {&lt;/div&gt;" vertex="1">
          <mxGeometry height="32" width="550" y="48" as="geometry" />
        </mxCell>
        <mxCell id="YD8wXlY8oEXokaMSZj_n-915" parent="YD8wXlY8oEXokaMSZj_n-912" style="text;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;html=1;fillColor=#f5f5f5;fontColor=#333333;strokeColor=#666666;" value="&lt;div&gt;&lt;span style=&quot;background-color: transparent; color: light-dark(rgb(51, 51, 51), rgb(193, 193, 193));&quot;&gt;&amp;nbsp; if (p-&amp;gt;get_log_commits_enabled()) {&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp; &amp;nbsp; commit_log_reset(p);&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp; &amp;nbsp; commit_log_stash_privilege(p);&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp; }&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&lt;br&gt;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;" vertex="1">
          <mxGeometry height="70" width="550" y="80" as="geometry" />
        </mxCell>
        <mxCell id="YD8wXlY8oEXokaMSZj_n-916" parent="YD8wXlY8oEXokaMSZj_n-912" style="text;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;html=1;fillColor=#f5f5f5;fontColor=#333333;strokeColor=#666666;" value="&lt;div&gt;&lt;span style=&quot;background-color: transparent; color: light-dark(rgb(51, 51, 51), rgb(193, 193, 193));&quot;&gt;&amp;nbsp; reg_t npc;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&lt;br&gt;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp; try {&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp; &amp;nbsp; &lt;span style=&quot;background-color: rgb(213, 232, 212);&quot;&gt;&lt;font style=&quot;color: rgb(0, 0, 255);&quot;&gt;npc = fetch.func(p, fetch.insn, pc);&lt;/font&gt;&lt;/span&gt;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp; &amp;nbsp; if (npc != PC_SERIALIZE_BEFORE) {&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; if (p-&amp;gt;get_log_commits_enabled()) {&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; commit_log_print_insn(p, pc, fetch.insn);&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; }&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp;}&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp; } catch (wait_for_interrupt_t &amp;amp;t) {&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; if (p-&amp;gt;get_log_commits_enabled()) {&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; commit_log_print_insn(p, pc, fetch.insn);&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; }&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; throw;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp; } catch(mem_trap_t&amp;amp; t) {&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; //handle segfault in midlle of vector load/store&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; if (p-&amp;gt;get_log_commits_enabled()) {&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; for (auto item : p-&amp;gt;get_state()-&amp;gt;log_reg_write) {&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; if ((item.first &amp;amp; 3) == 3) {&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; commit_log_print_insn(p, pc, fetch.insn);&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; break;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; }&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; }&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; }&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; throw;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp; } catch(...) {&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp; &amp;nbsp; throw;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp; }&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&lt;br&gt;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;" vertex="1">
          <mxGeometry height="420" width="550" y="150" as="geometry" />
        </mxCell>
        <mxCell id="YD8wXlY8oEXokaMSZj_n-917" parent="YD8wXlY8oEXokaMSZj_n-912" style="text;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;html=1;fillColor=#f5f5f5;fontColor=#333333;strokeColor=#666666;" value="&lt;div&gt;&lt;span style=&quot;background-color: transparent; color: light-dark(rgb(51, 51, 51), rgb(193, 193, 193));&quot;&gt;&amp;nbsp; p-&amp;gt;update_histogram(pc);&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&lt;br&gt;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;" vertex="1">
          <mxGeometry height="30" width="550" y="570" as="geometry" />
        </mxCell>
        <mxCell id="YD8wXlY8oEXokaMSZj_n-918" parent="YD8wXlY8oEXokaMSZj_n-912" style="text;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;html=1;fillColor=#f5f5f5;fontColor=#333333;strokeColor=#666666;" value="&lt;div&gt;&amp;nbsp; return npc;&lt;/div&gt;&lt;div&gt;}&lt;/div&gt;" vertex="1">
          <mxGeometry height="40" width="550" y="600" as="geometry" />
        </mxCell>
        <mxCell id="YD8wXlY8oEXokaMSZj_n-919" edge="1" parent="1" source="YD8wXlY8oEXokaMSZj_n-891" style="endArrow=classic;html=1;rounded=0;exitX=1;exitY=0.5;exitDx=0;exitDy=0;strokeWidth=5;entryX=0;entryY=0.5;entryDx=0;entryDy=0;" target="YD8wXlY8oEXokaMSZj_n-905" value="">
          <mxGeometry height="50" relative="1" width="50" as="geometry">
            <Array as="points">
              <mxPoint x="34205" y="3185" />
              <mxPoint x="34385" y="2140" />
            </Array>
            <mxPoint x="34415" y="2580" as="sourcePoint" />
            <mxPoint x="34895" y="2295" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="YD8wXlY8oEXokaMSZj_n-920" edge="1" parent="1" source="YD8wXlY8oEXokaMSZj_n-893" style="endArrow=classic;html=1;rounded=0;exitX=1;exitY=0.5;exitDx=0;exitDy=0;strokeWidth=5;entryX=0;entryY=0;entryDx=0;entryDy=0;" target="YD8wXlY8oEXokaMSZj_n-912" value="">
          <mxGeometry height="50" relative="1" width="50" as="geometry">
            <Array as="points">
              <mxPoint x="34295" y="3260" />
              <mxPoint x="34425" y="3015" />
            </Array>
            <mxPoint x="34655" y="3415" as="sourcePoint" />
            <mxPoint x="35085" y="2245" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="YD8wXlY8oEXokaMSZj_n-921" parent="1" style="swimlane;fontStyle=1;align=center;verticalAlign=top;childLayout=stackLayout;horizontal=1;startSize=40;horizontalStack=0;resizeParent=1;resizeParentMax=0;resizeLast=0;collapsible=1;marginBottom=0;whiteSpace=wrap;html=1;fillColor=#0050ef;strokeColor=#001DBC;fontColor=#ffffff;" value="&lt;span style=&quot;text-align: left;&quot;&gt;mmu&lt;br&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;/home/ICer/proj/cva6/verif/core-v-verif/vendor/riscv/riscv-isa-sim/riscv/mmu.h&lt;/span&gt;&lt;/span&gt;" vertex="1">
          <mxGeometry height="500" width="540" x="35450" y="1885" as="geometry" />
        </mxCell>
        <mxCell id="YD8wXlY8oEXokaMSZj_n-922" parent="YD8wXlY8oEXokaMSZj_n-921" style="line;strokeWidth=1;fillColor=none;align=left;verticalAlign=middle;spacingTop=-1;spacingLeft=3;spacingRight=3;rotatable=0;labelPosition=right;points=[];portConstraint=eastwest;strokeColor=inherit;" value="" vertex="1">
          <mxGeometry height="8" width="540" y="40" as="geometry" />
        </mxCell>
        <mxCell id="YD8wXlY8oEXokaMSZj_n-923" parent="YD8wXlY8oEXokaMSZj_n-921" style="text;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;html=1;fillColor=#f5f5f5;fontColor=#333333;strokeColor=#666666;" value="&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;insn_func_t processor_t::decode_insn(insn_t insn)&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;{&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp; // look up opcode in hash table&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp; size_t idx = insn.bits() % OPCODE_CACHE_SIZE;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp; insn_desc_t desc = opcode_cache[idx];&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&lt;br&gt;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp; &lt;span style=&quot;background-color: rgb(213, 232, 212);&quot;&gt;&lt;font style=&quot;color: rgb(0, 0, 255);&quot;&gt;bool rve = extension_enabled(&#39;E&#39;);&lt;/font&gt;&lt;/span&gt;&lt;/span&gt;&lt;/div&gt;" vertex="1">
          <mxGeometry height="112" width="540" y="48" as="geometry" />
        </mxCell>
        <mxCell id="YD8wXlY8oEXokaMSZj_n-924" parent="YD8wXlY8oEXokaMSZj_n-921" style="text;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;html=1;fillColor=#f5f5f5;fontColor=#333333;strokeColor=#666666;" value="&lt;div&gt;&amp;nbsp; if (unlikely(insn.bits() != desc.match)) {&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; // fall back to linear search&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; int cnt = 0;&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; insn_desc_t* p = &amp;amp;instructions[0];&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; while ((insn.bits() &amp;amp; p-&amp;gt;mask) != p-&amp;gt;match)&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; p++, cnt++;&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; desc = *p;&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; if (p-&amp;gt;mask != 0 &amp;amp;&amp;amp; p &amp;gt; &amp;amp;instructions[0]) {&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; if (p-&amp;gt;match != (p - 1)-&amp;gt;match &amp;amp;&amp;amp; p-&amp;gt;match != (p + 1)-&amp;gt;match) {&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; // move to front of opcode list to reduce miss penalty&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; while (--p &amp;gt;= &amp;amp;instructions[0])&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; *(p + 1) = *p;&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; instructions[0] = desc;&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; }&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; }&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; opcode_cache[idx] = desc;&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; opcode_cache[idx].match = insn.bits();&lt;/div&gt;&lt;div&gt;&amp;nbsp; }&lt;/div&gt;" vertex="1">
          <mxGeometry height="300" width="540" y="160" as="geometry" />
        </mxCell>
        <mxCell id="YD8wXlY8oEXokaMSZj_n-925" parent="YD8wXlY8oEXokaMSZj_n-921" style="text;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;html=1;fillColor=#f5f5f5;fontColor=#333333;strokeColor=#666666;" value="&lt;div&gt;&lt;span style=&quot;background-color: transparent; color: light-dark(rgb(51, 51, 51), rgb(193, 193, 193));&quot;&gt;&amp;nbsp; &lt;/span&gt;&lt;span style=&quot;background-color: rgb(213, 232, 212);&quot;&gt;&lt;font style=&quot;color: rgb(0, 0, 255);&quot;&gt;r&lt;span style=&quot;background-color: rgb(213, 232, 212);&quot;&gt;eturn desc.func(xlen, rve, log_commits_enabled);&lt;/span&gt;&lt;/font&gt;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;}&lt;/span&gt;&lt;/div&gt;" vertex="1">
          <mxGeometry height="40" width="540" y="460" as="geometry" />
        </mxCell>
        <mxCell id="YD8wXlY8oEXokaMSZj_n-926" edge="1" parent="1" source="YD8wXlY8oEXokaMSZj_n-898" style="endArrow=none;html=1;rounded=0;exitX=1;exitY=0.5;exitDx=0;exitDy=0;strokeWidth=5;entryX=0;entryY=0.5;entryDx=0;entryDy=0;startArrow=classic;startFill=1;endFill=0;dashed=1;dashPattern=1 2;" target="YD8wXlY8oEXokaMSZj_n-907" value="">
          <mxGeometry height="50" relative="1" width="50" as="geometry">
            <Array as="points">
              <mxPoint x="34265" y="4045" />
              <mxPoint x="34435" y="2345" />
            </Array>
            <mxPoint x="34365" y="3750" as="sourcePoint" />
            <mxPoint x="34695" y="2705" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="YD8wXlY8oEXokaMSZj_n-927" edge="1" parent="1" style="endArrow=classic;html=1;rounded=0;entryX=1;entryY=0.5;entryDx=0;entryDy=0;strokeWidth=3;" target="YD8wXlY8oEXokaMSZj_n-906" value="">
          <mxGeometry height="50" relative="1" width="50" as="geometry">
            <Array as="points">
              <mxPoint x="35205" y="2395" />
              <mxPoint x="35205" y="2250" />
            </Array>
            <mxPoint x="35175" y="2395" as="sourcePoint" />
            <mxPoint x="35335" y="2365" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="YD8wXlY8oEXokaMSZj_n-928" edge="1" parent="1" source="YD8wXlY8oEXokaMSZj_n-911" style="endArrow=classic;html=1;rounded=0;exitX=1;exitY=0.5;exitDx=0;exitDy=0;strokeWidth=5;entryX=0;entryY=0;entryDx=0;entryDy=0;" target="YD8wXlY8oEXokaMSZj_n-921" value="">
          <mxGeometry height="50" relative="1" width="50" as="geometry">
            <Array as="points">
              <mxPoint x="35295" y="2745" />
              <mxPoint x="35360" y="1885" />
            </Array>
            <mxPoint x="35445" y="3400" as="sourcePoint" />
            <mxPoint x="35775" y="2355" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="YD8wXlY8oEXokaMSZj_n-929" edge="1" parent="1" source="YD8wXlY8oEXokaMSZj_n-916" style="endArrow=classic;html=1;rounded=0;exitX=1;exitY=0.5;exitDx=0;exitDy=0;strokeWidth=5;entryX=0;entryY=0;entryDx=0;entryDy=0;" target="YD8wXlY8oEXokaMSZj_n-936" value="">
          <mxGeometry height="50" relative="1" width="50" as="geometry">
            <Array as="points">
              <mxPoint x="35125" y="3376" />
              <mxPoint x="35175" y="3285" />
            </Array>
            <mxPoint x="35055" y="3375.5" as="sourcePoint" />
            <mxPoint x="35415" y="3555" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="YD8wXlY8oEXokaMSZj_n-930" parent="1" style="swimlane;fontStyle=1;align=center;verticalAlign=top;childLayout=stackLayout;horizontal=1;startSize=40;horizontalStack=0;resizeParent=1;resizeParentMax=0;resizeLast=0;collapsible=1;marginBottom=0;whiteSpace=wrap;html=1;fillColor=#0050ef;strokeColor=#001DBC;fontColor=#ffffff;" value="&lt;span style=&quot;text-align: left;&quot;&gt;mmu&lt;br&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;/home/ICer/proj/cva6/verif/core-v-verif/vendor/riscv/riscv-isa-sim/riscv/mmu.h&lt;/span&gt;&lt;/span&gt;" vertex="1">
          <mxGeometry height="570" width="540" x="36140" y="2305" as="geometry" />
        </mxCell>
        <mxCell id="YD8wXlY8oEXokaMSZj_n-931" parent="YD8wXlY8oEXokaMSZj_n-930" style="line;strokeWidth=1;fillColor=none;align=left;verticalAlign=middle;spacingTop=-1;spacingLeft=3;spacingRight=3;rotatable=0;labelPosition=right;points=[];portConstraint=eastwest;strokeColor=inherit;" value="" vertex="1">
          <mxGeometry height="8" width="540" y="40" as="geometry" />
        </mxCell>
        <mxCell id="YD8wXlY8oEXokaMSZj_n-932" parent="YD8wXlY8oEXokaMSZj_n-930" style="text;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;html=1;fillColor=#f5f5f5;fontColor=#333333;strokeColor=#666666;" value="&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;struct insn_desc_t&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;{&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp; insn_bits_t match;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp; insn_bits_t mask;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp; insn_func_t fast_rv32i;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp; insn_func_t fast_rv64i;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp; insn_func_t fast_rv32e;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp; insn_func_t fast_rv64e;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp; insn_func_t logged_rv32i;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp; insn_func_t logged_rv64i;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp; insn_func_t logged_rv32e;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp; insn_func_t logged_rv64e;&lt;/span&gt;&lt;/div&gt;" vertex="1">
          <mxGeometry height="192" width="540" y="48" as="geometry" />
        </mxCell>
        <mxCell id="YD8wXlY8oEXokaMSZj_n-933" parent="YD8wXlY8oEXokaMSZj_n-930" style="text;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;html=1;fillColor=#f5f5f5;fontColor=#333333;strokeColor=#666666;" value="&lt;div&gt;&lt;span style=&quot;background-color: transparent; color: light-dark(rgb(51, 51, 51), rgb(193, 193, 193));&quot;&gt;&amp;nbsp; insn_func_t func(int xlen, bool rve, bool logged)&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp; {&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp; &amp;nbsp; if (logged)&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; if (rve)&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; return xlen == 64 ? logged_rv64e : logged_rv32e;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; else&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &lt;span style=&quot;background-color: rgb(213, 232, 212);&quot;&gt;&lt;font style=&quot;color: rgb(0, 0, 255);&quot;&gt;return xlen == 64 ? &lt;b&gt;logged_rv64i&lt;/b&gt; : logged_rv32i;&lt;/font&gt;&lt;/span&gt;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp; &amp;nbsp; else&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; if (rve)&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; return xlen == 64 ? fast_rv64e : fast_rv32e;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; else&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; return xlen == 64 ? fast_rv64i : fast_rv32i;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp; }&lt;/span&gt;&lt;/div&gt;" vertex="1">
          <mxGeometry height="210" width="540" y="240" as="geometry" />
        </mxCell>
        <mxCell id="YD8wXlY8oEXokaMSZj_n-934" parent="YD8wXlY8oEXokaMSZj_n-930" style="text;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;html=1;fillColor=#f5f5f5;fontColor=#333333;strokeColor=#666666;" value="&lt;div&gt;&lt;span style=&quot;background-color: transparent; color: light-dark(rgb(51, 51, 51), rgb(193, 193, 193));&quot;&gt;&amp;nbsp; static insn_desc_t illegal()&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp; {&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp; &amp;nbsp; return {0, 0,&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;amp;illegal_instruction, &amp;amp;illegal_instruction, &amp;amp;illegal_instruction, &amp;amp;illegal_instruction,&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;amp;illegal_instruction, &amp;amp;illegal_instruction, &amp;amp;illegal_instruction, &amp;amp;illegal_instruction};&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp; }&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;};&lt;/span&gt;&lt;/div&gt;" vertex="1">
          <mxGeometry height="120" width="540" y="450" as="geometry" />
        </mxCell>
        <mxCell id="YD8wXlY8oEXokaMSZj_n-935" edge="1" parent="1" source="YD8wXlY8oEXokaMSZj_n-925" style="endArrow=classic;html=1;rounded=0;strokeWidth=5;entryX=0;entryY=0.5;entryDx=0;entryDy=0;exitX=1;exitY=0.5;exitDx=0;exitDy=0;" target="YD8wXlY8oEXokaMSZj_n-933" value="">
          <mxGeometry height="50" relative="1" width="50" as="geometry">
            <Array as="points">
              <mxPoint x="36040" y="2365" />
              <mxPoint x="36100" y="2650" />
            </Array>
            <mxPoint x="35840" y="3415" as="sourcePoint" />
            <mxPoint x="36300" y="2455" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="YD8wXlY8oEXokaMSZj_n-936" parent="1" style="swimlane;fontStyle=1;align=center;verticalAlign=top;childLayout=stackLayout;horizontal=1;startSize=40;horizontalStack=0;resizeParent=1;resizeParentMax=0;resizeLast=0;collapsible=1;marginBottom=0;whiteSpace=wrap;html=1;fillColor=#0050ef;strokeColor=#001DBC;fontColor=#ffffff;" value="&lt;span style=&quot;text-align: left;&quot;&gt;inst&lt;br&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;/home/ICer/proj/cva6/verif/core-v-verif/vendor/riscv/riscv-isa-sim/riscv/insn_template.cc&lt;/span&gt;&lt;/span&gt;" vertex="1">
          <mxGeometry height="200" width="540" x="35295" y="3285" as="geometry" />
        </mxCell>
        <mxCell id="YD8wXlY8oEXokaMSZj_n-937" parent="YD8wXlY8oEXokaMSZj_n-936" style="line;strokeWidth=1;fillColor=none;align=left;verticalAlign=middle;spacingTop=-1;spacingLeft=3;spacingRight=3;rotatable=0;labelPosition=right;points=[];portConstraint=eastwest;strokeColor=inherit;" value="" vertex="1">
          <mxGeometry height="8" width="540" y="40" as="geometry" />
        </mxCell>
        <mxCell id="YD8wXlY8oEXokaMSZj_n-938" parent="YD8wXlY8oEXokaMSZj_n-936" style="text;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;html=1;fillColor=#f5f5f5;fontColor=#333333;strokeColor=#666666;" value="&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;reg_t logged_rv64i_NAME(processor_t* p, insn_t insn, reg_t pc)&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;{&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp; #define xlen 64&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp; reg_t npc = sext_xlen(pc + insn_length(OPCODE));&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp; #include &quot;insns/NAME.h&quot;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp; trace_opcode(p, OPCODE, insn);&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp; #undef xlen&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp; return npc;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;}&lt;/span&gt;&lt;/div&gt;" vertex="1">
          <mxGeometry height="152" width="540" y="48" as="geometry" />
        </mxCell>
        <mxCell id="YD8wXlY8oEXokaMSZj_n-939" parent="1" style="swimlane;fontStyle=1;align=center;verticalAlign=top;childLayout=stackLayout;horizontal=1;startSize=40;horizontalStack=0;resizeParent=1;resizeParentMax=0;resizeLast=0;collapsible=1;marginBottom=0;whiteSpace=wrap;html=1;fillColor=#0050ef;strokeColor=#001DBC;fontColor=#ffffff;" value="&lt;span style=&quot;text-align: left;&quot;&gt;add&lt;br&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;/home/ICer/proj/cva6/verif/core-v-verif/vendor/riscv/riscv-isa-sim/riscv/insns/add.h&lt;/span&gt;&lt;/span&gt;" vertex="1">
          <mxGeometry height="80" width="540" x="36035" y="3345" as="geometry" />
        </mxCell>
        <mxCell id="YD8wXlY8oEXokaMSZj_n-940" parent="YD8wXlY8oEXokaMSZj_n-939" style="line;strokeWidth=1;fillColor=none;align=left;verticalAlign=middle;spacingTop=-1;spacingLeft=3;spacingRight=3;rotatable=0;labelPosition=right;points=[];portConstraint=eastwest;strokeColor=inherit;" value="" vertex="1">
          <mxGeometry height="8" width="540" y="40" as="geometry" />
        </mxCell>
        <mxCell id="YD8wXlY8oEXokaMSZj_n-941" parent="YD8wXlY8oEXokaMSZj_n-939" style="text;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;html=1;fillColor=#f5f5f5;fontColor=#333333;strokeColor=#666666;" value="&lt;span style=&quot;font-size: 12px;&quot;&gt;WRITE_RD(sext_xlen(RS1 + RS2));&lt;/span&gt;" vertex="1">
          <mxGeometry height="32" width="540" y="48" as="geometry" />
        </mxCell>
        <mxCell id="YD8wXlY8oEXokaMSZj_n-942" edge="1" parent="1" source="YD8wXlY8oEXokaMSZj_n-938" style="endArrow=classic;html=1;rounded=0;strokeWidth=5;entryX=0;entryY=0;entryDx=0;entryDy=0;exitX=1;exitY=0.5;exitDx=0;exitDy=0;" target="YD8wXlY8oEXokaMSZj_n-939" value="">
          <mxGeometry height="50" relative="1" width="50" as="geometry">
            <Array as="points">
              <mxPoint x="35935" y="3345" />
            </Array>
            <mxPoint x="35915" y="3485" as="sourcePoint" />
            <mxPoint x="36515" y="3385" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="YD8wXlY8oEXokaMSZj_n-943" edge="1" parent="1" source="YD8wXlY8oEXokaMSZj_n-936" style="endArrow=none;html=1;rounded=0;exitX=0.5;exitY=0;exitDx=0;exitDy=0;strokeWidth=5;entryX=1;entryY=0.25;entryDx=0;entryDy=0;startArrow=classic;startFill=1;endFill=0;dashed=1;dashPattern=1 2;" target="YD8wXlY8oEXokaMSZj_n-930" value="">
          <mxGeometry height="50" relative="1" width="50" as="geometry">
            <Array as="points">
              <mxPoint x="35565" y="3225" />
              <mxPoint x="36720" y="3225" />
              <mxPoint x="36730" y="2448" />
            </Array>
            <mxPoint x="35145" y="4495" as="sourcePoint" />
            <mxPoint x="35475" y="2795" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="YD8wXlY8oEXokaMSZj_n-944" edge="1" parent="1" source="YD8wXlY8oEXokaMSZj_n-107" style="endArrow=classic;html=1;rounded=0;exitX=1;exitY=0.5;exitDx=0;exitDy=0;strokeWidth=7;entryX=0;entryY=0;entryDx=0;entryDy=0;fillColor=#dae8fc;strokeColor=#6c8ebf;" target="YD8wXlY8oEXokaMSZj_n-948" value="">
          <mxGeometry height="50" relative="1" width="50" as="geometry">
            <Array as="points">
              <mxPoint x="11830" y="9785" />
              <mxPoint x="11890" y="10140" />
              <mxPoint x="21270" y="10160" />
              <mxPoint x="22490" y="2120" />
            </Array>
            <mxPoint x="17790" y="11480" as="sourcePoint" />
            <mxPoint x="24260" y="7380" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="YD8wXlY8oEXokaMSZj_n-945" connectable="0" parent="YD8wXlY8oEXokaMSZj_n-944" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];" value="Text" vertex="1">
          <mxGeometry relative="1" x="0.4104" y="27" as="geometry">
            <mxPoint x="-2" y="2" as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="YD8wXlY8oEXokaMSZj_n-948" parent="1" style="swimlane;fontStyle=1;align=center;verticalAlign=top;childLayout=stackLayout;horizontal=1;startSize=40;horizontalStack=0;resizeParent=1;resizeParentMax=0;resizeLast=0;collapsible=1;marginBottom=0;whiteSpace=wrap;html=1;" value="uvma_rvfi_instr_seq_item_c&lt;br&gt;&lt;div style=&quot;text-align: left;&quot;&gt;/home/ICer/proj/cva6/verif/core-v-verif/lib/uvm_agents/uvma_rvfi/seq/uvma_rvfi_instr_seq_item.sv&lt;/div&gt;" vertex="1">
          <mxGeometry height="738" width="620" x="23136.08" y="2120" as="geometry" />
        </mxCell>
        <mxCell id="YD8wXlY8oEXokaMSZj_n-962" parent="YD8wXlY8oEXokaMSZj_n-948" style="text;strokeColor=default;fillColor=default;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;html=1;" value="&lt;div style=&quot;&quot;&gt;&lt;div&gt;rand int unsigned&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;nret_id;&lt;/div&gt;&lt;div&gt;rand bit [CYCLE_CNT_WL-1:0]&amp;nbsp; &amp;nbsp;cycle_cnt;&lt;/div&gt;&lt;div&gt;rand bit [ORDER_WL-1:0]&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;order;&lt;/div&gt;&lt;div&gt;rand bit [ILEN-1:0]&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;insn;&lt;/div&gt;&lt;div&gt;rand bit [TRAP_WL-1:0]&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; trap;&lt;/div&gt;&lt;div&gt;rand bit&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; halt;&lt;/div&gt;&lt;div&gt;rand bit [RVFI_INTR_WL-1:0]&amp;nbsp; &amp;nbsp;intr;&lt;/div&gt;&lt;div&gt;rand uvma_rvfi_mode&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;mode;&lt;/div&gt;&lt;div&gt;rand bit [IXL_WL-1:0]&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;ixl;&lt;/div&gt;&lt;div&gt;rand bit [RVFI_DBG_WL-1:0]&amp;nbsp; &amp;nbsp; dbg;&lt;/div&gt;&lt;div&gt;rand bit&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; dbg_mode;&lt;/div&gt;&lt;div&gt;rand bit [RVFI_NMIP_WL-1:0]&amp;nbsp; &amp;nbsp;nmip;&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;rand bit&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; insn_interrupt;&lt;/div&gt;&lt;div&gt;rand int unsigned&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;insn_interrupt_id;&lt;/div&gt;&lt;div&gt;rand bit&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; insn_bus_fault;&lt;/div&gt;&lt;div&gt;rand bit&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; insn_nmi_store_fault;&lt;/div&gt;&lt;div&gt;rand bit&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; insn_nmi_load_fault;&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;/div&gt;" vertex="1">
          <mxGeometry height="280" width="620" y="40" as="geometry" />
        </mxCell>
        <mxCell id="YD8wXlY8oEXokaMSZj_n-964" parent="YD8wXlY8oEXokaMSZj_n-948" style="text;strokeColor=default;fillColor=default;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;html=1;" value="&lt;div style=&quot;&quot;&gt;&lt;div&gt;rand bit [XLEN-1:0]&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;pc_rdata;&lt;/div&gt;&lt;div&gt;rand bit [XLEN-1:0]&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;pc_wdata;&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;rand bit [GPR_ADDR_WL-1:0]&amp;nbsp; &amp;nbsp; rs1_addr;&lt;/div&gt;&lt;div&gt;rand bit [XLEN-1:0]&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;rs1_rdata;&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;rand bit [GPR_ADDR_WL-1:0]&amp;nbsp; &amp;nbsp; rs2_addr;&lt;/div&gt;&lt;div&gt;rand bit [XLEN-1:0]&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;rs2_rdata;&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;rand bit [GPR_ADDR_WL-1:0]&amp;nbsp; &amp;nbsp; rs3_addr;&lt;/div&gt;&lt;div&gt;rand bit [XLEN-1:0]&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;rs3_rdata;&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;rand bit [GPR_ADDR_WL-1:0]&amp;nbsp; &amp;nbsp; rd1_addr;&lt;/div&gt;&lt;div&gt;rand bit [XLEN-1:0]&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;rd1_wdata;&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;rand bit [GPR_ADDR_WL-1:0]&amp;nbsp; &amp;nbsp; rd2_addr;&lt;/div&gt;&lt;div&gt;rand bit [XLEN-1:0]&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;rd2_wdata;&lt;/div&gt;&lt;/div&gt;" vertex="1">
          <mxGeometry height="270" width="620" y="320" as="geometry" />
        </mxCell>
        <mxCell id="YD8wXlY8oEXokaMSZj_n-950" parent="YD8wXlY8oEXokaMSZj_n-948" style="text;strokeColor=default;fillColor=default;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;html=1;" value="&lt;div style=&quot;&quot;&gt;&lt;div&gt;rand bit [XLEN-1:0]&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;mem_addr;&lt;/div&gt;&lt;div&gt;rand bit [XLEN-1:0]&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;mem_rdata;&lt;/div&gt;&lt;div&gt;rand bit [XLEN-1:0]&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;mem_rmask;&lt;/div&gt;&lt;div&gt;rand bit [XLEN-1:0]&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;mem_wdata;&lt;/div&gt;&lt;div&gt;rand bit [XLEN-1:0]&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;mem_wmask;&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;uvma_rvfi_csr_seq_item_c&amp;nbsp; &amp;nbsp; &amp;nbsp; name_csrs[string];&lt;/div&gt;&lt;div&gt;uvma_rvfi_csr_seq_item_c&amp;nbsp; &amp;nbsp; &amp;nbsp; addr_csrs[longint unsigned];&lt;/div&gt;&lt;/div&gt;" vertex="1">
          <mxGeometry height="140" width="620" y="590" as="geometry" />
        </mxCell>
        <mxCell id="YD8wXlY8oEXokaMSZj_n-957" parent="YD8wXlY8oEXokaMSZj_n-948" style="line;strokeWidth=1;fillColor=none;align=left;verticalAlign=middle;spacingTop=-1;spacingLeft=3;spacingRight=3;rotatable=0;labelPosition=right;points=[];portConstraint=eastwest;strokeColor=inherit;" value="" vertex="1">
          <mxGeometry height="8" width="620" y="730" as="geometry" />
        </mxCell>
        <mxCell id="YD8wXlY8oEXokaMSZj_n-958" edge="1" parent="1" source="YD8wXlY8oEXokaMSZj_n-948" style="endArrow=classic;html=1;rounded=0;strokeWidth=7;fillColor=#dae8fc;strokeColor=#6c8ebf;entryX=0;entryY=0.5;entryDx=0;entryDy=0;exitX=1;exitY=0;exitDx=0;exitDy=0;" target="YD8wXlY8oEXokaMSZj_n-946" value="">
          <mxGeometry height="50" relative="1" width="50" as="geometry">
            <Array as="points">
              <mxPoint x="23936.08" y="2120" />
              <mxPoint x="23996.08" y="2635" />
            </Array>
            <mxPoint x="23926.08" y="2310" as="sourcePoint" />
            <mxPoint x="24246.08" y="3200" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="YD8wXlY8oEXokaMSZj_n-959" connectable="0" parent="YD8wXlY8oEXokaMSZj_n-958" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];" value="Text" vertex="1">
          <mxGeometry relative="1" x="0.4104" y="27" as="geometry">
            <mxPoint x="-2" y="2" as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="YD8wXlY8oEXokaMSZj_n-961" edge="1" parent="1" source="YD8wXlY8oEXokaMSZj_n-846" style="html=1;verticalAlign=bottom;endArrow=block;curved=0;rounded=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;strokeWidth=5;fillColor=#1ba1e2;strokeColor=#006EAF;exitX=1;exitY=0.5;exitDx=0;exitDy=0;" target="YD8wXlY8oEXokaMSZj_n-57" value="Connect">
          <mxGeometry relative="1" width="80" x="0.15" y="10" as="geometry">
            <mxPoint as="offset" />
            <Array as="points">
              <mxPoint x="24636.08" y="2665" />
              <mxPoint x="24686.08" y="3300" />
            </Array>
            <mxPoint x="25025.000000000004" y="2770" as="sourcePoint" />
            <mxPoint x="24525.000000000004" y="2800" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="YD8wXlY8oEXokaMSZj_n-966" edge="1" parent="1" source="YD8wXlY8oEXokaMSZj_n-733" style="html=1;verticalAlign=bottom;endArrow=block;curved=0;rounded=0;exitX=1;exitY=0;exitDx=0;exitDy=0;entryX=0;entryY=0;entryDx=0;entryDy=0;" target="YD8wXlY8oEXokaMSZj_n-824" value="dispatch">
          <mxGeometry relative="1" width="80" as="geometry">
            <Array as="points" />
            <mxPoint x="17860" y="10439" as="sourcePoint" />
            <mxPoint x="19667" y="9300" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="YD8wXlY8oEXokaMSZj_n-967" parent="1" style="swimlane;fontStyle=1;align=center;verticalAlign=top;childLayout=stackLayout;horizontal=1;startSize=40;horizontalStack=0;resizeParent=1;resizeParentMax=0;resizeLast=0;collapsible=1;marginBottom=0;whiteSpace=wrap;html=1;" value="uvma_rvfi_instr_if&lt;br&gt;&lt;div style=&quot;text-align: left;&quot;&gt;&lt;span style=&quot;background-color: transparent;&quot;&gt;/home/ICer/proj/cva6/verif/core-v-verif/lib/uvm_agents/uvma_rvfi/uvma_rvfi_instr_if.sv&lt;/span&gt;&lt;/div&gt;" vertex="1">
          <mxGeometry height="628" width="550" x="13620" y="11340" as="geometry" />
        </mxCell>
        <mxCell id="YD8wXlY8oEXokaMSZj_n-968" parent="YD8wXlY8oEXokaMSZj_n-967" style="text;strokeColor=default;fillColor=default;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;html=1;" value="&lt;div style=&quot;&quot;&gt;&lt;div&gt;input&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; clk,&lt;/div&gt;&lt;div&gt;input&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; reset_n,&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;input&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; rvfi_valid,&lt;/div&gt;&lt;/div&gt;" vertex="1">
          <mxGeometry height="70" width="550" y="40" as="geometry" />
        </mxCell>
        <mxCell id="YD8wXlY8oEXokaMSZj_n-969" parent="YD8wXlY8oEXokaMSZj_n-967" style="text;strokeColor=default;fillColor=default;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;html=1;" value="&lt;div style=&quot;&quot;&gt;&lt;div&gt;&lt;span style=&quot;background-color: transparent; color: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));&quot;&gt;input [ORDER_WL-1:0]&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;rvfi_order,&lt;/span&gt;&lt;/div&gt;&lt;div&gt;input [ILEN-1:0]&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;rvfi_insn,&lt;/div&gt;&lt;div&gt;input [TRAP_WL-1:0]&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; rvfi_trap,&lt;/div&gt;&lt;div&gt;input&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; rvfi_halt,&lt;/div&gt;&lt;div&gt;input [RVFI_DBG_WL-1:0]&amp;nbsp; &amp;nbsp; rvfi_dbg,&lt;/div&gt;&lt;div&gt;input&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;rvfi_dbg_mode,&lt;/div&gt;&lt;div&gt;input [RVFI_NMIP_WL-1:0]&amp;nbsp; &amp;nbsp;rvfi_nmip,&lt;/div&gt;&lt;div&gt;input [RVFI_INTR_WL-1:0]&amp;nbsp; &amp;nbsp; rvfi_intr,&lt;/div&gt;&lt;div&gt;input [MODE_WL-1:0]&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; rvfi_mode,&lt;/div&gt;&lt;div&gt;input [IXL_WL-1:0]&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;rvfi_ixl,&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;/div&gt;" vertex="1">
          <mxGeometry height="160" width="550" y="110" as="geometry" />
        </mxCell>
        <mxCell id="YD8wXlY8oEXokaMSZj_n-970" parent="YD8wXlY8oEXokaMSZj_n-967" style="text;strokeColor=default;fillColor=default;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;html=1;" value="&lt;div style=&quot;&quot;&gt;&lt;div&gt;input [XLEN-1:0]&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;rvfi_pc_rdata,&lt;/div&gt;&lt;div&gt;input [XLEN-1:0]&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;rvfi_pc_wdata,&lt;/div&gt;&lt;/div&gt;" vertex="1">
          <mxGeometry height="40" width="550" y="270" as="geometry" />
        </mxCell>
        <mxCell id="YD8wXlY8oEXokaMSZj_n-971" parent="YD8wXlY8oEXokaMSZj_n-967" style="text;strokeColor=default;fillColor=default;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;html=1;" value="&lt;div style=&quot;&quot;&gt;&lt;div&gt;input [GPR_ADDR_WL-1:0]&amp;nbsp; &amp;nbsp; rvfi_rs1_addr,&lt;/div&gt;&lt;div&gt;input [XLEN-1:0]&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; rvfi_rs1_rdata,&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;input [GPR_ADDR_WL-1:0]&amp;nbsp; &amp;nbsp; rvfi_rs2_addr,&lt;/div&gt;&lt;div&gt;input [XLEN-1:0]&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; rvfi_rs2_rdata,&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;input [GPR_ADDR_WL-1:0]&amp;nbsp; &amp;nbsp; rvfi_rs3_addr,&lt;/div&gt;&lt;div&gt;input [XLEN-1:0]&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; rvfi_rs3_rdata,&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;input [GPR_ADDR_WL-1:0]&amp;nbsp; &amp;nbsp; rvfi_rd1_addr,&lt;/div&gt;&lt;div&gt;input [XLEN-1:0]&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; rvfi_rd1_wdata,&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;input [GPR_ADDR_WL-1:0]&amp;nbsp; &amp;nbsp; rvfi_rd2_addr,&lt;/div&gt;&lt;div&gt;input [XLEN-1:0]&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; rvfi_rd2_wdata,&lt;/div&gt;&lt;/div&gt;" vertex="1">
          <mxGeometry height="220" width="550" y="310" as="geometry" />
        </mxCell>
        <mxCell id="YD8wXlY8oEXokaMSZj_n-972" parent="YD8wXlY8oEXokaMSZj_n-967" style="text;strokeColor=default;fillColor=default;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;html=1;" value="&lt;div style=&quot;&quot;&gt;&lt;div&gt;&lt;span style=&quot;background-color: transparent; color: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));&quot;&gt;input [XLEN-1:0]&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; rvfi_mem_addr,&lt;/span&gt;&lt;/div&gt;&lt;div&gt;input [XLEN-1:0]&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; rvfi_mem_rdata,&lt;/div&gt;&lt;div&gt;input [XLEN/8-1:0]&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;rvfi_mem_rmask,&lt;/div&gt;&lt;div&gt;input [XLEN-1:0]&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; rvfi_mem_wdata,&lt;/div&gt;&lt;div&gt;input [XLEN/8-1:0]&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;rvfi_mem_wmask&lt;/div&gt;&lt;/div&gt;" vertex="1">
          <mxGeometry height="90" width="550" y="530" as="geometry" />
        </mxCell>
        <mxCell id="YD8wXlY8oEXokaMSZj_n-973" parent="YD8wXlY8oEXokaMSZj_n-967" style="line;strokeWidth=1;fillColor=none;align=left;verticalAlign=middle;spacingTop=-1;spacingLeft=3;spacingRight=3;rotatable=0;labelPosition=right;points=[];portConstraint=eastwest;strokeColor=inherit;" value="" vertex="1">
          <mxGeometry height="8" width="550" y="620" as="geometry" />
        </mxCell>
        <mxCell id="YD8wXlY8oEXokaMSZj_n-975" parent="1" style="swimlane;fontStyle=1;align=center;verticalAlign=top;childLayout=stackLayout;horizontal=1;startSize=40;horizontalStack=0;resizeParent=1;resizeParentMax=0;resizeLast=0;collapsible=1;marginBottom=0;whiteSpace=wrap;html=1;fillColor=#dae8fc;strokeColor=#6c8ebf;" value="&lt;span style=&quot;text-align: left;&quot;&gt;&lt;span style=&quot;font-weight: 400;&quot;&gt;cva6_rvfi&lt;/span&gt;&lt;br&gt;&lt;span style=&quot;font-weight: 400;&quot;&gt;/home/ICer/proj/cva6/core/cva6_rvfi.sv&lt;/span&gt;&lt;/span&gt;" vertex="1">
          <mxGeometry height="1150" width="670" x="14280" y="10530" as="geometry" />
        </mxCell>
        <mxCell id="YD8wXlY8oEXokaMSZj_n-976" parent="YD8wXlY8oEXokaMSZj_n-975" style="line;strokeWidth=1;fillColor=none;align=left;verticalAlign=middle;spacingTop=-1;spacingLeft=3;spacingRight=3;rotatable=0;labelPosition=right;points=[];portConstraint=eastwest;strokeColor=inherit;" value="" vertex="1">
          <mxGeometry height="8" width="670" y="40" as="geometry" />
        </mxCell>
        <mxCell id="YD8wXlY8oEXokaMSZj_n-977" parent="YD8wXlY8oEXokaMSZj_n-975" style="text;strokeColor=default;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;html=1;" value="&lt;div&gt;module cva6_rvfi&lt;/div&gt;&lt;div&gt;&amp;nbsp; import ariane_pkg::*;&lt;/div&gt;&lt;div&gt;#(&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; parameter config_pkg::cva6_cfg_t CVA6Cfg = config_pkg::cva6_cfg_empty,&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; parameter type rvfi_instr_t = logic,&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; parameter type rvfi_csr_t = logic,&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; parameter type rvfi_probes_instr_t = logic,&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; parameter type rvfi_probes_csr_t = logic,&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; parameter type rvfi_probes_t = logic,&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; parameter type rvfi_to_iti_t = logic&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;) (&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; input logic clk_i,&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; input logic rst_ni,&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; input rvfi_probes_t rvfi_probes_i,&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; output rvfi_instr_t [CVA6Cfg.NrCommitPorts-1:0] rvfi_instr_o,&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; output rvfi_to_iti_t rvfi_to_iti_o,&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; output rvfi_csr_t rvfi_csr_o&lt;/div&gt;&lt;div&gt;);&lt;/div&gt;" vertex="1">
          <mxGeometry height="322" width="670" y="48" as="geometry" />
        </mxCell>
        <mxCell id="YD8wXlY8oEXokaMSZj_n-983" parent="YD8wXlY8oEXokaMSZj_n-975" style="text;strokeColor=default;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;html=1;" value="&lt;div&gt;always_ff @(posedge clk_i) begin&lt;/div&gt;&lt;div&gt;&amp;nbsp; for (int i = 0; i &amp;lt; CVA6Cfg.NrCommitPorts; i++) begin&lt;/div&gt;" vertex="1">
          <mxGeometry height="40" width="670" y="370" as="geometry" />
        </mxCell>
        <mxCell id="YD8wXlY8oEXokaMSZj_n-981" parent="YD8wXlY8oEXokaMSZj_n-975" style="text;strokeColor=default;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;html=1;" value="&lt;div&gt;&lt;span style=&quot;background-color: transparent; color: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));&quot;&gt;&amp;nbsp; &amp;nbsp; logic exception;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; logic valid;&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; exception = (i == 0) &amp;amp;&amp;amp; commit_instr_valid[i] &amp;amp;&amp;amp; ex_commit_valid &amp;amp;&amp;amp; !commit_drop[i];&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; valid&amp;nbsp; &amp;nbsp; &amp;nbsp;= (commit_ack[i] &amp;amp;&amp;amp; !ex_commit_valid &amp;amp;&amp;amp; !commit_drop[i]) ||&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; (exception &amp;amp;&amp;amp; (ex_commit_cause == riscv::ENV_CALL_MMODE ||&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; ex_commit_cause == riscv::ENV_CALL_SMODE ||&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; ex_commit_cause == riscv::ENV_CALL_UMODE));&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; rvfi_instr_o[i].valid &amp;lt;= valid;&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; rvfi_instr_o[i].insn&amp;nbsp; &amp;lt;= mem_q[commit_pointer[i]].instr;&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; // when synchronous trap, the instruction is not executed&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; rvfi_instr_o[i].trap&amp;nbsp; &amp;lt;= exception &amp;amp;&amp;amp; !ex_commit_cause[31];&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; if (exception &amp;amp;&amp;amp; ex_commit_cause[31]) begin&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; rvfi_intr[i] &amp;lt;= &#39;b101;&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; end else if (exception) begin&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; rvfi_intr[i] &amp;lt;= &#39;b11;&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; end&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; if (valid) begin&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; rvfi_intr[i] &amp;lt;= 0;&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; end&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp;&amp;nbsp;&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;" vertex="1">
          <mxGeometry height="300" width="670" y="410" as="geometry" />
        </mxCell>
        <mxCell id="YD8wXlY8oEXokaMSZj_n-986" parent="YD8wXlY8oEXokaMSZj_n-975" style="text;strokeColor=default;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;html=1;" value="&lt;div&gt;&lt;span style=&quot;background-color: transparent; color: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));&quot;&gt;&amp;nbsp; &amp;nbsp; rvfi_instr_o[i].intr &amp;lt;= rvfi_intr[i];&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; rvfi_instr_o[i].cause &amp;lt;= ex_commit_cause;&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; rvfi_instr_o[i].mode &amp;lt;= (CVA6Cfg.DebugEn &amp;amp;&amp;amp; debug_mode) ? 2&#39;b10 : priv_lvl;&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; rvfi_instr_o[i].ixl &amp;lt;= CVA6Cfg.XLEN == 64 ? 2 : 1;&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; rvfi_instr_o[i].rs1_addr &amp;lt;= commit_instr_rs1[i];&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; rvfi_instr_o[i].rs2_addr &amp;lt;= commit_instr_rs2[i];&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; rvfi_instr_o[i].rd_addr &amp;lt;= commit_instr_rd[i];&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; rvfi_instr_o[i].rd_wdata &amp;lt;= (CVA6Cfg.FpPresent &amp;amp;&amp;amp; is_rd_fpr(&lt;span style=&quot;background-color: transparent; color: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));&quot;&gt;&amp;nbsp;commit_instr_op[i]&lt;/span&gt;&lt;span style=&quot;background-color: transparent; color: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));&quot;&gt;)) ? commit_instr_result[i] : wdata[i];&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; rvfi_instr_o[i].pc_rdata &amp;lt;= commit_instr_pc[i];&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; rvfi_instr_o[i].mem_addr &amp;lt;= mem_q[commit_pointer[i]].lsu_addr;&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; // So far, only write paddr is reported. TODO: read paddr&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; rvfi_instr_o[i].mem_paddr &amp;lt;= mem_paddr;&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; rvfi_instr_o[i].mem_wmask &amp;lt;= mem_q[commit_pointer[i]].lsu_wmask;&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; rvfi_instr_o[i].mem_wdata &amp;lt;= mem_q[commit_pointer[i]].lsu_wdata;&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; rvfi_instr_o[i].mem_rmask &amp;lt;= mem_q[commit_pointer[i]].lsu_rmask;&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; rvfi_instr_o[i].mem_rdata &amp;lt;= commit_instr_result[i];&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; rvfi_instr_o[i].rs1_rdata &amp;lt;= mem_q[commit_pointer[i]].rs1_rdata;&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; rvfi_instr_o[i].rs2_rdata &amp;lt;= mem_q[commit_pointer[i]].rs2_rdata;&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp;&amp;nbsp;&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;" vertex="1">
          <mxGeometry height="290" width="670" y="710" as="geometry" />
        </mxCell>
        <mxCell id="YD8wXlY8oEXokaMSZj_n-985" parent="YD8wXlY8oEXokaMSZj_n-975" style="text;strokeColor=default;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;html=1;" value="&lt;div&gt;&amp;nbsp; &amp;nbsp; rvfi_to_iti_o ...&lt;/div&gt;" vertex="1">
          <mxGeometry height="30" width="670" y="1000" as="geometry" />
        </mxCell>
        <mxCell id="YD8wXlY8oEXokaMSZj_n-984" parent="YD8wXlY8oEXokaMSZj_n-975" style="text;strokeColor=default;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;html=1;" value="&lt;div&gt;&lt;span style=&quot;background-color: transparent; color: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));&quot;&gt;&amp;nbsp; end&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&amp;nbsp; rvfi_to_iti_o.ex_valid &amp;lt;= ex_commit_valid;&lt;/div&gt;&lt;div&gt;&amp;nbsp; rvfi_to_iti_o.cycles &amp;lt;= time_iti;&lt;/div&gt;&lt;div&gt;&amp;nbsp; rvfi_to_iti_o.cause &amp;lt;= ex_commit_cause;&lt;/div&gt;&lt;div&gt;&amp;nbsp; rvfi_to_iti_o.tval &amp;lt;= tval_iti;&lt;/div&gt;&lt;div&gt;&amp;nbsp; rvfi_to_iti_o.priv_lvl &amp;lt;= priv_lvl;&lt;/div&gt;&lt;div&gt;end&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;" vertex="1">
          <mxGeometry height="120" width="670" y="1030" as="geometry" />
        </mxCell>
        <mxCell id="YD8wXlY8oEXokaMSZj_n-980" edge="1" parent="1" source="YD8wXlY8oEXokaMSZj_n-796" style="html=1;verticalAlign=bottom;endArrow=block;curved=0;rounded=0;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=0;entryY=0;entryDx=0;entryDy=0;" target="YD8wXlY8oEXokaMSZj_n-975" value="dispatch">
          <mxGeometry relative="1" width="80" as="geometry">
            <Array as="points">
              <mxPoint x="14215" y="10530" />
            </Array>
            <mxPoint x="14235" y="10921" as="sourcePoint" />
            <mxPoint x="14315" y="10800" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="YD8wXlY8oEXokaMSZj_n-987" parent="1" style="html=1;whiteSpace=wrap;align=left;verticalAlign=top;movable=0;resizable=0;rotatable=0;deletable=0;editable=0;locked=1;connectable=0;" value="&lt;font style=&quot;font-size: 48px;&quot;&gt;&amp;nbsp;&amp;nbsp;&lt;/font&gt;&lt;div&gt;&lt;font style=&quot;font-size: 48px;&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;REG Model&lt;/font&gt;&lt;/div&gt;" vertex="1">
          <mxGeometry height="4320" width="4840" x="22610" y="7090" as="geometry" />
        </mxCell>
        <mxCell id="YD8wXlY8oEXokaMSZj_n-988" parent="1" style="swimlane;fontStyle=1;align=center;verticalAlign=top;childLayout=stackLayout;horizontal=1;startSize=40;horizontalStack=0;resizeParent=1;resizeParentMax=0;resizeLast=0;collapsible=1;marginBottom=0;whiteSpace=wrap;html=1;" value="cva6_csr_reg_block&lt;br&gt;&lt;div style=&quot;text-align: left;&quot;&gt;/home/ICer/proj/cva6/verif/env/uvme/reg/cva6_csr_reg_block.sv&lt;/div&gt;" vertex="1">
          <mxGeometry height="518" width="680" x="23720" y="7490" as="geometry" />
        </mxCell>
        <mxCell id="YD8wXlY8oEXokaMSZj_n-989" parent="YD8wXlY8oEXokaMSZj_n-988" style="text;strokeColor=default;fillColor=default;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;html=1;" value="&lt;div style=&quot;&quot;&gt;&lt;div&gt;class cva6_csr_reg_block extends uvm_reg_block;&lt;/div&gt;&lt;div&gt;&amp;nbsp; `uvm_object_utils(cva6_csr_reg_block)&lt;/div&gt;&lt;/div&gt;" vertex="1">
          <mxGeometry height="50" width="680" y="40" as="geometry" />
        </mxCell>
        <mxCell id="YD8wXlY8oEXokaMSZj_n-990" parent="YD8wXlY8oEXokaMSZj_n-988" style="text;strokeColor=default;fillColor=default;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;html=1;" value="&lt;div style=&quot;&quot;&gt;&lt;div&gt;&lt;div&gt;&amp;nbsp; rand reg_mstatus&amp;nbsp; mstatus;&amp;nbsp;&lt;/div&gt;&lt;div&gt;&amp;nbsp; rand reg_misa&amp;nbsp; misa;&amp;nbsp;&lt;/div&gt;&lt;div&gt;&amp;nbsp; rand reg_mie&amp;nbsp; mie;&amp;nbsp;&lt;/div&gt;&lt;div&gt;&amp;nbsp; rand reg_mtvec&amp;nbsp; mtvec;&amp;nbsp;&lt;/div&gt;&lt;div&gt;&amp;nbsp; rand reg_mstatush&amp;nbsp; mstatush;&amp;nbsp;&lt;br&gt;&amp;nbsp; ...&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;" vertex="1">
          <mxGeometry height="100" width="680" y="90" as="geometry" />
        </mxCell>
        <mxCell id="YD8wXlY8oEXokaMSZj_n-991" parent="YD8wXlY8oEXokaMSZj_n-988" style="text;strokeColor=default;fillColor=default;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;html=1;" value="&lt;div style=&quot;&quot;&gt;&lt;div&gt;&lt;span style=&quot;background-color: transparent; color: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));&quot;&gt;&amp;nbsp; virtual function build();&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; mstatus = reg_mstatus::type_id::create(&quot;mstatus&quot;, null, get_full_name());&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; mstatus.configure(this, null, &quot;mstatus&quot;);&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; mstatus.build();&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; misa = reg_misa::type_id::create(&quot;misa&quot;, null, get_full_name());&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; misa.configure(this, null, &quot;misa&quot;);&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; misa.build();&lt;/div&gt;&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; ...&lt;br&gt;&lt;br&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; default_map = create_map(.name(&quot;default_map&quot;), .base_addr(0), .n_bytes(4) , .endian(UVM_LITTLE_ENDIAN));&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; default_map.add_reg(mstatus, &#39;h300, &quot;RW&quot;);&amp;nbsp;&amp;nbsp;&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; default_map.add_reg(misa, &#39;h301, &quot;RW&quot;);&amp;nbsp;&amp;nbsp;&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; default_map.add_reg(mie, &#39;h304, &quot;RW&quot;);&amp;nbsp;&lt;br&gt;&amp;nbsp; &amp;nbsp; ...&lt;br&gt;&lt;br&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; //default_map.set_check_on_read(1);&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; this.set_coverage(UVM_CVR_ALL);&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; this.lock_model();&lt;/div&gt;&lt;span style=&quot;background-color: transparent;&quot;&gt;&amp;nbsp; &amp;nbsp; reset();&lt;/span&gt;&amp;nbsp;&lt;br&gt;endfunction&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;" vertex="1">
          <mxGeometry height="320" width="680" y="190" as="geometry" />
        </mxCell>
        <mxCell id="YD8wXlY8oEXokaMSZj_n-994" parent="YD8wXlY8oEXokaMSZj_n-988" style="line;strokeWidth=1;fillColor=none;align=left;verticalAlign=middle;spacingTop=-1;spacingLeft=3;spacingRight=3;rotatable=0;labelPosition=right;points=[];portConstraint=eastwest;strokeColor=inherit;" value="" vertex="1">
          <mxGeometry height="8" width="680" y="510" as="geometry" />
        </mxCell>
        <mxCell id="YD8wXlY8oEXokaMSZj_n-996" parent="1" style="swimlane;fontStyle=1;align=center;verticalAlign=top;childLayout=stackLayout;horizontal=1;startSize=40;horizontalStack=0;resizeParent=1;resizeParentMax=0;resizeLast=0;collapsible=1;marginBottom=0;whiteSpace=wrap;html=1;" value="cva6_csr_reg_block&lt;br&gt;&lt;div style=&quot;text-align: left;&quot;&gt;/home/ICer/proj/cva6/verif/env/uvme/reg/cva6_csr_reg_file.sv&lt;/div&gt;" vertex="1">
          <mxGeometry height="908" width="680" x="22760" y="7390" as="geometry" />
        </mxCell>
        <mxCell id="YD8wXlY8oEXokaMSZj_n-997" parent="YD8wXlY8oEXokaMSZj_n-996" style="text;strokeColor=default;fillColor=default;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;html=1;" value="&lt;div style=&quot;&quot;&gt;&lt;div&gt;class reg_mstatus extends csr_reg;&lt;/div&gt;&lt;div&gt;&amp;nbsp; `uvm_object_utils(reg_mstatus)&lt;/div&gt;&lt;/div&gt;" vertex="1">
          <mxGeometry height="50" width="680" y="40" as="geometry" />
        </mxCell>
        <mxCell id="YD8wXlY8oEXokaMSZj_n-998" parent="YD8wXlY8oEXokaMSZj_n-996" style="text;strokeColor=default;fillColor=default;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;html=1;" value="&lt;div style=&quot;&quot;&gt;&lt;div&gt;&amp;nbsp; //---------------------------------------&lt;/div&gt;&lt;div&gt;&amp;nbsp; // fields instance&amp;nbsp;&lt;/div&gt;&lt;div&gt;&amp;nbsp; //---------------------------------------&amp;nbsp;&lt;/div&gt;&lt;div&gt;&amp;nbsp; rand uvm_reg_field SD;&lt;/div&gt;&lt;div&gt;&amp;nbsp; rand uvm_reg_field TSR;&lt;/div&gt;&lt;div&gt;&amp;nbsp; rand uvm_reg_field TW;&lt;/div&gt;&lt;div&gt;&amp;nbsp; rand uvm_reg_field TVM;&lt;/div&gt;&lt;div&gt;&amp;nbsp; rand uvm_reg_field MXR;&lt;/div&gt;&lt;div&gt;&amp;nbsp; rand uvm_reg_field SUM;&lt;/div&gt;&lt;div&gt;&amp;nbsp; rand uvm_reg_field MPRV;&lt;/div&gt;&lt;div&gt;&amp;nbsp; rand uvm_reg_field XS;&lt;/div&gt;&lt;div&gt;&amp;nbsp; rand uvm_reg_field FS;&lt;/div&gt;&lt;div&gt;&amp;nbsp; rand uvm_reg_field MPP;&lt;/div&gt;&lt;div&gt;&amp;nbsp; rand uvm_reg_field VS;&lt;/div&gt;&lt;div&gt;&amp;nbsp; rand uvm_reg_field SPP;&lt;/div&gt;&lt;div&gt;&amp;nbsp; rand uvm_reg_field MPIE;&lt;/div&gt;&lt;div&gt;&amp;nbsp; rand uvm_reg_field UBE;&lt;/div&gt;&lt;div&gt;&amp;nbsp; rand uvm_reg_field SPIE;&lt;/div&gt;&lt;div&gt;&amp;nbsp; rand uvm_reg_field MIE;&lt;/div&gt;&lt;div&gt;&amp;nbsp; rand uvm_reg_field SIE;&lt;/div&gt;&lt;/div&gt;" vertex="1">
          <mxGeometry height="310" width="680" y="90" as="geometry" />
        </mxCell>
        <mxCell id="YD8wXlY8oEXokaMSZj_n-999" parent="YD8wXlY8oEXokaMSZj_n-996" style="text;strokeColor=default;fillColor=default;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;html=1;" value="&lt;div style=&quot;&quot;&gt;&lt;div&gt;&amp;nbsp; function new (string name = &quot;reg_mstatus&quot;);&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; super.new(name);&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; set_privilege_level(M_LEVEL);&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; reg_rd_cg = new();&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; reg_rd_cg.set_inst_name(&quot;csr_reg_cov.mstatus.mstatus__read_cg&quot;);&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; reg_wr_cg = new();&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; reg_wr_cg.set_inst_name(&quot;csr_reg_cov.mstatus.mstatus__write_cg&quot;);&lt;/div&gt;&lt;div&gt;&amp;nbsp; endfunction&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;/div&gt;" vertex="1">
          <mxGeometry height="130" width="680" y="400" as="geometry" />
        </mxCell>
        <mxCell id="YD8wXlY8oEXokaMSZj_n-1001" parent="YD8wXlY8oEXokaMSZj_n-996" style="text;strokeColor=default;fillColor=default;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;html=1;" value="&lt;div style=&quot;&quot;&gt;&lt;div&gt;&lt;div&gt;&amp;nbsp; function void build;&amp;nbsp;&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp;&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; SD = uvm_reg_field::type_id::create(&quot;SD&quot;);&amp;nbsp; &amp;nbsp;&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; SD.configure(.parent(this), .size(1), .lsb_pos(31), .access(&quot;RO&quot;), .volatile(0), .reset(0), .has_reset(1), .is_rand(1),&amp;nbsp; .individually_accessible(0));&amp;nbsp;&amp;nbsp;&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp;&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; TSR = uvm_reg_field::type_id::create(&quot;TSR&quot;);&amp;nbsp; &amp;nbsp;&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; TSR.configure(.parent(this), .size(1), .lsb_pos(22), .access(&quot;RW&quot;), .volatile(0), .reset(0), .has_reset(1), .is_rand(1),&amp;nbsp; .individually_accessible(0));&amp;nbsp;&amp;nbsp;&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp;&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; TW = uvm_reg_field::type_id::create(&quot;TW&quot;);&amp;nbsp; &amp;nbsp;&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; TW.configure(.parent(this), .size(1), .lsb_pos(21), .access(&quot;RW&quot;), .volatile(0), .reset(0), .has_reset(1), .is_rand(1),&amp;nbsp; .individually_accessible(0));&amp;nbsp;&amp;nbsp;&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; ...&lt;/div&gt;&lt;/div&gt;&lt;div&gt;endfunction&lt;/div&gt;&lt;/div&gt;" vertex="1">
          <mxGeometry height="240" width="680" y="530" as="geometry" />
        </mxCell>
        <mxCell id="YD8wXlY8oEXokaMSZj_n-1002" parent="YD8wXlY8oEXokaMSZj_n-996" style="text;strokeColor=default;fillColor=default;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;html=1;" value="&lt;div style=&quot;&quot;&gt;&lt;div&gt;&amp;nbsp; virtual function void sample(uvm_reg_data_t data, uvm_reg_data_t byte_en,bit is_read, uvm_reg_map map);&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; if (get_coverage(UVM_CVR_FIELD_VALS)) begin&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; if (is_read)&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;reg_rd_cg.sample(data);&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; else&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;reg_wr_cg.sample(data);&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; end&amp;nbsp; &amp;nbsp; &amp;nbsp;&lt;/div&gt;&lt;div&gt;&amp;nbsp; endfunction&lt;/div&gt;&lt;/div&gt;" vertex="1">
          <mxGeometry height="130" width="680" y="770" as="geometry" />
        </mxCell>
        <mxCell id="YD8wXlY8oEXokaMSZj_n-1000" parent="YD8wXlY8oEXokaMSZj_n-996" style="line;strokeWidth=1;fillColor=none;align=left;verticalAlign=middle;spacingTop=-1;spacingLeft=3;spacingRight=3;rotatable=0;labelPosition=right;points=[];portConstraint=eastwest;strokeColor=inherit;" value="" vertex="1">
          <mxGeometry height="8" width="680" y="900" as="geometry" />
        </mxCell>
        <mxCell id="YD8wXlY8oEXokaMSZj_n-1003" edge="1" parent="1" source="YD8wXlY8oEXokaMSZj_n-990" style="endArrow=classic;html=1;rounded=0;exitX=0;exitY=0.5;exitDx=0;exitDy=0;entryX=1;entryY=0;entryDx=0;entryDy=0;" target="YD8wXlY8oEXokaMSZj_n-996" value="">
          <mxGeometry height="50" relative="1" width="50" as="geometry">
            <mxPoint x="23610" y="7500" as="sourcePoint" />
            <mxPoint x="23660" y="7450" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="YD8wXlY8oEXokaMSZj_n-1004" parent="1" style="swimlane;fontStyle=1;align=center;verticalAlign=top;childLayout=stackLayout;horizontal=1;startSize=40;horizontalStack=0;resizeParent=1;resizeParentMax=0;resizeLast=0;collapsible=1;marginBottom=0;whiteSpace=wrap;html=1;" value="cva6_csr_reg_adapter&lt;br&gt;&lt;div style=&quot;text-align: left;&quot;&gt;/home/ICer/proj/cva6/verif/env/uvme/reg/cva6_csr_reg_adapter.sv&lt;/div&gt;" vertex="1">
          <mxGeometry height="1088" width="680" x="24820" y="7300" as="geometry" />
        </mxCell>
        <mxCell id="YD8wXlY8oEXokaMSZj_n-1005" parent="YD8wXlY8oEXokaMSZj_n-1004" style="text;strokeColor=default;fillColor=default;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;html=1;" value="&lt;div style=&quot;&quot;&gt;&lt;div&gt;class cva6_csr_reg_adapter extends uvm_reg_adapter;&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;&amp;nbsp; `uvm_object_utils (cva6_csr_reg_adapter)&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;&amp;nbsp; function new (string name = &quot;cva6_csr_reg_adapter&quot;);&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; super.new (name);&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp;endfunction&lt;/div&gt;&lt;/div&gt;" vertex="1">
          <mxGeometry height="120" width="680" y="40" as="geometry" />
        </mxCell>
        <mxCell id="YD8wXlY8oEXokaMSZj_n-1006" parent="YD8wXlY8oEXokaMSZj_n-1004" style="text;strokeColor=default;fillColor=default;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;html=1;" value="&lt;div style=&quot;&quot;&gt;&lt;b style=&quot;background-color: rgb(255, 153, 153);&quot;&gt;//CSR .&lt;/b&gt;&lt;/div&gt;&lt;div style=&quot;&quot;&gt;&lt;b style=&quot;background-color: rgb(255, 153, 153);&quot;&gt;&amp;nbsp; bit req_q[uvma_isacov_mon_trn_c];&amp;nbsp; //Used to store 1rst and 2nd Pass Read-&amp;gt;Write&lt;/b&gt;&lt;/div&gt;" vertex="1">
          <mxGeometry height="40" width="680" y="160" as="geometry" />
        </mxCell>
        <mxCell id="YD8wXlY8oEXokaMSZj_n-1007" parent="YD8wXlY8oEXokaMSZj_n-1004" style="text;strokeColor=default;fillColor=default;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;html=1;" value="&lt;div style=&quot;&quot;&gt;&lt;div&gt;&lt;div&gt;&amp;nbsp; function uvm_sequence_item reg2bus(const ref uvm_reg_bus_op rw);&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; //uvm_reg in passive mode, no implementation needed&lt;/div&gt;&lt;div&gt;&amp;nbsp; endfunction&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;" vertex="1">
          <mxGeometry height="60" width="680" y="200" as="geometry" />
        </mxCell>
        <mxCell id="YD8wXlY8oEXokaMSZj_n-1009" parent="YD8wXlY8oEXokaMSZj_n-1004" style="text;strokeColor=#82b366;fillColor=#d5e8d4;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;html=1;" value="&lt;div style=&quot;&quot;&gt;&lt;div&gt;&amp;nbsp; function void bus2reg(uvm_sequence_item bus_item, ref uvm_reg_bus_op rw);&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; uvma_isacov_mon_trn_c req;&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; rw.addr = 0; // 0 not mapped addr, safe to use as default&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp;&amp;nbsp;&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; if(!$cast(req, bus_item) )&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; `uvm_fatal(&quot;CSR_REG_ADAPTER&quot;, &quot;Error casting bus request&quot;)&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;&amp;nbsp;&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; if (req.instr.group != uvma_isacov_pkg::CSR_GROUP)&amp;nbsp;&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; return;&lt;/div&gt;&lt;/div&gt;" vertex="1">
          <mxGeometry height="150" width="680" y="260" as="geometry" />
        </mxCell>
        <mxCell id="pMKsOEfMfLB5fS7XCpbW-2" parent="YD8wXlY8oEXokaMSZj_n-1004" style="text;strokeColor=#82b366;fillColor=#d5e8d4;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;html=1;" value="&lt;div style=&quot;&quot;&gt;&lt;div&gt;&lt;span style=&quot;background-color: transparent; color: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));&quot;&gt;&amp;nbsp; &amp;nbsp; if (req_q[req] == 0) begin // First pass Read&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; req_q[req]=1;&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp;&amp;nbsp;&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; rw.kind = UVM_READ;&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp;&amp;nbsp;&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; if ((req.instr.rd==0) &amp;amp;&amp;amp; (req.instr.name inside {&lt;b&gt;uvma_isacov_pkg::CSRRW, uvma_isacov_pkg::CSRRWI&lt;/b&gt;}))&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;return; //no read when CSRRW/CSRRWI with rd==x0&amp;nbsp;&amp;nbsp;&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; rw.data = req.instr.rd_value;&amp;nbsp; &amp;nbsp;&amp;nbsp;&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; end else begin&amp;nbsp; // Second pass Write&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; req_q.delete(req);&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp;&amp;nbsp;&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; rw.kind = UVM_WRITE;&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; if (req.instr.name inside {&lt;b&gt;uvma_isacov_pkg::CSRRWI, uvma_isacov_pkg::CSRRSI, uvma_isacov_pkg::CSRRCI&lt;/b&gt;})&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;rw.data = req.instr.rs1;&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; else&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;rw.data = req.instr.rs1_value;&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp;&amp;nbsp;&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;if ((req.instr.rs1 == 0) &lt;br&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;&amp;amp;&amp;amp; req.instr.name inside {&lt;br&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;uvma_isacov_pkg::CSRRS, &lt;br&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;uvma_isacov_pkg::CSRRC, &lt;br&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;uvma_isacov_pkg::CSRRSI, &lt;br&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;uvma_isacov_pkg::CSRRCI})&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;return; //no write when CSRRS/CSRRC with rs1==0x or CSRRSI/CSRRCI with imm==0&amp;nbsp;&amp;nbsp;&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; end&lt;/div&gt;&lt;/div&gt;" vertex="1">
          <mxGeometry height="390" width="680" y="410" as="geometry" />
        </mxCell>
        <mxCell id="pMKsOEfMfLB5fS7XCpbW-1" parent="YD8wXlY8oEXokaMSZj_n-1004" style="text;strokeColor=#82b366;fillColor=#d5e8d4;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;html=1;" value="&lt;div style=&quot;&quot;&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; rw.addr&amp;nbsp; &amp;nbsp;= req.instr.csr_val;&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; rw.status = UVM_IS_OK;&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp;&amp;nbsp;&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; `uvm_info(&quot;CSR_REG_ADAPTER&quot;,&lt;br&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; $sformatf(&quot;Monitored transaction &lt;br&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;CSR KIND:%s &lt;br&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;ADDR:0x%0h &lt;br&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;DATA:0x%0h.&lt;br&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; Original instruction: &lt;br&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;INSTR:%s &lt;br&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;ADDR:0x%0h &lt;br&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;RS1:0x%0h &lt;br&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;RD:0x%0h &lt;br&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; IMMU:0x%0h&quot;, &lt;br&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; rw.kind, rw.addr, rw.data, req.instr.name, &lt;br&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; req.instr.csr_val,req.instr.rs1_value, req.instr.rd_value, req.instr.immu), UVM_HIGH);&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp;&amp;nbsp;&lt;/div&gt;&lt;div&gt;&amp;nbsp; endfunction&lt;/div&gt;&lt;/div&gt;" vertex="1">
          <mxGeometry height="280" width="680" y="800" as="geometry" />
        </mxCell>
        <mxCell id="YD8wXlY8oEXokaMSZj_n-1010" parent="YD8wXlY8oEXokaMSZj_n-1004" style="line;strokeWidth=1;fillColor=none;align=left;verticalAlign=middle;spacingTop=-1;spacingLeft=3;spacingRight=3;rotatable=0;labelPosition=right;points=[];portConstraint=eastwest;strokeColor=inherit;" value="" vertex="1">
          <mxGeometry height="8" width="680" y="1080" as="geometry" />
        </mxCell>
        <mxCell id="YD8wXlY8oEXokaMSZj_n-1011" parent="1" style="swimlane;fontStyle=1;align=center;verticalAlign=top;childLayout=stackLayout;horizontal=1;startSize=40;horizontalStack=0;resizeParent=1;resizeParentMax=0;resizeLast=0;collapsible=1;marginBottom=0;whiteSpace=wrap;html=1;" value="cva6_csr_reg_predictor&lt;br&gt;&lt;div style=&quot;text-align: left;&quot;&gt;/home/ICer/proj/cva6/verif/env/uvme/reg/cva6_csr_reg_predictor.sv&lt;/div&gt;" vertex="1">
          <mxGeometry height="1088" width="680" x="24826.08" y="8620" as="geometry" />
        </mxCell>
        <mxCell id="YD8wXlY8oEXokaMSZj_n-1012" parent="YD8wXlY8oEXokaMSZj_n-1011" style="text;strokeColor=default;fillColor=default;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;html=1;" value="&lt;div style=&quot;&quot;&gt;&lt;div&gt;class cva6_csr_reg_predictor #(type BUSTYPE=int) extends uvm_reg_predictor #(BUSTYPE);&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp;`uvm_component_param_utils(cva6_csr_reg_predictor #(BUSTYPE))&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp;&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp;function new (string name = &quot;cva6_csr_reg_predictor&quot;, uvm_component parent);&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; super.new(name, parent);&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp;endfunction : new&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp;&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp;function void connect_phase(uvm_phase phase);&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; super.connect_phase(phase);&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp;endfunction: connect_phase&lt;/div&gt;&lt;/div&gt;" vertex="1">
          <mxGeometry height="180" width="680" y="40" as="geometry" />
        </mxCell>
        <mxCell id="YD8wXlY8oEXokaMSZj_n-1013" parent="YD8wXlY8oEXokaMSZj_n-1011" style="text;strokeColor=default;fillColor=default;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;html=1;" value="&lt;div style=&quot;&quot;&gt;&amp;nbsp; bit req_q[uvma_isacov_mon_trn_c]; //Used to store 1rst and 2nd Pass Read-&amp;gt;Write&lt;/div&gt;" vertex="1">
          <mxGeometry height="40" width="680" y="220" as="geometry" />
        </mxCell>
        <mxCell id="YD8wXlY8oEXokaMSZj_n-1015" parent="YD8wXlY8oEXokaMSZj_n-1011" style="text;strokeColor=default;fillColor=default;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;html=1;" value="&lt;div style=&quot;&quot;&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp;virtual function void write(BUSTYPE tr);&amp;nbsp; &amp;nbsp; &amp;nbsp;&amp;nbsp;&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; uvm_reg_field reg_fields[$];&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; string fields_access[$];&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; csr_reg rg;&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; if (tr.instr.trap != 0)&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;return; //Skip on traps&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; if (tr.instr.group != uvma_isacov_pkg::CSR_GROUP)&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;return; //Skip non CSR instructions&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp;&amp;nbsp;&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; if (!$cast(rg,map.get_reg_by_offset(tr.instr.csr_val)))&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;`uvm_fatal(&quot;CSR_REG_PREDICTOR&quot;, &quot;Error casting bus request&quot;)&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; `uvm_info(&quot;CSR Predictor&quot;,$sformatf(&quot;Received CSR %s instruction %p&quot;, rg!= null? rg.get_name(): &quot;Null&quot;, tr.instr), UVM_HIGH)&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; //Check if register exist&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; if (rg == null) begin&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;`uvm_warning(&quot;CSR_REG_PREDICTOR&quot;, $sformatf(&quot;Accessing non-existent CSR with address 0x%0h, Illegal exception should raize&quot;, tr.instr.csr_val))&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;return;&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; end&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp;&amp;nbsp;&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; //Check if write in read only CSR&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; if (tr.instr.is_csr_write() &amp;amp;&amp;amp; rg.Xget_fields_accessX(map) == &quot;RO&quot;)&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;`uvm_warning(&quot;CSR_REG_PREDICTOR&quot;, $sformatf(&quot;Write on read-only CSR %s, illegal exception should raize&quot;, rg.get_name()))&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp;&amp;nbsp;&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; //Split into 2 transactions READ and/or WRITE depending on instruction&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; super.write(tr); //1rst pass: Read operation&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp;&amp;nbsp;&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; //Modify access depending on instruction CSRRS/I or CSRRC/I&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; if (tr.instr.name inside {uvma_isacov_pkg::CSRRS, uvma_isacov_pkg::CSRRC,&amp;nbsp;&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; uvma_isacov_pkg::CSRRSI,uvma_isacov_pkg::CSRRCI}) begin&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;rg.get_fields(reg_fields);&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;foreach (reg_fields[i]) begin&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; fields_access.push_back(reg_fields[i].get_access(map));&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; if (reg_fields[i].get_access(map) == &quot;RW&quot;) begin&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;if (tr.instr.name inside {uvma_isacov_pkg::CSRRS, uvma_isacov_pkg::CSRRSI})&amp;nbsp;&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; reg_fields[i].set_access(&quot;W1S&quot;);&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;else if (tr.instr.name inside {uvma_isacov_pkg::CSRRC, uvma_isacov_pkg::CSRRCI})&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; reg_fields[i].set_access(&quot;W1C&quot;);&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; end&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;end&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; end&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp;&amp;nbsp;&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; super.write(tr); //2nd pass: Write operation&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp;&amp;nbsp;&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; //Revertback original access for instr CSRRS/I or CSRRC/I&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; foreach (reg_fields[i])&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;reg_fields[i].set_access(fields_access[i]);&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;&lt;/div&gt;&lt;div&gt;&amp;nbsp; endfunction&lt;/div&gt;&lt;/div&gt;" vertex="1">
          <mxGeometry height="820" width="680" y="260" as="geometry" />
        </mxCell>
        <mxCell id="YD8wXlY8oEXokaMSZj_n-1016" parent="YD8wXlY8oEXokaMSZj_n-1011" style="line;strokeWidth=1;fillColor=none;align=left;verticalAlign=middle;spacingTop=-1;spacingLeft=3;spacingRight=3;rotatable=0;labelPosition=right;points=[];portConstraint=eastwest;strokeColor=inherit;" value="" vertex="1">
          <mxGeometry height="8" width="680" y="1080" as="geometry" />
        </mxCell>
      </root>
    </mxGraphModel>
  </diagram>
</mxfile>

<mxfile host="app.diagrams.net" agent="Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/142.0.0.0 Safari/537.36 Edg/142.0.0.0" version="28.2.9">
  <diagram name="Page-1" id="Iqzep2Eil3ykFxYwn48A">
    <mxGraphModel dx="4619" dy="2912" grid="1" gridSize="10" guides="1" tooltips="1" connect="1" arrows="1" fold="1" page="1" pageScale="1" pageWidth="850" pageHeight="1100" math="0" shadow="0">
      <root>
        <mxCell id="0" />
        <mxCell id="1" parent="0" />
        <mxCell id="B6SIow3o6jKN5cq_tIl7-42" value="&lt;font style=&quot;font-size: 48px;&quot;&gt;&amp;nbsp;&amp;nbsp;&lt;/font&gt;&lt;div&gt;&lt;font style=&quot;font-size: 48px;&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; TB TOP / Verify Data Structs&lt;/font&gt;&lt;/div&gt;" style="html=1;whiteSpace=wrap;align=left;verticalAlign=top;movable=0;resizable=0;rotatable=0;deletable=0;editable=0;locked=1;connectable=0;" parent="1" vertex="1">
          <mxGeometry x="-3340" y="5270" width="6370" height="3190" as="geometry" />
        </mxCell>
        <mxCell id="B6SIow3o6jKN5cq_tIl7-41" value="&lt;font style=&quot;font-size: 48px;&quot;&gt;&amp;nbsp;&amp;nbsp;&lt;/font&gt;&lt;div&gt;&lt;font style=&quot;font-size: 48px;&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; UVM/VERIF&lt;/font&gt;&lt;/div&gt;" style="html=1;whiteSpace=wrap;align=left;verticalAlign=top;movable=0;resizable=0;rotatable=0;deletable=0;editable=0;locked=1;connectable=0;" parent="1" vertex="1">
          <mxGeometry x="-3340" y="680" width="6380" height="4330" as="geometry" />
        </mxCell>
        <mxCell id="B6SIow3o6jKN5cq_tIl7-40" value="&lt;font style=&quot;font-size: 48px;&quot;&gt;&amp;nbsp;&amp;nbsp;&lt;/font&gt;&lt;div&gt;&lt;font style=&quot;font-size: 48px;&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; COMPILE/ RUN&lt;/font&gt;&lt;/div&gt;" style="html=1;whiteSpace=wrap;align=left;verticalAlign=top;movable=0;resizable=0;rotatable=0;deletable=0;editable=0;locked=1;connectable=0;" parent="1" vertex="1">
          <mxGeometry x="-3340" y="-2140" width="4990" height="2360" as="geometry" />
        </mxCell>
        <mxCell id="mzS4798Yjswd0JI5HEyz-2" value="cva_config" style="swimlane;fontStyle=1;align=center;verticalAlign=top;childLayout=stackLayout;horizontal=1;startSize=26;horizontalStack=0;resizeParent=1;resizeParentMax=0;resizeLast=0;collapsible=1;marginBottom=0;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="-3160" y="-520" width="485" height="86" as="geometry" />
        </mxCell>
        <mxCell id="mzS4798Yjswd0JI5HEyz-3" value="cva6_config_pkg::cva6_cfg" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;html=1;" parent="mzS4798Yjswd0JI5HEyz-2" vertex="1">
          <mxGeometry y="26" width="485" height="26" as="geometry" />
        </mxCell>
        <mxCell id="mzS4798Yjswd0JI5HEyz-4" value="" style="line;strokeWidth=1;fillColor=none;align=left;verticalAlign=middle;spacingTop=-1;spacingLeft=3;spacingRight=3;rotatable=0;labelPosition=right;points=[];portConstraint=eastwest;strokeColor=inherit;" parent="mzS4798Yjswd0JI5HEyz-2" vertex="1">
          <mxGeometry y="52" width="485" height="8" as="geometry" />
        </mxCell>
        <mxCell id="mzS4798Yjswd0JI5HEyz-5" value="/home/ICer/proj/cva6/core/include/cv64a6_imafdc_sv39_config_pkg.sv" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;html=1;" parent="mzS4798Yjswd0JI5HEyz-2" vertex="1">
          <mxGeometry y="60" width="485" height="26" as="geometry" />
        </mxCell>
        <mxCell id="mzS4798Yjswd0JI5HEyz-6" value="filelist" style="swimlane;fontStyle=1;align=center;verticalAlign=top;childLayout=stackLayout;horizontal=1;startSize=26;horizontalStack=0;resizeParent=1;resizeParentMax=0;resizeLast=0;collapsible=1;marginBottom=0;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="-2650" y="-670" width="485" height="112" as="geometry" />
        </mxCell>
        <mxCell id="mzS4798Yjswd0JI5HEyz-8" value="" style="line;strokeWidth=1;fillColor=none;align=left;verticalAlign=middle;spacingTop=-1;spacingLeft=3;spacingRight=3;rotatable=0;labelPosition=right;points=[];portConstraint=eastwest;strokeColor=inherit;" parent="mzS4798Yjswd0JI5HEyz-6" vertex="1">
          <mxGeometry y="26" width="485" height="8" as="geometry" />
        </mxCell>
        <mxCell id="mzS4798Yjswd0JI5HEyz-10" value="/home/ICer/proj/cva6/verif/sim//../tb/core/Flist.cva6_tb" style="text;strokeColor=default;fillColor=default;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;html=1;" parent="mzS4798Yjswd0JI5HEyz-6" vertex="1">
          <mxGeometry y="34" width="485" height="26" as="geometry" />
        </mxCell>
        <mxCell id="mzS4798Yjswd0JI5HEyz-7" value="/home/ICer/proj/cva6/core/Flist.cva6" style="text;strokeColor=default;fillColor=default;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;html=1;" parent="mzS4798Yjswd0JI5HEyz-6" vertex="1">
          <mxGeometry y="60" width="485" height="26" as="geometry" />
        </mxCell>
        <mxCell id="mzS4798Yjswd0JI5HEyz-11" value="/home/ICer/proj/cva6/verif/tb/uvmt/uvmt_cva6.flist" style="text;strokeColor=default;fillColor=default;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;html=1;" parent="mzS4798Yjswd0JI5HEyz-6" vertex="1">
          <mxGeometry y="86" width="485" height="26" as="geometry" />
        </mxCell>
        <mxCell id="AIi3PwNUS5Vkqz0hZRpa-1" value="MAKE &amp;amp; RUN" style="swimlane;fontStyle=1;align=center;verticalAlign=top;childLayout=stackLayout;horizontal=1;startSize=26;horizontalStack=0;resizeParent=1;resizeParentMax=0;resizeLast=0;collapsible=1;marginBottom=0;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="-2100" y="-1270" width="1160" height="1400" as="geometry" />
        </mxCell>
        <mxCell id="AIi3PwNUS5Vkqz0hZRpa-2" value="&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&lt;b&gt;make&amp;nbsp;&lt;/b&gt;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;vcs-uvm&amp;nbsp;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;target=cv64a6_imafdc_sv39&amp;nbsp;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;cov=${cov}&amp;nbsp;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;variant=rv64gc_zba_zbb_zbs_zbc_zbkb_zbkx_zkne_zknd_zknh&amp;nbsp;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;elf=/home/ICer/proj/cva6/verif/sim/out_2025-10-28/directed_tests/hello_world.o&amp;nbsp;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;tool_path=/home/ICer/proj/cva6/tools/spike/bin&amp;nbsp;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;isscomp_opts=&quot;&quot;&amp;nbsp;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;issrun_opts=&quot;&lt;/span&gt;&lt;span style=&quot;background-color: transparent; color: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));&quot;&gt;+ntb_random_seed=1247870493&quot;&amp;nbsp;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;isspostrun_opts=&quot;0x0000000080000000&quot;&amp;nbsp;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;log=/home/ICer/proj/cva6/verif/sim/out_2025-10-28/vcs-uvm_sim/hello_world.cv64a6_imafdc_sv39.log &amp;amp;&amp;gt; /home/ICer/proj/cva6/verif/sim/out_2025-10-28/vcs-uvm_sim/hello_world.cv64a6_imafdc_sv39.log.iss&lt;/span&gt;&lt;/div&gt;" style="text;strokeColor=#82b366;fillColor=#d5e8d4;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;html=1;" parent="AIi3PwNUS5Vkqz0hZRpa-1" vertex="1">
          <mxGeometry y="26" width="1160" height="204" as="geometry" />
        </mxCell>
        <mxCell id="AIi3PwNUS5Vkqz0hZRpa-5" value="&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;mkdir -p /home/ICer/proj/cva6/verif/sim/vcs_results/default/vcs.d&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;cd /home/ICer/proj/cva6/verif/sim/vcs_results/default/vcs.d &amp;amp;&amp;amp;&amp;nbsp;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&lt;br&gt;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&lt;b&gt;vcs&amp;nbsp;&lt;/b&gt;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;+incdir+/home/ICer/proj/cva6/verif/env/uvme&amp;nbsp;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;+incdir+/home/ICer/proj/cva6/verif/tb/uvmt&amp;nbsp;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;+core_name=cv64a6_imafdc_sv39&amp;nbsp;&amp;nbsp;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;-lca&amp;nbsp;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;-sverilog&amp;nbsp;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;+incdir+/home/synopsys/vcs-mx/O-2018.09-1/etc/uvm/src&amp;nbsp;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;/home/synopsys/vcs-mx/O-2018.09-1/etc/uvm/src/uvm_pkg.sv&amp;nbsp;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;-ntb_opts&amp;nbsp;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;uvm-1.2 -timescale=1ns/1ps&amp;nbsp;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;-assert&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;background-color: transparent; color: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));&quot;&gt;svaext&amp;nbsp;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;background-color: transparent; color: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));&quot;&gt;-race=all&amp;nbsp;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;background-color: transparent; color: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));&quot;&gt;-ignore unique_checks&amp;nbsp;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;background-color: transparent; color: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));&quot;&gt;-full64 -q +incdir+/home/synopsys/vcs-mx/O-2018.09-1/etc/uvm/src&amp;nbsp;&amp;nbsp;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;background-color: transparent; color: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));&quot;&gt;-debug_access+all&amp;nbsp;&amp;nbsp;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;background-color: transparent; color: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));&quot;&gt;-kdb&amp;nbsp; &amp;nbsp;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;background-color: transparent; color: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));&quot;&gt;-cm_seqnoconst&amp;nbsp;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;background-color: transparent; color: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));&quot;&gt;-diag noconst&amp;nbsp;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;background-color: transparent; color: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));&quot;&gt;-cm_cond arith&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;-f /home/ICer/proj/cva6/core/Flist.cva6&amp;nbsp;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;-f /home/ICer/proj/cva6/verif/sim//../tb/core/Flist.cva6_tb&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;-f /home/ICer/proj/cva6/verif/tb/uvmt/uvmt_cva6.flist&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;+define+UNSUPPORTED_WITH+&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;-LDFLAGS&amp;nbsp;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;-Wl,--no-as-needed&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;-ignore initializer_driver_checks&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;-top uvmt_cva6_tb&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;+notimingcheck&lt;/span&gt;&lt;/div&gt;" style="text;strokeColor=#82b366;fillColor=#d5e8d4;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;html=1;" parent="AIi3PwNUS5Vkqz0hZRpa-1" vertex="1">
          <mxGeometry y="230" width="1160" height="472" as="geometry" />
        </mxCell>
        <mxCell id="AIi3PwNUS5Vkqz0hZRpa-6" value="&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&lt;b&gt;simv&amp;nbsp;&amp;nbsp;&lt;/b&gt;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;-verdi&amp;nbsp;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;-do /home/ICer/proj/cva6//util/init_testharness.do&amp;nbsp;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;+permissive&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;+permissive-off ++/home/ICer/proj/cva6/verif/sim/out_2025-10-28/directed tests/hello_world.o&amp;nbsp;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;background-color: transparent; color: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));&quot;&gt;+elf_file=/home/ICer/proj/cva6/verif/sim/out_2025-10-28/directed tests/hello_world.o&amp;nbsp;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px; white-space: normal;&quot;&gt;+core_name=cv64a6_imafdc_sv39&amp;nbsp;&amp;nbsp;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px; white-space: normal;&quot;&gt;+tohost_addr=0000000080001000&amp;nbsp;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px; white-space: normal;&quot;&gt;+signature=/home/ICer/proj/cva6/verif/sim/out_2025-10-28/directed_tests/hello_world.o.signature_output&amp;nbsp;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px; white-space: normal;&quot;&gt;+UVM_TESTNAME=uvmt_cva6_firmware_test_c&amp;nbsp;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px; white-space: normal;&quot;&gt;+report_file=/home/ICer/proj/cva6/verif/sim/out_2025-10-28/vcs-testharness_sim/hello_world.cv64a6_imafdc_sv39.log.yaml&amp;nbsp;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px; white-space: normal;&quot;&gt;+core_name=cv64a6_imafdc_sv39&amp;nbsp;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px; white-space: normal;&quot;&gt;+debug_disable=1&amp;nbsp;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px; white-space: normal;&quot;&gt;+ntb_random_seed=294229036&amp;nbsp;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px; white-space: normal;&quot;&gt;-sv_lib /home/ICer/proj/cva6/tools/spike/lib/libcustomext&amp;nbsp;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px; white-space: normal;&quot;&gt;-sv_lib /home/ICer/proj/cva6/tools/spike/lib/libyaml-cpp&amp;nbsp;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px; white-space: normal;&quot;&gt;-sv_lib /home/ICer/proj/cva6/tools/spike/lib/libriscv&amp;nbsp;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px; white-space: normal;&quot;&gt;-sv_lib /home/ICer/proj/cva6/tools/spike/lib/libfesvr&amp;nbsp;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px; white-space: normal;&quot;&gt;-sv_lib /home/ICer/proj/cva6/tools/spike/lib/libdisasm&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;logDir = /home/ICer/proj/cva6/verif/sim/verdiLog&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;" style="text;strokeColor=#6c8ebf;fillColor=#dae8fc;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;html=1;" parent="AIi3PwNUS5Vkqz0hZRpa-1" vertex="1">
          <mxGeometry y="702" width="1160" height="320" as="geometry" />
        </mxCell>
        <mxCell id="AIi3PwNUS5Vkqz0hZRpa-94" value="&lt;div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;/home/ICer/proj/cva6/verif/sim/vcs_results/default/vcs.d/simv \&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;-LDFLAGS -Wl,--no-as-needed&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;+define+UNSUPPORTED_WITH+&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;++/home/ICer/proj/cva6/verif/sim/out_2025-10-31/directed_tests/hello_world.o &lt;br&gt;+elf_file=/home/ICer/proj/cva6/verif/sim/out_2025-10-31/directed_tests/hello_world.o&amp;nbsp;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;+core_name=cv64a6_imafdc_sv39&amp;nbsp;&amp;nbsp;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;+tohost_addr=0000000080001000&amp;nbsp;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;+signature=/home/ICer/proj/cva6/verif/sim/out_2025-10-31/directed_tests/hello_world.o.signature_output&amp;nbsp;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;+UVM_TESTNAME=uvmt_cva6_firmware_test_c&amp;nbsp;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;+report_file=/home/ICer/proj/cva6/verif/sim/out_2025-10-31/vcs-uvm_sim/hello_world.cv64a6_imafdc_sv39.log.yaml&amp;nbsp;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;+core_name=cv64a6_imafdc_sv39&amp;nbsp;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;+ntb_random_seed=615222664&amp;nbsp;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;-sv_lib /home/ICer/proj/cva6/tools/spike/lib/libcustomext&amp;nbsp;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;-sv_lib /home/ICer/proj/cva6/tools/spike/lib/libyaml-cpp&amp;nbsp;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;-sv_lib /home/ICer/proj/cva6/tools/spike/lib/libriscv&amp;nbsp;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;-sv_lib /home/ICer/proj/cva6/tools/spike/lib/libfesvr&amp;nbsp;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;-sv_lib /home/ICer/proj/cva6/tools/spike/lib/libdisasm&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;+vcs+lic+wait&amp;nbsp;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;+ntb_random_seed=615222664&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;-ucli&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;-do /home/ICer/proj/cva6/verif/sim/init_run_uvm_fsdb.do&amp;nbsp;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;+tandem_enabled=0&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;+ntb_random_seed=615222664&lt;/span&gt;&lt;/div&gt;&lt;/div&gt;" style="text;strokeColor=#6c8ebf;fillColor=#dae8fc;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;html=1;" parent="AIi3PwNUS5Vkqz0hZRpa-1" vertex="1">
          <mxGeometry y="1022" width="1160" height="378" as="geometry" />
        </mxCell>
        <mxCell id="AIi3PwNUS5Vkqz0hZRpa-7" value="include" style="html=1;verticalAlign=bottom;endArrow=block;curved=0;rounded=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;exitX=0;exitY=0.5;exitDx=0;exitDy=0;strokeWidth=3;" parent="1" source="mzS4798Yjswd0JI5HEyz-7" target="mzS4798Yjswd0JI5HEyz-2" edge="1">
          <mxGeometry x="0.0039" width="80" relative="1" as="geometry">
            <mxPoint x="-2940" y="-650" as="sourcePoint" />
            <mxPoint x="-2842.5" y="-546" as="targetPoint" />
            <mxPoint as="offset" />
            <Array as="points">
              <mxPoint x="-2917" y="-597" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="AIi3PwNUS5Vkqz0hZRpa-8" value="tandem" style="swimlane;fontStyle=1;align=center;verticalAlign=top;childLayout=stackLayout;horizontal=1;startSize=26;horizontalStack=0;resizeParent=1;resizeParentMax=0;resizeLast=0;collapsible=1;marginBottom=0;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="-693" y="-430" width="640" height="568" as="geometry" />
        </mxCell>
        <mxCell id="AIi3PwNUS5Vkqz0hZRpa-12" value="&lt;b&gt;/home/ICer/proj/cva6/verif/sim/Makefile&lt;/b&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&lt;font style=&quot;color: rgb(51, 51, 255);&quot;&gt;ifneq ($(&lt;b&gt;SPIKE_TANDEM&lt;/b&gt;),)&lt;/font&gt;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&lt;font style=&quot;color: rgb(51, 51, 255);&quot;&gt;ALL_SIMV_UVM_FLAGS += +tandem_enabled=1&lt;/font&gt;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&lt;font style=&quot;color: rgb(51, 51, 255);&quot;&gt;ALL_XRUN_SIMV_UVM_FLAGS += +tandem_enabled=1&lt;/font&gt;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&lt;font style=&quot;color: rgb(51, 51, 255);&quot;&gt;else&lt;/font&gt;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&lt;font style=&quot;color: rgb(51, 51, 255);&quot;&gt;ALL_SIMV_UVM_FLAGS += +tandem_enabled=0&lt;/font&gt;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&lt;font style=&quot;color: rgb(51, 51, 255);&quot;&gt;ALL_XRUN_SIMV_UVM_FLAGS += +tandem_enabled=0&lt;/font&gt;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&lt;font style=&quot;color: rgb(51, 51, 255);&quot;&gt;endif&lt;/font&gt;&lt;/span&gt;&lt;/div&gt;&lt;/div&gt;" style="text;strokeColor=default;fillColor=default;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;html=1;" parent="AIi3PwNUS5Vkqz0hZRpa-8" vertex="1">
          <mxGeometry y="26" width="640" height="154" as="geometry" />
        </mxCell>
        <mxCell id="AIi3PwNUS5Vkqz0hZRpa-11" value="&lt;b&gt;/home/ICer/proj/cva6/verif/env/uvme/uvme_cva6_env.sv&lt;br&gt;&lt;/b&gt;&lt;div&gt;&lt;span style=&quot;background-color: transparent; color: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));&quot;&gt;&lt;br&gt;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;background-color: transparent; font-size: 12px;&quot;&gt;&lt;b&gt;&lt;div style=&quot;&quot;&gt;if ($test$plusargs(&quot;tandem enabled&quot;))&lt;/div&gt;&lt;div style=&quot;&quot;&gt;&amp;nbsp; &amp;nbsp; $value$plusargs(&quot;tandem enabled=%b&quot;,cfg.tandem_enabled);&lt;/div&gt;&lt;/b&gt;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;background-color: transparent; color: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));&quot;&gt;&lt;br&gt;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;background-color: transparent; color: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));&quot;&gt;if (cfg.tandem_enabled) begin&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp; &amp;nbsp; reference_model = uvmc_rvfi_reference_model#(ILEN,XLEN)::type_id::create(&quot;reference_model&quot;, this);&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;end&lt;/span&gt;&lt;br&gt;&lt;br&gt;&lt;div style=&quot;&quot;&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;if (cfg.scoreboard_enabled || cfg.tandem_enabled) begin&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;&quot;&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp; &amp;nbsp; sb&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; = uvme_cva6_sb_c ::type_id::create(&quot;sb&quot;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;, this);&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;&quot;&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;end&lt;br&gt;&lt;br&gt;&lt;div&gt;if (cfg.tandem_enabled) begin&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; rvfi_agent.rvfi_core_ap.connect(sb.m_rvfi_scoreboard.m_imp_core);&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; rvfi_agent.rvfi_core_ap.connect(reference_model.m_analysis_imp);&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; reference_model.m_analysis_port.connect(sb.m_rvfi_scoreboard.m_imp_reference_model);&lt;/div&gt;&lt;div&gt;end&lt;/div&gt;&lt;/span&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;" style="text;strokeColor=default;fillColor=default;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;html=1;" parent="AIi3PwNUS5Vkqz0hZRpa-8" vertex="1">
          <mxGeometry y="180" width="640" height="284" as="geometry" />
        </mxCell>
        <mxCell id="AIi3PwNUS5Vkqz0hZRpa-9" value="&lt;b&gt;/home/ICer/proj/cva6/verif/env/uvme/uvme_cva6_sb.sv&lt;br&gt;&lt;/b&gt;&lt;br&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;if (cfg.tandem_enabled)&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; m_rvfi_scoreboard = uvmc_rvfi_scoreboard_c#(ILEN,XLEN)::type_id::create(&quot;m_rvfi_scoreboard&quot;, this);&lt;/span&gt;&lt;/div&gt;" style="text;strokeColor=default;fillColor=default;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;html=1;" parent="AIi3PwNUS5Vkqz0hZRpa-8" vertex="1">
          <mxGeometry y="464" width="640" height="96" as="geometry" />
        </mxCell>
        <mxCell id="AIi3PwNUS5Vkqz0hZRpa-10" value="" style="line;strokeWidth=1;fillColor=none;align=left;verticalAlign=middle;spacingTop=-1;spacingLeft=3;spacingRight=3;rotatable=0;labelPosition=right;points=[];portConstraint=eastwest;strokeColor=inherit;" parent="AIi3PwNUS5Vkqz0hZRpa-8" vertex="1">
          <mxGeometry y="560" width="640" height="8" as="geometry" />
        </mxCell>
        <mxCell id="AIi3PwNUS5Vkqz0hZRpa-13" value="scoreboard" style="swimlane;fontStyle=1;align=center;verticalAlign=top;childLayout=stackLayout;horizontal=1;startSize=26;horizontalStack=0;resizeParent=1;resizeParentMax=0;resizeLast=0;collapsible=1;marginBottom=0;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="310" y="1690" width="640" height="408" as="geometry" />
        </mxCell>
        <mxCell id="AIi3PwNUS5Vkqz0hZRpa-14" value="&lt;b style=&quot;font-size: 12px;&quot;&gt;/home/ICer/proj/cva6/verif/core-v-verif/lib/uvm_components/uvmc_rvfi_scoreboard/uvmc_rvfi_scoreboard.sv&lt;/b&gt;&lt;br&gt;&lt;br&gt;&lt;div style=&quot;&quot;&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp; &amp;nbsp; &lt;b&gt;st = cfg.to_struct();&lt;/b&gt;&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;&quot;&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp; &amp;nbsp; &lt;b&gt;&lt;font style=&quot;color: rgb(51, 51, 255);&quot;&gt;rvfi_initialize(st);&lt;/font&gt;&lt;/b&gt;&lt;/span&gt;&lt;/div&gt;" style="text;strokeColor=default;fillColor=default;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;html=1;" parent="AIi3PwNUS5Vkqz0hZRpa-13" vertex="1">
          <mxGeometry y="26" width="640" height="74" as="geometry" />
        </mxCell>
        <mxCell id="AIi3PwNUS5Vkqz0hZRpa-15" value="&lt;b style=&quot;font-size: 12px;&quot;&gt;task uvmc_rvfi_scoreboard_c::run_phase(uvm_phase phase);&lt;/b&gt;&lt;br&gt;&lt;b&gt;&lt;br&gt;&lt;/b&gt;&lt;div style=&quot;&quot;&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp; &amp;nbsp; sim_finished = 0;&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;&quot;&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp; &amp;nbsp; phase.raise_objection(this);&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;&quot;&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp; &amp;nbsp; while (!sim_finished) begin&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;&quot;&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &lt;span style=&quot;background-color: rgb(185, 224, 165);&quot;&gt;&lt;b&gt;@(reference_model.size &amp;gt; 0)&lt;/b&gt;&lt;/span&gt;&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;&quot;&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; while (reference_model.size &amp;gt; 0 &amp;amp;&amp;amp; !sim_finished)&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;&quot;&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; begin&lt;/span&gt;&lt;/div&gt;" style="text;strokeColor=default;fillColor=default;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;html=1;" parent="AIi3PwNUS5Vkqz0hZRpa-13" vertex="1">
          <mxGeometry y="100" width="640" height="130" as="geometry" />
        </mxCell>
        <mxCell id="AIi3PwNUS5Vkqz0hZRpa-36" value="&lt;div style=&quot;&quot;&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; t_core = core.pop_front();&lt;/span&gt;&lt;/div&gt;" style="text;strokeColor=default;fillColor=default;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;html=1;" parent="AIi3PwNUS5Vkqz0hZRpa-13" vertex="1">
          <mxGeometry y="230" width="640" height="30" as="geometry" />
        </mxCell>
        <mxCell id="AIi3PwNUS5Vkqz0hZRpa-35" value="&lt;div style=&quot;&quot;&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; t_reference_model = reference_model.pop_front();&lt;/span&gt;&lt;/div&gt;" style="text;strokeColor=default;fillColor=default;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;html=1;" parent="AIi3PwNUS5Vkqz0hZRpa-13" vertex="1">
          <mxGeometry y="260" width="640" height="30" as="geometry" />
        </mxCell>
        <mxCell id="AIi3PwNUS5Vkqz0hZRpa-34" value="&lt;div style=&quot;&quot;&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;&amp;nbsp;&lt;span style=&quot;background-color: rgb(185, 224, 165);&quot;&gt;&lt;b&gt;rvfi_compare(t_core.seq2rvfi(), t_reference_model.seq2rvfi());&lt;/b&gt;&lt;/span&gt;&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;&quot;&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&lt;br&gt;&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;&quot;&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; if (t_reference_model.halt || (sentinel_enable &amp;amp;&amp;amp; (sentinel_value == t_reference_model.insn)))&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;&quot;&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; sim_finished = 1;&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;&quot;&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; end&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;&quot;&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp; &amp;nbsp; end&lt;/span&gt;&lt;/div&gt;" style="text;strokeColor=default;fillColor=default;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;html=1;" parent="AIi3PwNUS5Vkqz0hZRpa-13" vertex="1">
          <mxGeometry y="290" width="640" height="110" as="geometry" />
        </mxCell>
        <mxCell id="AIi3PwNUS5Vkqz0hZRpa-17" value="" style="line;strokeWidth=1;fillColor=none;align=left;verticalAlign=middle;spacingTop=-1;spacingLeft=3;spacingRight=3;rotatable=0;labelPosition=right;points=[];portConstraint=eastwest;strokeColor=inherit;" parent="AIi3PwNUS5Vkqz0hZRpa-13" vertex="1">
          <mxGeometry y="400" width="640" height="8" as="geometry" />
        </mxCell>
        <mxCell id="AIi3PwNUS5Vkqz0hZRpa-18" value="reference model" style="swimlane;fontStyle=1;align=center;verticalAlign=top;childLayout=stackLayout;horizontal=1;startSize=26;horizontalStack=0;resizeParent=1;resizeParentMax=0;resizeLast=0;collapsible=1;marginBottom=0;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="-1890" y="2700" width="690" height="676" as="geometry" />
        </mxCell>
        <mxCell id="AIi3PwNUS5Vkqz0hZRpa-19" value="&lt;span style=&quot;font-size: 12px;&quot;&gt;&lt;b&gt;/home/ICer/proj/cva6/verif/core-v-verif/lib/uvm_components/uvmc_rvfi_reference_model/uvmc_rvfi_spike.sv&lt;/b&gt;&lt;/span&gt;" style="text;strokeColor=default;fillColor=default;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;html=1;" parent="AIi3PwNUS5Vkqz0hZRpa-18" vertex="1">
          <mxGeometry y="26" width="690" height="54" as="geometry" />
        </mxCell>
        <mxCell id="AIi3PwNUS5Vkqz0hZRpa-20" value="&lt;span style=&quot;font-size: 12px;&quot;&gt;function void build_phase(uvm_phase phase);&lt;br&gt;&lt;/span&gt;&lt;div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;st_core_cntrl_cfg st;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;super.build_phase(phase);&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&lt;br&gt;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;st = cfg.to_struct();&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;&lt;span style=&quot;background-color: rgb(185, 224, 165);&quot;&gt;&lt;b&gt;rvfi_initialize_spike(cfg.core_name, st);&lt;/b&gt;&lt;/span&gt;&lt;/span&gt;&lt;/div&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;endfunction : build_phase&lt;/span&gt;&lt;/div&gt;" style="text;strokeColor=default;fillColor=default;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;html=1;" parent="AIi3PwNUS5Vkqz0hZRpa-18" vertex="1">
          <mxGeometry y="80" width="690" height="130" as="geometry" />
        </mxCell>
        <mxCell id="AIi3PwNUS5Vkqz0hZRpa-53" value="&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;/*&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp;* Write RVFI transactions to send to the scoreboard&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp;*/&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;virtual function void write_rvfi_instr(uvma_rvfi_instr_seq_item_c#(ILEN,XLEN) t);&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&lt;br&gt;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp; &amp;nbsp; &lt;span style=&quot;background-color: rgb(185, 224, 165);&quot;&gt;uvma_rvfi_instr_seq_item_c#(ILEN,XLEN) t_reference_model = step(1, t);&lt;/span&gt;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp; &amp;nbsp; m_analysis_port.write(t_reference_model);&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&lt;br&gt;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;endfunction : write_rvfi_instr&lt;/span&gt;&lt;/div&gt;" style="text;strokeColor=default;fillColor=default;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;html=1;" parent="AIi3PwNUS5Vkqz0hZRpa-18" vertex="1">
          <mxGeometry y="210" width="690" height="150" as="geometry" />
        </mxCell>
        <mxCell id="AIi3PwNUS5Vkqz0hZRpa-46" value="&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp; &amp;nbsp;/**&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp; &amp;nbsp; * Step function - Steps the core and returns a rvfi transaction&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp; &amp;nbsp; */&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp; &amp;nbsp;virtual function uvma_rvfi_instr_seq_item_c#(ILEN,XLEN) &lt;b&gt;step &lt;/b&gt;(int i, &lt;span style=&quot;background-color: rgb(185, 224, 165);&quot;&gt;&lt;b&gt;uvma_rvfi_instr_seq_item_c#(ILEN,XLEN) t&lt;/b&gt;&lt;/span&gt;);&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;&lt;span style=&quot;background-color: rgb(185, 224, 165);&quot;&gt;st_rvfi s_core, s_reference_model;&lt;/span&gt;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;uvma_rvfi_instr_seq_item_c#(ILEN,XLEN) t_reference_model;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&lt;br&gt;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;&lt;span style=&quot;background-color: rgb(185, 224, 165);&quot;&gt;s_core = t.seq2rvfi();&lt;/span&gt;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&lt;br&gt;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;&lt;b style=&quot;background-color: rgb(185, 224, 165);&quot;&gt;rvfi_spike_step(s_core, s_reference_model);&lt;/b&gt;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&lt;br&gt;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;t_reference_model = new(&quot;t_reference_model&quot;);&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;&lt;span style=&quot;background-color: rgb(185, 224, 165);&quot;&gt;t_reference_model.rvfi2seq(s_reference_model);&lt;/span&gt;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;return t_reference_model;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp; &amp;nbsp;endfunction : step&lt;/span&gt;&lt;/div&gt;" style="text;strokeColor=default;fillColor=default;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;html=1;" parent="AIi3PwNUS5Vkqz0hZRpa-18" vertex="1">
          <mxGeometry y="360" width="690" height="230" as="geometry" />
        </mxCell>
        <mxCell id="AIi3PwNUS5Vkqz0hZRpa-47" value="" style="text;strokeColor=default;fillColor=default;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;html=1;" parent="AIi3PwNUS5Vkqz0hZRpa-18" vertex="1">
          <mxGeometry y="590" width="690" height="78" as="geometry" />
        </mxCell>
        <mxCell id="AIi3PwNUS5Vkqz0hZRpa-22" value="" style="line;strokeWidth=1;fillColor=none;align=left;verticalAlign=middle;spacingTop=-1;spacingLeft=3;spacingRight=3;rotatable=0;labelPosition=right;points=[];portConstraint=eastwest;strokeColor=inherit;" parent="AIi3PwNUS5Vkqz0hZRpa-18" vertex="1">
          <mxGeometry y="668" width="690" height="8" as="geometry" />
        </mxCell>
        <mxCell id="AIi3PwNUS5Vkqz0hZRpa-54" value="Call model step" style="html=1;verticalAlign=bottom;endArrow=block;curved=0;rounded=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;strokeWidth=5;fillColor=#fff2cc;strokeColor=#d6b656;" parent="AIi3PwNUS5Vkqz0hZRpa-18" target="AIi3PwNUS5Vkqz0hZRpa-46" edge="1">
          <mxGeometry width="80" relative="1" as="geometry">
            <mxPoint x="690" y="290" as="sourcePoint" />
            <mxPoint x="120" y="1085" as="targetPoint" />
            <Array as="points">
              <mxPoint x="800" y="290" />
              <mxPoint x="800" y="740" />
              <mxPoint x="-140" y="740" />
              <mxPoint x="-140" y="475" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="AIi3PwNUS5Vkqz0hZRpa-23" value="env" style="swimlane;fontStyle=1;align=center;verticalAlign=top;childLayout=stackLayout;horizontal=1;startSize=26;horizontalStack=0;resizeParent=1;resizeParentMax=0;resizeLast=0;collapsible=1;marginBottom=0;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="-3200" y="1540" width="640" height="508" as="geometry" />
        </mxCell>
        <mxCell id="AIi3PwNUS5Vkqz0hZRpa-24" value="&lt;span style=&quot;font-size: 12px;&quot;&gt;&lt;b&gt;/home/ICer/proj/cva6/verif/env/uvme/uvme_cva6_env.sv&lt;/b&gt;&lt;/span&gt;" style="text;strokeColor=default;fillColor=default;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;html=1;" parent="AIi3PwNUS5Vkqz0hZRpa-23" vertex="1">
          <mxGeometry y="26" width="640" height="94" as="geometry" />
        </mxCell>
        <mxCell id="AIi3PwNUS5Vkqz0hZRpa-25" value="&lt;b&gt;/home/ICer/proj/cva6/verif/env/uvme/uvme_cva6_env.sv&lt;br&gt;&lt;/b&gt;&lt;div&gt;&lt;span style=&quot;background-color: transparent; color: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));&quot;&gt;&lt;br&gt;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;background-color: transparent; font-size: 12px;&quot;&gt;&lt;b&gt;&lt;div style=&quot;&quot;&gt;if ($test$plusargs(&quot;tandem enabled&quot;))&lt;/div&gt;&lt;div style=&quot;&quot;&gt;&amp;nbsp; &amp;nbsp; $value$plusargs(&quot;tandem enabled=%b&quot;,cfg.tandem_enabled);&lt;/div&gt;&lt;/b&gt;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;background-color: transparent; color: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));&quot;&gt;&lt;br&gt;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;background-color: transparent; color: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));&quot;&gt;if (cfg.tandem_enabled) begin&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp; &amp;nbsp; reference_model = uvmc_rvfi_reference_model#(ILEN,XLEN)::type_id::create(&quot;reference_model&quot;, this);&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;end&lt;/span&gt;&lt;br&gt;&lt;br&gt;&lt;div style=&quot;&quot;&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;if (cfg.scoreboard_enabled || cfg.tandem_enabled) begin&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;&quot;&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp; &amp;nbsp; sb&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; = uvme_cva6_sb_c ::type_id::create(&quot;sb&quot;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;, this);&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;&quot;&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;end&lt;br&gt;&lt;br&gt;&lt;div&gt;if (cfg.tandem_enabled) begin&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; &lt;b style=&quot;background-color: rgb(185, 224, 165);&quot;&gt;rvfi_agent.rvfi_core_ap.connect(sb.m_rvfi_scoreboard.m_imp_core);&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; &lt;span style=&quot;background-color: rgb(185, 224, 165);&quot;&gt;&lt;b&gt;rvfi_agent.rvfi_core_ap.connect(reference_model.m_analysis_imp);&lt;/b&gt;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; &lt;span style=&quot;background-color: rgb(185, 224, 165);&quot;&gt;&lt;b&gt;reference_model.m_analysis_port.connect(sb.m_rvfi_scoreboard.m_imp_reference_model);&lt;/b&gt;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;end&lt;/div&gt;&lt;/span&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;" style="text;strokeColor=default;fillColor=default;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;html=1;" parent="AIi3PwNUS5Vkqz0hZRpa-23" vertex="1">
          <mxGeometry y="120" width="640" height="284" as="geometry" />
        </mxCell>
        <mxCell id="AIi3PwNUS5Vkqz0hZRpa-26" value="&lt;b&gt;/home/ICer/proj/cva6/verif/env/uvme/uvme_cva6_sb.sv&lt;br&gt;&lt;/b&gt;&lt;br&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;if (cfg.tandem_enabled)&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; m_rvfi_scoreboard = uvmc_rvfi_scoreboard_c#(ILEN,XLEN)::type_id::create(&quot;m_rvfi_scoreboard&quot;, this);&lt;/span&gt;&lt;/div&gt;" style="text;strokeColor=default;fillColor=default;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;html=1;" parent="AIi3PwNUS5Vkqz0hZRpa-23" vertex="1">
          <mxGeometry y="404" width="640" height="96" as="geometry" />
        </mxCell>
        <mxCell id="AIi3PwNUS5Vkqz0hZRpa-27" value="" style="line;strokeWidth=1;fillColor=none;align=left;verticalAlign=middle;spacingTop=-1;spacingLeft=3;spacingRight=3;rotatable=0;labelPosition=right;points=[];portConstraint=eastwest;strokeColor=inherit;" parent="AIi3PwNUS5Vkqz0hZRpa-23" vertex="1">
          <mxGeometry y="500" width="640" height="8" as="geometry" />
        </mxCell>
        <mxCell id="AIi3PwNUS5Vkqz0hZRpa-29" value="monitor" style="swimlane;fontStyle=1;align=center;verticalAlign=top;childLayout=stackLayout;horizontal=1;startSize=26;horizontalStack=0;resizeParent=1;resizeParentMax=0;resizeLast=0;collapsible=1;marginBottom=0;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="-1890" y="920" width="690" height="1508" as="geometry" />
        </mxCell>
        <mxCell id="AIi3PwNUS5Vkqz0hZRpa-30" value="&lt;span style=&quot;font-size: 12px;&quot;&gt;&lt;b&gt;/home/ICer/proj/cva6/verif/core-v-verif/lib/uvm_agents/uvma_rvfi/uvma_rvfi_instr_mon.sv&lt;/b&gt;&lt;/span&gt;" style="text;strokeColor=default;fillColor=default;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;html=1;" parent="AIi3PwNUS5Vkqz0hZRpa-29" vertex="1">
          <mxGeometry y="26" width="690" height="134" as="geometry" />
        </mxCell>
        <mxCell id="AIi3PwNUS5Vkqz0hZRpa-31" value="&lt;div style=&quot;&quot;&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&lt;b&gt;task uvma_rvfi_instr_mon_c::monitor_rvfi_instr();&lt;/b&gt;&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;font-weight: bold;&quot;&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;background-color: transparent; color: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));&quot;&gt;&lt;br&gt;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;background-color: transparent;&quot;&gt;&lt;div style=&quot;&quot;&gt;&lt;div style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp; while(1) begin&lt;/div&gt;&lt;div style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; @(cntxt.instr_vif[0].mon_cb)&lt;br&gt;&lt;br&gt;&lt;/div&gt;&lt;div style=&quot;&quot;&gt;&lt;div style=&quot;&quot;&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; for(int i = 0; i &amp;lt; cfg.nret; i++)&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;&quot;&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; begin&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;&quot;&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; if (monitor_condition) begin&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;&lt;/span&gt;&lt;/div&gt;" style="text;strokeColor=default;fillColor=default;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;html=1;" parent="AIi3PwNUS5Vkqz0hZRpa-29" vertex="1">
          <mxGeometry y="160" width="690" height="140" as="geometry" />
        </mxCell>
        <mxCell id="AIi3PwNUS5Vkqz0hZRpa-37" value="&lt;div style=&quot;&quot;&gt;&lt;span style=&quot;background-color: transparent; color: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; uvma_rvfi_instr_seq_item_c#(ILEN,XLEN) mon_trn;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;background-color: transparent;&quot;&gt;&lt;div style=&quot;&quot;&gt;&lt;div style=&quot;&quot;&gt;&lt;div style=&quot;&quot;&gt;&lt;div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; mon_trn = uvma_rvfi_instr_seq_item_c#(ILEN,XLEN)::type_id::create(&quot;mon_trn&quot;);&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&lt;br&gt;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; mon_trn.nret_id&amp;nbsp; = nret_id;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; mon_trn.cycle_cnt = cntxt.instr_vif[nret_id].mon_cb.cycle_cnt&lt;/span&gt;&lt;/div&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&lt;br&gt;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;background-color: transparent; font-size: 12px;&quot;&gt;mon_trn.order&amp;nbsp; &amp;nbsp; &amp;nbsp;= cntxt.instr_vif[nret_id].mon_cb.rvfi_order;&lt;br&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;background-color: transparent; font-size: 12px;&quot;&gt;mon_trn....&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;= cntxt.instr_vif[nret_id].mon_cb......;&lt;/span&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;&lt;/span&gt;&lt;/div&gt;" style="text;strokeColor=default;fillColor=default;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;html=1;" parent="AIi3PwNUS5Vkqz0hZRpa-29" vertex="1">
          <mxGeometry y="300" width="690" height="130" as="geometry" />
        </mxCell>
        <mxCell id="AIi3PwNUS5Vkqz0hZRpa-41" value="&lt;div style=&quot;&quot;&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; // Get the CSRs&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; if (!cfg.core_cfg.disable_all_csr_checks) begin&lt;/span&gt;&lt;/div&gt;&lt;/div&gt;" style="text;strokeColor=default;fillColor=default;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;html=1;" parent="AIi3PwNUS5Vkqz0hZRpa-29" vertex="1">
          <mxGeometry y="430" width="690" height="40" as="geometry" />
        </mxCell>
        <mxCell id="AIi3PwNUS5Vkqz0hZRpa-39" value="&lt;div style=&quot;&quot;&gt;&lt;div&gt;&lt;span style=&quot;background-color: transparent; color: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; if (!cfg.unified_csr_vif) begin&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;foreach (cntxt.csr_vif[csr]) begin&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;uvma_rvfi_csr_seq_item_c csr_trn = uvma_rvfi_csr_seq_item_c#(XLEN)::type_id::create({csr, &quot;_trn&quot;});&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;csr_trn.csr = csr;&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;csr_trn.nret_id = nret_id;&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;csr_trn.rmask = cntxt.csr_vif[csr][nret_id].mon_cb.rvfi_csr_rmask;&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;csr_trn.wmask = cntxt.csr_vif[csr][nret_id].mon_cb.rvfi_csr_wmask;&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;csr_trn.rdata = cntxt.csr_vif[csr][nret_id].mon_cb.rvfi_csr_rdata;&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;csr_trn.wdata = cntxt.csr_vif[csr][nret_id].mon_cb.rvfi_csr_wdata;&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp;&amp;nbsp;&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;mon_trn.name_csrs[csr] = csr_trn;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;&amp;nbsp;&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;end&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; end&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; else begin&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; uvma_rvfi_csr_seq_item_c csr_trn;&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; longint unsigned addr;&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp;&amp;nbsp;&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; csr_trn = uvma_rvfi_csr_seq_item_c#(XLEN)::type_id::create({addr, &quot;_trn&quot;});&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; addr = cntxt.csr_unified_vif[nret_id].mon_cb.rvfi_csr_addr;&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; csr_trn.addr = addr;&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; if (cntxt.csr_unified_vif[nret_id].mon_cb.rvfi_csr_wmask != 0) begin&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; csr_trn.wmask = cntxt.csr_unified_vif[nret_id].mon_cb.rvfi_csr_wmask;&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; csr_trn.wdata = cntxt.csr_unified_vif[nret_id].mon_cb.rvfi_csr_wdata;&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; csr_trn.rmask = cntxt.csr_unified_vif[nret_id].mon_cb.rvfi_csr_rmask;&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; csr_trn.rdata = cntxt.csr_unified_vif[nret_id].mon_cb.rvfi_csr_rdata;&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; mon_trn.addr_csrs[addr] = csr_trn;&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; end&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp;&amp;nbsp;&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; foreach(supported_csrs_addrs[i]) begin&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; addr = supported_csrs_addrs[i];&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; csr_trn = uvma_rvfi_csr_seq_item_c#(XLEN)::type_id::create({addr, &quot;_trn&quot;});&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; csr_trn.addr = addr;&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; csr_trn.wmask = cntxt.csr_unified_vif[nret_id].mon_cb.rvfi_named_csr_wmask[addr];&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; csr_trn.wdata = cntxt.csr_unified_vif[nret_id].mon_cb.rvfi_named_csr_wdata[addr];&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; csr_trn.rmask = cntxt.csr_unified_vif[nret_id].mon_cb.rvfi_named_csr_rmask[addr];&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; csr_trn.rdata = cntxt.csr_unified_vif[nret_id].mon_cb.rvfi_named_csr_rdata[addr];&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; mon_trn.addr_csrs[addr] = csr_trn;&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; end&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; end&lt;/div&gt;&lt;/div&gt;" style="text;strokeColor=default;fillColor=default;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;html=1;" parent="AIi3PwNUS5Vkqz0hZRpa-29" vertex="1">
          <mxGeometry y="470" width="690" height="580" as="geometry" />
        </mxCell>
        <mxCell id="AIi3PwNUS5Vkqz0hZRpa-40" value="&lt;div style=&quot;&quot;&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; // Decode interrupts that need to be communicated to ISS (external or NMI bus faults)&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; if (mon_trn.intr) begin&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; end&lt;/div&gt;&lt;/div&gt;" style="text;strokeColor=default;fillColor=default;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;html=1;" parent="AIi3PwNUS5Vkqz0hZRpa-29" vertex="1">
          <mxGeometry y="1050" width="690" height="90" as="geometry" />
        </mxCell>
        <mxCell id="AIi3PwNUS5Vkqz0hZRpa-43" value="&lt;div style=&quot;&quot;&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; // Decode interrupts that need to be communicated to ISS (external or NMI bus faults)&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; if (mon_trn.intr) begin&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; end&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; ...&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;// Debug related&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;end /* */&lt;/div&gt;&lt;/div&gt;" style="text;strokeColor=default;fillColor=default;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;html=1;" parent="AIi3PwNUS5Vkqz0hZRpa-29" vertex="1">
          <mxGeometry y="1140" width="690" height="130" as="geometry" />
        </mxCell>
        <mxCell id="AIi3PwNUS5Vkqz0hZRpa-44" value="&lt;div style=&quot;&quot;&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; // Detect instruction bus fault&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; if (cfg.insn_bus_fault_enabled &amp;amp;&amp;amp;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; mon_trn.is_trap() &amp;amp;&amp;amp;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; mon_trn.get_trap_cause() == cfg.insn_bus_fault_cause) begin&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; mon_trn.insn_bus_fault = 1;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; `uvm_info(&quot;RVFIMON&quot;, $sformatf(&quot;Detected bus fault&quot;), UVM_LOW)&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; end&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&lt;br&gt;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; `uvm_info(log_tag, $sformatf(&quot;%s&quot;, mon_trn.convert2string()), UVM_HIGH);&lt;/span&gt;&lt;/div&gt;&lt;/div&gt;" style="text;strokeColor=default;fillColor=default;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;html=1;" parent="AIi3PwNUS5Vkqz0hZRpa-29" vertex="1">
          <mxGeometry y="1270" width="690" height="150" as="geometry" />
        </mxCell>
        <mxCell id="AIi3PwNUS5Vkqz0hZRpa-38" value="&lt;div style=&quot;&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;&amp;nbsp;&lt;b style=&quot;background-color: rgb(185, 224, 165);&quot;&gt;ap.write(mon_trn);&lt;/b&gt;&lt;span style=&quot;color: light-dark(rgb(0, 0, 0), rgb(255, 255, 255)); background-color: transparent;&quot;&gt;&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;&quot;&gt;&lt;span style=&quot;color: light-dark(rgb(0, 0, 0), rgb(255, 255, 255)); background-color: transparent;&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;&lt;/span&gt;&lt;span style=&quot;color: light-dark(rgb(0, 0, 0), rgb(255, 255, 255)); background-color: transparent;&quot;&gt;&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;color: light-dark(rgb(0, 0, 0), rgb(255, 255, 255)); background-color: transparent;&quot;&gt;end /* if&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;background-color: transparent; color: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));&quot;&gt;monitor_condition&lt;/span&gt;&lt;span style=&quot;background-color: transparent; color: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));&quot;&gt;&amp;nbsp;*/&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;background-color: transparent;&quot;&gt;&lt;div style=&quot;&quot;&gt;&lt;div style=&quot;&quot;&gt;&lt;div style=&quot;&quot;&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; end /* for */&lt;/div&gt;&lt;div&gt;&amp;nbsp; end /* while */&lt;/div&gt;&lt;/span&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;&lt;/span&gt;&lt;/div&gt;" style="text;strokeColor=default;fillColor=default;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;html=1;" parent="AIi3PwNUS5Vkqz0hZRpa-29" vertex="1">
          <mxGeometry y="1420" width="690" height="80" as="geometry" />
        </mxCell>
        <mxCell id="AIi3PwNUS5Vkqz0hZRpa-33" value="" style="line;strokeWidth=1;fillColor=none;align=left;verticalAlign=middle;spacingTop=-1;spacingLeft=3;spacingRight=3;rotatable=0;labelPosition=right;points=[];portConstraint=eastwest;strokeColor=inherit;" parent="AIi3PwNUS5Vkqz0hZRpa-29" vertex="1">
          <mxGeometry y="1500" width="690" height="8" as="geometry" />
        </mxCell>
        <mxCell id="AIi3PwNUS5Vkqz0hZRpa-45" value="AP Write" style="html=1;verticalAlign=bottom;endArrow=block;curved=0;rounded=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;exitX=1;exitY=0.5;exitDx=0;exitDy=0;strokeWidth=5;fillColor=#dae8fc;strokeColor=#6c8ebf;" parent="1" source="AIi3PwNUS5Vkqz0hZRpa-38" target="AIi3PwNUS5Vkqz0hZRpa-53" edge="1">
          <mxGeometry width="80" relative="1" as="geometry">
            <mxPoint x="-1190" y="2390" as="sourcePoint" />
            <mxPoint x="-920" y="2520" as="targetPoint" />
            <Array as="points">
              <mxPoint x="-980" y="2380" />
              <mxPoint x="-980" y="2560" />
              <mxPoint x="-2080" y="2560" />
              <mxPoint x="-2080" y="2985" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="AIi3PwNUS5Vkqz0hZRpa-49" value="AP Write" style="html=1;verticalAlign=bottom;endArrow=block;curved=0;rounded=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;exitX=1;exitY=0.795;exitDx=0;exitDy=0;exitPerimeter=0;strokeWidth=5;fillColor=#d5e8d4;strokeColor=#82b366;" parent="1" source="AIi3PwNUS5Vkqz0hZRpa-53" target="AIi3PwNUS5Vkqz0hZRpa-35" edge="1">
          <mxGeometry x="-0.2129" y="-31" width="80" relative="1" as="geometry">
            <mxPoint x="-900" y="2520" as="sourcePoint" />
            <mxPoint x="-360" y="2525" as="targetPoint" />
            <Array as="points">
              <mxPoint x="-990" y="3029" />
            </Array>
            <mxPoint as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="AIi3PwNUS5Vkqz0hZRpa-50" value="Connect" style="html=1;verticalAlign=bottom;endArrow=block;curved=0;rounded=0;entryX=0;entryY=0;entryDx=0;entryDy=0;exitX=1;exitY=0.5;exitDx=0;exitDy=0;strokeWidth=5;" parent="1" source="AIi3PwNUS5Vkqz0hZRpa-25" target="AIi3PwNUS5Vkqz0hZRpa-29" edge="1">
          <mxGeometry width="80" relative="1" as="geometry">
            <mxPoint x="-1080" y="1780" as="sourcePoint" />
            <mxPoint x="-540" y="1785" as="targetPoint" />
            <Array as="points">
              <mxPoint x="-2240" y="1802" />
              <mxPoint x="-2090" y="920" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="AIi3PwNUS5Vkqz0hZRpa-51" value="Connect" style="html=1;verticalAlign=bottom;endArrow=block;curved=0;rounded=0;entryX=0;entryY=0;entryDx=0;entryDy=0;exitX=1;exitY=0.75;exitDx=0;exitDy=0;strokeWidth=5;" parent="1" source="AIi3PwNUS5Vkqz0hZRpa-23" target="AIi3PwNUS5Vkqz0hZRpa-18" edge="1">
          <mxGeometry width="80" relative="1" as="geometry">
            <mxPoint x="-2080" y="3169" as="sourcePoint" />
            <mxPoint x="-1780" y="2030" as="targetPoint" />
            <Array as="points">
              <mxPoint x="-2240" y="1921" />
              <mxPoint x="-1980" y="2700" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="AIi3PwNUS5Vkqz0hZRpa-55" value="AP Write" style="html=1;verticalAlign=bottom;endArrow=block;curved=0;rounded=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;strokeWidth=5;exitX=1;exitY=0.5;exitDx=0;exitDy=0;fillColor=#dae8fc;strokeColor=#6c8ebf;" parent="1" source="AIi3PwNUS5Vkqz0hZRpa-38" target="AIi3PwNUS5Vkqz0hZRpa-36" edge="1">
          <mxGeometry x="-0.2902" y="10" width="80" relative="1" as="geometry">
            <mxPoint x="-1180" y="2390" as="sourcePoint" />
            <mxPoint x="430" y="3050" as="targetPoint" />
            <Array as="points">
              <mxPoint x="-420" y="2380" />
            </Array>
            <mxPoint as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="AIi3PwNUS5Vkqz0hZRpa-57" value="spkie model" style="swimlane;fontStyle=1;align=center;verticalAlign=top;childLayout=stackLayout;horizontal=1;startSize=26;horizontalStack=0;resizeParent=1;resizeParentMax=0;resizeLast=0;collapsible=1;marginBottom=0;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="-650" y="3160" width="780" height="1210" as="geometry" />
        </mxCell>
        <mxCell id="AIi3PwNUS5Vkqz0hZRpa-58" value="&lt;span style=&quot;font-size: 12px;&quot;&gt;&lt;b&gt;/home/ICer/proj/cva6/verif/core-v-verif/lib/uvm_components/uvmc_rvfi_reference_model/rvfi_spike.sv&lt;/b&gt;&lt;/span&gt;" style="text;strokeColor=default;fillColor=default;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;html=1;" parent="AIi3PwNUS5Vkqz0hZRpa-57" vertex="1">
          <mxGeometry y="26" width="780" height="34" as="geometry" />
        </mxCell>
        <mxCell id="AIi3PwNUS5Vkqz0hZRpa-59" value="&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;function automatic void rvfi_initialize_spike(string core_name, st_core_cntrl_cfg core_cfg);&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;div style=&quot;&quot;&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp; &amp;nbsp; base = $sformatf(&quot;/top/core/%0d/&quot;, core_cfg.mhartid);&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;&quot;&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&lt;br&gt;&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;&quot;&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp; &amp;nbsp; &lt;span style=&quot;background-color: rgb(185, 224, 165);&quot;&gt;if ($value$plusargs(&quot;elf_file=%s&quot;, binary))&lt;/span&gt;&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;&quot;&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; `uvm_info(&quot;spike_tandem&quot;, $sformatf(&quot;Setting up Spike with binary %s...&quot;, binary), UVM_LOW);&lt;/span&gt;&lt;/div&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp; &amp;nbsp; end&lt;br&gt;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&lt;br&gt;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp; &amp;nbsp;&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;void&#39;(&lt;span style=&quot;background-color: rgb(255, 242, 204);&quot;&gt;&lt;b&gt;spike_set_default_params&lt;/b&gt;&lt;/span&gt;(core_name));&lt;/span&gt;&lt;br&gt;&lt;br&gt;&lt;div style=&quot;background-color: transparent;&quot;&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp; &amp;nbsp; rtl_isa = get_isa_str(core_cfg);&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;background-color: transparent;&quot;&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp; &amp;nbsp; rtl_priv = get_priv_str(core_cfg);&lt;/span&gt;&lt;/div&gt;&lt;/div&gt;" style="text;strokeColor=default;fillColor=default;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;html=1;" parent="AIi3PwNUS5Vkqz0hZRpa-57" vertex="1">
          <mxGeometry y="60" width="780" height="170" as="geometry" />
        </mxCell>
        <mxCell id="AIi3PwNUS5Vkqz0hZRpa-60" value="&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp; &amp;nbsp; &lt;span style=&quot;background-color: rgb(185, 224, 165);&quot;&gt;if ($value$plusargs(&quot;config_file=%s&quot;, config_file)) begin&lt;/span&gt;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; void&#39;(&lt;span style=&quot;background-color: rgb(255, 242, 204);&quot;&gt;&lt;b&gt;spike_set_params_from_file&lt;/b&gt;&lt;/span&gt;(config_file));&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; // If core address is not set or is zero (FORNOW no way to discriminate&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; // between these conditions), take the &quot;/top/cores/boot_addr&quot; value&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; // (possibly equal to zero).&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; boot_addr = &lt;span style=&quot;background-color: rgb(255, 242, 204);&quot;&gt;&lt;b&gt;spike_get_param_uint64_t&lt;/b&gt;&lt;/span&gt;(base, &quot;boot_addr&quot;);&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; if (boot_addr == 0)&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; boot_addr = &lt;b style=&quot;background-color: rgb(255, 242, 204);&quot;&gt;spike_get_param_uint64_t&lt;/b&gt;(&quot;/top/cores/&quot;, &quot;boot_addr&quot;);&lt;/span&gt;&lt;br&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp; &amp;nbsp; end else begin&lt;/span&gt;&lt;br&gt;&lt;div style=&quot;&quot;&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; if (core_cfg.ext_cv32a60x_supported) begin&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;&quot;&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; void&#39;(&lt;b style=&quot;background-color: rgb(255, 242, 204);&quot;&gt;spike_set_param_str&lt;/b&gt;(&quot;/top/core/0/&quot;, &quot;extensions&quot;, &quot;cv32a60x&quot;));&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;&quot;&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; end&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;&quot;&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&lt;br&gt;&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;&quot;&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; void&#39;(&lt;span style=&quot;background-color: rgb(255, 242, 204);&quot;&gt;&lt;b&gt;spike_set_param_uint64_t&lt;/b&gt;&lt;/span&gt;(&quot;/top/&quot;, &quot;num_procs&quot;, 64&#39;h1));&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;&quot;&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&lt;br&gt;&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;&quot;&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; void&#39;(&lt;span style=&quot;background-color: rgb(255, 242, 204);&quot;&gt;&lt;b&gt;spike_set_param_bool&lt;/b&gt;&lt;/span&gt;(&quot;/top/&quot;, &quot;misaligned&quot;, core_cfg.unaligned_access_supported));&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;&quot;&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&lt;br&gt;&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;&quot;&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; void&#39;(&lt;span style=&quot;background-color: rgb(255, 242, 204);&quot;&gt;&lt;b&gt;spike_set_param_uint64_t&lt;/b&gt;&lt;/span&gt;(base, &quot;pmpregions_max&quot;, core_cfg.pmp_regions));&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;&quot;&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; void&#39;(&lt;span style=&quot;background-color: rgb(255, 242, 204);&quot;&gt;&lt;b&gt;spike_set_param_uint64_t&lt;/b&gt;&lt;/span&gt;(base, &quot;pmpregions_writable&quot;, core_cfg.pmp_regions));&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;&quot;&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; void&#39;(&lt;span style=&quot;background-color: rgb(255, 242, 204);&quot;&gt;&lt;b&gt;spike_set_param_bool&lt;/b&gt;&lt;/span&gt;(base, &quot;misaligned&quot;, core_cfg.unaligned_access_supported));&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;&quot;&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&lt;br&gt;&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;&quot;&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; void&#39;(&lt;span style=&quot;background-color: rgb(255, 242, 204);&quot;&gt;&lt;b&gt;spike_set_param_uint64_t&lt;/b&gt;&lt;/span&gt;(&quot;/top/&quot;, &quot;num_procs&quot;, 64&#39;h1));&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;&quot;&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&lt;br&gt;&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;&quot;&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; void&#39;(&lt;span style=&quot;background-color: rgb(255, 242, 204);&quot;&gt;&lt;b&gt;spike_set_param_uint64_t&lt;/b&gt;&lt;/span&gt;(base, &quot;mhartid_override_mask&quot;, 64&#39;hFFFFFFFF));&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;&quot;&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; void&#39;(&lt;span style=&quot;background-color: rgb(255, 242, 204);&quot;&gt;&lt;b&gt;spike_set_param_uint64_t&lt;/b&gt;&lt;/span&gt;(base, &quot;mhartid_override_value&quot;, core_cfg.mhartid));&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;&quot;&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&lt;br&gt;&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;&quot;&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; void&#39;(&lt;b style=&quot;background-color: rgb(255, 242, 204);&quot;&gt;spike_set_param_uint64_t&lt;/b&gt;(base, &quot;marchid_override_mask&quot;, 64&#39;hFFFFFFFF));&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;&quot;&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; void&#39;(&lt;span style=&quot;background-color: rgb(255, 242, 204);&quot;&gt;&lt;b&gt;spike_set_param_uint64_t&lt;/b&gt;&lt;/span&gt;(base, &quot;marchid_override_value&quot;, core_cfg.marchid));&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;&quot;&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&lt;br&gt;&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;&quot;&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; void&#39;(&lt;span style=&quot;background-color: rgb(255, 242, 204);&quot;&gt;&lt;b&gt;spike_set_param_uint64_t&lt;/b&gt;&lt;/span&gt;(base, &quot;mvendorid_override_mask&quot;, 64&#39;hFFFFFFFF));&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;&quot;&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; void&#39;(&lt;b style=&quot;background-color: rgb(255, 242, 204);&quot;&gt;spike_set_param_uint64_t&lt;/b&gt;(base, &quot;mvendorid_override_value&quot;, core_cfg.mvendorid));&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;&quot;&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&lt;br&gt;&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;&quot;&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; void&#39;(&lt;span style=&quot;background-color: rgb(255, 242, 204);&quot;&gt;&lt;b&gt;spike_set_param_bool&lt;/b&gt;&lt;/span&gt;(base, &quot;csr_counters_injection&quot;, 1&#39;h1));&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;&quot;&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&lt;br&gt;&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;&quot;&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; if (core_cfg.dram_valid) begin&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;&quot;&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; void&#39;(&lt;span style=&quot;background-color: rgb(255, 242, 204);&quot;&gt;&lt;b&gt;spike_set_param_bool&lt;/b&gt;&lt;/span&gt;(&quot;/top/&quot;, &quot;dram_enable&quot;, core_cfg.dram_valid));&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;&quot;&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; void&#39;(&lt;span style=&quot;background-color: rgb(255, 242, 204);&quot;&gt;&lt;b style=&quot;&quot;&gt;spike_set_param_uint64_t&lt;/b&gt;&lt;/span&gt;(&quot;/top/&quot;, &quot;dram_base&quot;, core_cfg.dram_base));&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;&quot;&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; void&#39;(&lt;span style=&quot;background-color: rgb(255, 242, 204);&quot;&gt;&lt;b&gt;spike_set_param_uint64_t&lt;/b&gt;&lt;/span&gt;(&quot;/top/&quot;, &quot;dram_size&quot;, core_cfg.dram_size));&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;&quot;&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; end&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;&quot;&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; void&#39;(&lt;span style=&quot;background-color: rgb(255, 242, 204);&quot;&gt;&lt;b&gt;spike_set_param_bool&lt;/b&gt;&lt;/span&gt;(base, &quot;unified_traps&quot;, core_cfg.unified_traps));&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;&quot;&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&lt;br&gt;&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;&quot;&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; // FORNOW FIXME TODO: Hardcoded bootrom base address&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;&quot;&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &lt;span style=&quot;background-color: rgb(185, 224, 165);&quot;&gt;boot_addr = 64&#39;h10000;&lt;/span&gt;&lt;/span&gt;&lt;/div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp; &amp;nbsp; end&lt;/span&gt;&lt;/div&gt;" style="text;strokeColor=default;fillColor=default;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;html=1;" parent="AIi3PwNUS5Vkqz0hZRpa-57" vertex="1">
          <mxGeometry y="230" width="780" height="660" as="geometry" />
        </mxCell>
        <mxCell id="AIi3PwNUS5Vkqz0hZRpa-61" value="&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp; &amp;nbsp; void&#39;(&lt;span style=&quot;background-color: rgb(255, 242, 204);&quot;&gt;&lt;b&gt;spike_set_param_str&lt;/b&gt;&lt;/span&gt;(&quot;/top/&quot;, &quot;isa&quot;, rtl_isa));&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp; &amp;nbsp; void&#39;(&lt;span style=&quot;background-color: rgb(255, 242, 204);&quot;&gt;&lt;b&gt;spike_set_param_str&lt;/b&gt;&lt;/span&gt;(base, &quot;isa&quot;, rtl_isa));&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp; &amp;nbsp; void&#39;(&lt;span style=&quot;background-color: rgb(255, 242, 204);&quot;&gt;&lt;b&gt;spike_set_param_str&lt;/b&gt;&lt;/span&gt;(&quot;/top/&quot;, &quot;priv&quot;, rtl_priv));&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp; &amp;nbsp; void&#39;(&lt;span style=&quot;background-color: rgb(255, 242, 204);&quot;&gt;&lt;b&gt;spike_set_param_str&lt;/b&gt;&lt;/span&gt;(base, &quot;priv&quot;, rtl_priv));&lt;/span&gt;&lt;/div&gt;" style="text;strokeColor=default;fillColor=default;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;html=1;" parent="AIi3PwNUS5Vkqz0hZRpa-57" vertex="1">
          <mxGeometry y="890" width="780" height="80" as="geometry" />
        </mxCell>
        <mxCell id="AIi3PwNUS5Vkqz0hZRpa-66" value="&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp; &amp;nbsp; // Override default boot address with the address from UVM config.&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp; &amp;nbsp; if (core_cfg.boot_addr_valid) begin&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp; &amp;nbsp; if (boot_addr != core_cfg.boot_addr) begin&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; `uvm_info(&quot;SPIKE tandem&quot;,&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;$sformatf(&quot;Overriding default boot address 0x%08h with UVM setting: 0x%08h&quot;,&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;boot_addr, core_cfg.boot_addr), UVM_NONE);&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; boot_addr = core_cfg.boot_addr;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; end&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp; &amp;nbsp; end&lt;/span&gt;&lt;/div&gt;" style="text;strokeColor=default;fillColor=default;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;html=1;" parent="AIi3PwNUS5Vkqz0hZRpa-57" vertex="1">
          <mxGeometry y="970" width="780" height="150" as="geometry" />
        </mxCell>
        <mxCell id="AIi3PwNUS5Vkqz0hZRpa-68" value="&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp; &amp;nbsp; void&#39;(&lt;span style=&quot;background-color: rgb(255, 242, 204);&quot;&gt;&lt;b style=&quot;&quot;&gt;spike_set_param_uint64_t&lt;/b&gt;(base, &quot;boot_addr&quot;, boot_addr)&lt;/span&gt;);&lt;/span&gt;&lt;/div&gt;" style="text;strokeColor=default;fillColor=default;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;html=1;" parent="AIi3PwNUS5Vkqz0hZRpa-57" vertex="1">
          <mxGeometry y="1120" width="780" height="30" as="geometry" />
        </mxCell>
        <mxCell id="AIi3PwNUS5Vkqz0hZRpa-67" value="&lt;span style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp; &amp;nbsp; void&#39;(&lt;span style=&quot;background-color: rgb(255, 242, 204);&quot;&gt;&lt;b&gt;spike_create&lt;/b&gt;(binary)&lt;/span&gt;);&lt;/span&gt;" style="text;strokeColor=default;fillColor=default;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;html=1;" parent="AIi3PwNUS5Vkqz0hZRpa-57" vertex="1">
          <mxGeometry y="1150" width="780" height="30" as="geometry" />
        </mxCell>
        <mxCell id="AIi3PwNUS5Vkqz0hZRpa-62" value="endfunction : rvfi_initialize_spike" style="text;strokeColor=default;fillColor=default;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;html=1;" parent="AIi3PwNUS5Vkqz0hZRpa-57" vertex="1">
          <mxGeometry y="1180" width="780" height="30" as="geometry" />
        </mxCell>
        <mxCell id="AIi3PwNUS5Vkqz0hZRpa-70" value="Call model step" style="html=1;verticalAlign=bottom;endArrow=block;curved=0;rounded=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;strokeWidth=5;fillColor=#fff2cc;strokeColor=#d6b656;exitX=1;exitY=0.5;exitDx=0;exitDy=0;" parent="1" source="AIi3PwNUS5Vkqz0hZRpa-20" target="AIi3PwNUS5Vkqz0hZRpa-59" edge="1">
          <mxGeometry width="80" relative="1" as="geometry">
            <mxPoint x="560" y="2960" as="sourcePoint" />
            <mxPoint x="-130" y="3145" as="targetPoint" />
            <Array as="points">
              <mxPoint x="-930" y="2845" />
              <mxPoint x="-750" y="3305" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="AIi3PwNUS5Vkqz0hZRpa-71" value="spkie model" style="swimlane;fontStyle=1;align=center;verticalAlign=top;childLayout=stackLayout;horizontal=1;startSize=26;horizontalStack=0;resizeParent=1;resizeParentMax=0;resizeLast=0;collapsible=1;marginBottom=0;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="-650" y="4510" width="780" height="310" as="geometry" />
        </mxCell>
        <mxCell id="AIi3PwNUS5Vkqz0hZRpa-72" value="&lt;span style=&quot;font-size: 12px;&quot;&gt;&lt;b&gt;/home/ICer/proj/cva6/verif/core-v-verif/lib/uvm_components/uvmc_rvfi_reference_model/rvfi_spike.sv&lt;/b&gt;&lt;/span&gt;" style="text;strokeColor=default;fillColor=default;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;html=1;" parent="AIi3PwNUS5Vkqz0hZRpa-71" vertex="1">
          <mxGeometry y="26" width="780" height="34" as="geometry" />
        </mxCell>
        <mxCell id="AIi3PwNUS5Vkqz0hZRpa-73" value="&lt;span style=&quot;font-size: 12px;&quot;&gt;function automatic void rvfi_spike_step(ref st_rvfi s_core, ref st_rvfi s_reference_model);&lt;/span&gt;&lt;br&gt;&lt;div style=&quot;&quot;&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; union_rvfi u_core;&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;&quot;&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; union_rvfi u_reference_model;&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;&quot;&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; bit [ST_NUM_WORDS-1:0][63:0] a_core;&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;&quot;&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; bit [ST_NUM_WORDS-1:0][63:0] a_reference_model;&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;&quot;&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&lt;br&gt;&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;&quot;&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; u_core.rvfi = s_core;&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;&quot;&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; a_core = u_core.array;&lt;/span&gt;&lt;/div&gt;" style="text;strokeColor=default;fillColor=default;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;html=1;" parent="AIi3PwNUS5Vkqz0hZRpa-71" vertex="1">
          <mxGeometry y="60" width="780" height="130" as="geometry" />
        </mxCell>
        <mxCell id="AIi3PwNUS5Vkqz0hZRpa-74" value="&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &lt;span&gt;&lt;b style=&quot;background-color: rgb(255, 242, 204);&quot;&gt;spike_step_svLogic&lt;/b&gt;(a_core, a_reference_model);&lt;/span&gt;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&lt;br&gt;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; u_reference_model.array = a_reference_model;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&lt;br&gt;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; s_reference_model = u_reference_model.rvfi;&lt;/span&gt;&lt;/div&gt;" style="text;strokeColor=default;fillColor=default;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;html=1;" parent="AIi3PwNUS5Vkqz0hZRpa-71" vertex="1">
          <mxGeometry y="190" width="780" height="90" as="geometry" />
        </mxCell>
        <mxCell id="AIi3PwNUS5Vkqz0hZRpa-79" value="endfunction : rvfi_spike_step" style="text;strokeColor=default;fillColor=default;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;html=1;" parent="AIi3PwNUS5Vkqz0hZRpa-71" vertex="1">
          <mxGeometry y="280" width="780" height="30" as="geometry" />
        </mxCell>
        <mxCell id="AIi3PwNUS5Vkqz0hZRpa-80" value="Call model step" style="html=1;verticalAlign=bottom;endArrow=block;curved=0;rounded=0;entryX=0;entryY=0;entryDx=0;entryDy=0;strokeWidth=5;fillColor=#d5e8d4;strokeColor=#82b366;exitX=1;exitY=0.5;exitDx=0;exitDy=0;startArrow=block;startFill=1;" parent="1" source="AIi3PwNUS5Vkqz0hZRpa-46" target="AIi3PwNUS5Vkqz0hZRpa-71" edge="1">
          <mxGeometry width="80" relative="1" as="geometry">
            <mxPoint x="-980" y="3270" as="sourcePoint" />
            <mxPoint x="-430" y="3730" as="targetPoint" />
            <Array as="points">
              <mxPoint x="-960" y="3175" />
              <mxPoint x="-830" y="4510" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="AIi3PwNUS5Vkqz0hZRpa-81" value="CVA6.py (vcs-uvm,spike, no TANDEM)" style="swimlane;fontStyle=1;align=center;verticalAlign=top;childLayout=stackLayout;horizontal=1;startSize=26;horizontalStack=0;resizeParent=1;resizeParentMax=0;resizeLast=0;collapsible=1;marginBottom=0;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="-742.5" y="-1960" width="800" height="918" as="geometry" />
        </mxCell>
        <mxCell id="AIi3PwNUS5Vkqz0hZRpa-83" value="" style="line;strokeWidth=1;fillColor=none;align=left;verticalAlign=middle;spacingTop=-1;spacingLeft=3;spacingRight=3;rotatable=0;labelPosition=right;points=[];portConstraint=eastwest;strokeColor=inherit;" parent="AIi3PwNUS5Vkqz0hZRpa-81" vertex="1">
          <mxGeometry y="26" width="800" height="8" as="geometry" />
        </mxCell>
        <mxCell id="AIi3PwNUS5Vkqz0hZRpa-84" value="exec: cmd=/home/ICer/proj/riscv_cva6_tools/bin/riscv-none-elf-gcc --version" style="text;strokeColor=default;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;html=1;" parent="AIi3PwNUS5Vkqz0hZRpa-81" vertex="1">
          <mxGeometry y="34" width="800" height="26" as="geometry" />
        </mxCell>
        <mxCell id="AIi3PwNUS5Vkqz0hZRpa-86" value="exec: cmd=verilator --version" style="text;strokeColor=default;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;html=1;" parent="AIi3PwNUS5Vkqz0hZRpa-81" vertex="1">
          <mxGeometry y="60" width="800" height="26" as="geometry" />
        </mxCell>
        <mxCell id="AIi3PwNUS5Vkqz0hZRpa-87" value="&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;exec: cmd=mkdir -p /home/ICer/proj/cva6/verif/sim/out_2025-10-31/directed_tests&lt;/span&gt;&lt;/div&gt;" style="text;strokeColor=default;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;html=1;" parent="AIi3PwNUS5Vkqz0hZRpa-81" vertex="1">
          <mxGeometry y="86" width="800" height="26" as="geometry" />
        </mxCell>
        <mxCell id="AIi3PwNUS5Vkqz0hZRpa-88" value="&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;exec: cmd=/home/ICer/proj/riscv_cva6_tools/bin/riscv-none-elf-gcc ../tests/custom/hello_world/hello_world.c&amp;nbsp;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;-I/home/ICer/proj/cva6/verif/sim/dv/user_extension&amp;nbsp;&amp;nbsp;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;-T../../config/gen_from_riscv_config/linker/link.ld &lt;br&gt;-static -mcmodel=medany &lt;br&gt;-fvisibility=hidden &lt;br&gt;-nostdlib &lt;br&gt;-nostartfiles &lt;br&gt;-g ../tests/custom/common/syscalls.c ../tests/custom/common/crt.S -lgcc &lt;br&gt;-I../tests/custom/env &lt;br&gt;-I../tests/custom/common &lt;br&gt;-o /home/ICer/proj/cva6/verif/sim/out_2025-10-31/directed_tests/hello_world.o&amp;nbsp; &lt;br&gt;-march=rv64gc_zba_zbb_zbs_zbc_zbkb_zbkx_zkne_zknd_zknh &lt;br&gt;-mabi=lp64d&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;" style="text;strokeColor=default;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;html=1;" parent="AIi3PwNUS5Vkqz0hZRpa-81" vertex="1">
          <mxGeometry y="112" width="800" height="218" as="geometry" />
        </mxCell>
        <mxCell id="AIi3PwNUS5Vkqz0hZRpa-85" value="&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;exec: cmd=mkdir -p /home/ICer/proj/cva6/verif/sim/out_2025-10-31/spike_sim&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;" style="text;strokeColor=default;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;html=1;" parent="AIi3PwNUS5Vkqz0hZRpa-81" vertex="1">
          <mxGeometry y="330" width="800" height="26" as="geometry" />
        </mxCell>
        <mxCell id="AIi3PwNUS5Vkqz0hZRpa-90" value="&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;exec: cmd=make spike steps=2000000 &lt;br&gt;target=cv64a6_imafdc_sv39 &lt;br&gt;variant=rv64gc_zba_zbb_zbs_zbc_zbkb_zbkx_zkne_zknd_zknh &lt;br&gt;priv=msu &lt;br&gt;elf=/home/ICer/proj/cva6/verif/sim/out_2025-10-31/directed_tests/hello_world.o tool_path=/home/ICer/proj/cva6/tools/spike/bin &lt;br&gt;log=/home/ICer/proj/cva6/verif/sim/out_2025-10-31/spike_sim/hello_world.cv64a6_imafdc_sv39.log&lt;br&gt;spike_params=&#39;&#39; &lt;br&gt;&amp;amp;&amp;gt; /home/ICer/proj/cva6/verif/sim/out_2025-10-31/spike_sim/hello_world.cv64a6_imafdc_sv39.log.iss&lt;/span&gt;&lt;/div&gt;" style="text;strokeColor=default;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;html=1;" parent="AIi3PwNUS5Vkqz0hZRpa-81" vertex="1">
          <mxGeometry y="356" width="800" height="144" as="geometry" />
        </mxCell>
        <mxCell id="AIi3PwNUS5Vkqz0hZRpa-91" value="&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;exec: cmd=make &lt;br&gt;vcs-uvm &lt;br&gt;target=cv64a6_imafdc_sv39 &lt;br&gt;cov=${cov} &lt;br&gt;variant=rv64gc_zba_zbb_zbs_zbc_zbkb_zbkx_zkne_zknd_zknh elf=/home/ICer/proj/cva6/verif/sim/out_2025-10-31/directed_tests/hello_world.o&lt;br&gt;tool_path=/home/ICer/proj/cva6/tools/spike/bin &lt;br&gt;isscomp_opts=&quot;&quot; &lt;br&gt;issrun_opts=&quot; +ntb_random_seed=615222664&quot; &lt;br&gt;isspostrun_opts=&quot;0x0000000080000000&quot; &lt;br&gt;log=/home/ICer/proj/cva6/verif/sim/out_2025-10-31/vcs-uvm_sim/hello_world.cv64a6_imafdc_sv39.log &lt;br&gt;&amp;amp;&amp;gt; /home/ICer/proj/cva6/verif/sim/out_2025-10-31/vcs-uvm_sim/hello_world.cv64a6_imafdc_sv39.log.iss&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;" style="text;strokeColor=default;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;html=1;" parent="AIi3PwNUS5Vkqz0hZRpa-81" vertex="1">
          <mxGeometry y="500" width="800" height="190" as="geometry" />
        </mxCell>
        <mxCell id="SD2ZrkHbs7bPrr3oHXAE-3" value="&lt;div&gt;&amp;nbsp; &amp;nbsp; iss_list =&amp;nbsp;[&#39;spike&#39;, &#39;vcs-uvm&#39;]&lt;br&gt;&amp;nbsp; &amp;nbsp; log_list =&amp;nbsp;[&#39;&#39;/home/ICer/proj/cva6/verif/sim/out_2025-11-01/spike_sim/hello_world.cv64a6_imafdc_sv39.log&#39;&#39;, &lt;br&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &#39;&#39;/home/ICer/proj/cva6/verif/sim/out_2025-11-01/vcs-uvm_sim/hello_world.cv64a6_imafdc_sv39.log&#39;&#39;]&lt;/div&gt;def compare_iss_log(iss_list, log_list, report, stop_on_first_error=0, exp=False):&lt;div&gt;&amp;nbsp; &amp;nbsp;&amp;nbsp;process_spike_sim_log(log, csv)&lt;br&gt;&lt;br&gt;&amp;nbsp; &amp;nbsp;&amp;nbsp;process_verilator_sim_log(log, csv)&lt;br&gt;&lt;br&gt;&amp;nbsp; &amp;nbsp;&amp;nbsp;result = compare_trace_csv(csv_list[0], csv_list[1], iss_list[0], iss_list[1], report)&lt;/div&gt;" style="text;strokeColor=default;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;html=1;" parent="AIi3PwNUS5Vkqz0hZRpa-81" vertex="1">
          <mxGeometry y="690" width="800" height="150" as="geometry" />
        </mxCell>
        <mxCell id="AIi3PwNUS5Vkqz0hZRpa-89" value="&lt;span style=&quot;font-size: 12px;&quot;&gt;exec: cmd=grep &#39;\[PASSED\]&#39; /home/ICer/proj/cva6/verif/sim/out_2025-10-31/iss_regr.log | wc -l&lt;/span&gt;" style="text;strokeColor=default;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;html=1;" parent="AIi3PwNUS5Vkqz0hZRpa-81" vertex="1">
          <mxGeometry y="840" width="800" height="26" as="geometry" />
        </mxCell>
        <mxCell id="AIi3PwNUS5Vkqz0hZRpa-92" value="&lt;span style=&quot;font-size: 12px;&quot;&gt;exec: cmd=grep &#39;\[FAILED\]&#39; /home/ICer/proj/cva6/verif/sim/out_2025-10-31/iss_regr.log | wc -l&lt;/span&gt;" style="text;strokeColor=default;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;html=1;" parent="AIi3PwNUS5Vkqz0hZRpa-81" vertex="1">
          <mxGeometry y="866" width="800" height="26" as="geometry" />
        </mxCell>
        <mxCell id="AIi3PwNUS5Vkqz0hZRpa-93" value="&lt;span style=&quot;font-size: 12px;&quot;&gt;exec: cmd=echo 1 PASSED, 0 FAILED &amp;gt;&amp;gt; /home/ICer/proj/cva6/verif/sim/out_2025-10-31/iss_regr.log&lt;/span&gt;" style="text;strokeColor=default;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;html=1;" parent="AIi3PwNUS5Vkqz0hZRpa-81" vertex="1">
          <mxGeometry y="892" width="800" height="26" as="geometry" />
        </mxCell>
        <mxCell id="KYVJpWbL8Ke9KduQslkp-1" value="riscv_core_setting.sv" style="swimlane;fontStyle=1;align=center;verticalAlign=top;childLayout=stackLayout;horizontal=1;startSize=26;horizontalStack=0;resizeParent=1;resizeParentMax=0;resizeLast=0;collapsible=1;marginBottom=0;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="-3270" y="-890" width="560" height="128" as="geometry" />
        </mxCell>
        <mxCell id="KYVJpWbL8Ke9KduQslkp-2" value="cva6.py&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;main()&lt;/div&gt;&lt;div&gt;args.core_setting_dir = &lt;b&gt;cwd &lt;/b&gt;+ &quot;/&lt;b&gt;dv&lt;/b&gt;&quot; + &quot;/&lt;b&gt;target&lt;/b&gt;/&quot;+ &lt;b&gt;args.isa&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp;=&amp;nbsp;&lt;span style=&quot;background-color: transparent;&quot;&gt;/home/ICer/proj/cva6/verif/sim/dv/target/rv64gc_zba_zbb_zbs_zbc_zbkb_zbkx_zkne_zknd_zknh&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;background-color: transparent; color: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));&quot;&gt;&lt;br&gt;&lt;/span&gt;&lt;/div&gt;" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;html=1;" parent="KYVJpWbL8Ke9KduQslkp-1" vertex="1">
          <mxGeometry y="26" width="560" height="94" as="geometry" />
        </mxCell>
        <mxCell id="KYVJpWbL8Ke9KduQslkp-3" value="" style="line;strokeWidth=1;fillColor=none;align=left;verticalAlign=middle;spacingTop=-1;spacingLeft=3;spacingRight=3;rotatable=0;labelPosition=right;points=[];portConstraint=eastwest;strokeColor=inherit;" parent="KYVJpWbL8Ke9KduQslkp-1" vertex="1">
          <mxGeometry y="120" width="560" height="8" as="geometry" />
        </mxCell>
        <mxCell id="B6SIow3o6jKN5cq_tIl7-1" value="" style="endArrow=classic;html=1;rounded=0;exitX=0;exitY=0.5;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;strokeWidth=3;" parent="1" source="AIi3PwNUS5Vkqz0hZRpa-91" target="AIi3PwNUS5Vkqz0hZRpa-1" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="-860" y="-1550" as="sourcePoint" />
            <mxPoint x="-810" y="-1600" as="targetPoint" />
            <Array as="points">
              <mxPoint x="-1520" y="-1360" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="B6SIow3o6jKN5cq_tIl7-2" value="" style="endArrow=classic;html=1;rounded=0;exitX=0;exitY=0.5;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;strokeWidth=3;" parent="1" source="AIi3PwNUS5Vkqz0hZRpa-5" target="mzS4798Yjswd0JI5HEyz-6" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="-1672" y="-1374" as="sourcePoint" />
            <mxPoint x="-2450" y="-1279" as="targetPoint" />
            <Array as="points">
              <mxPoint x="-2407" y="-804" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="B6SIow3o6jKN5cq_tIl7-3" value="uvmt_cva6_tb" style="swimlane;fontStyle=1;align=center;verticalAlign=top;childLayout=stackLayout;horizontal=1;startSize=26;horizontalStack=0;resizeParent=1;resizeParentMax=0;resizeLast=0;collapsible=1;marginBottom=0;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="-2710" y="7050" width="550" height="1230" as="geometry" />
        </mxCell>
        <mxCell id="B6SIow3o6jKN5cq_tIl7-4" value="/home/ICer/proj/cva6/verif/tb/uvmt/uvmt_cva6_tb.sv" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;html=1;" parent="B6SIow3o6jKN5cq_tIl7-3" vertex="1">
          <mxGeometry y="26" width="550" height="26" as="geometry" />
        </mxCell>
        <mxCell id="B6SIow3o6jKN5cq_tIl7-5" value="" style="line;strokeWidth=1;fillColor=none;align=left;verticalAlign=middle;spacingTop=-1;spacingLeft=3;spacingRight=3;rotatable=0;labelPosition=right;points=[];portConstraint=eastwest;strokeColor=inherit;" parent="B6SIow3o6jKN5cq_tIl7-3" vertex="1">
          <mxGeometry y="52" width="550" height="8" as="geometry" />
        </mxCell>
        <mxCell id="B6SIow3o6jKN5cq_tIl7-6" value="// CVA6 config" style="text;strokeColor=#6c8ebf;fillColor=#dae8fc;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;html=1;" parent="B6SIow3o6jKN5cq_tIl7-3" vertex="1">
          <mxGeometry y="60" width="550" height="26" as="geometry" />
        </mxCell>
        <mxCell id="B6SIow3o6jKN5cq_tIl7-7" value="// RVFI" style="text;strokeColor=#6c8ebf;fillColor=#dae8fc;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;html=1;" parent="B6SIow3o6jKN5cq_tIl7-3" vertex="1">
          <mxGeometry y="86" width="550" height="26" as="geometry" />
        </mxCell>
        <mxCell id="B6SIow3o6jKN5cq_tIl7-10" value="// RVFI PROBES" style="text;strokeColor=#6c8ebf;fillColor=#dae8fc;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;html=1;" parent="B6SIow3o6jKN5cq_tIl7-3" vertex="1">
          <mxGeometry y="112" width="550" height="26" as="geometry" />
        </mxCell>
        <mxCell id="B6SIow3o6jKN5cq_tIl7-80" value="// DUT Wrapper Interfaces" style="text;strokeColor=#6c8ebf;fillColor=#dae8fc;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;html=1;" parent="B6SIow3o6jKN5cq_tIl7-3" vertex="1">
          <mxGeometry y="138" width="550" height="26" as="geometry" />
        </mxCell>
        <mxCell id="B6SIow3o6jKN5cq_tIl7-43" value="___&lt;br&gt;___&lt;div&gt;___&lt;/div&gt;" style="text;strokeColor=default;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;html=1;" parent="B6SIow3o6jKN5cq_tIl7-3" vertex="1">
          <mxGeometry y="164" width="550" height="58" as="geometry" />
        </mxCell>
        <mxCell id="B6SIow3o6jKN5cq_tIl7-38" value="__INTFACE&lt;br&gt;&lt;br&gt;&lt;br&gt;&lt;br&gt;&lt;div&gt;&lt;div&gt;for (genvar i = 0; i &amp;lt; RVFI_NRET; i++) begin&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp;assign&amp;nbsp; rvfi_instr_if[i].clk&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; = clknrst_if.clk;&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp;assign&amp;nbsp; rvfi_instr_if[i].reset_n&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; = clknrst_if.reset_n;&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp;assign&amp;nbsp; rvfi_instr_if[i].rvfi_valid&amp;nbsp; &amp;nbsp; &amp;nbsp;= rvfi_if.rvfi_o[i].valid;&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp;assign&amp;nbsp; rvfi_instr_if[i].rvfi_order&amp;nbsp; &amp;nbsp; &amp;nbsp;= rvfi_if.rvfi_o[i].order;&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp;assign&amp;nbsp; rvfi_instr_if[i].rvfi_insn&amp;nbsp; &amp;nbsp; &amp;nbsp; = rvfi_if.rvfi_o[i].insn;&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp;...&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp;assign&amp;nbsp; rvfi_instr_if[i].rvfi_rs2_rdata = rvfi_if.rvfi_o[i].rs2_rdata;&lt;/div&gt;&lt;div&gt;end&lt;/div&gt;&lt;/div&gt;" style="text;strokeColor=default;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;html=1;" parent="B6SIow3o6jKN5cq_tIl7-3" vertex="1">
          <mxGeometry y="222" width="550" height="238" as="geometry" />
        </mxCell>
        <mxCell id="B6SIow3o6jKN5cq_tIl7-9" value="__INTFACE&lt;br&gt;&lt;br&gt;&lt;br&gt;&lt;br&gt;&lt;div&gt;`RVFI_CSR_ASSIGN(fflags)&lt;/div&gt;&lt;div&gt;`RVFI_CSR_ASSIGN(frm)&lt;/div&gt;&lt;div&gt;`RVFI_CSR_ASSIGN(fcsr)&lt;/div&gt;&lt;div&gt;`RVFI_CSR_ASSIGN(ftran)&lt;/div&gt;&lt;div&gt;`RVFI_CSR_ASSIGN(dcsr)&lt;/div&gt;&lt;div&gt;`RVFI_CSR_ASSIGN(dpc)&lt;/div&gt;&lt;div&gt;...&lt;/div&gt;&lt;div&gt;`RVFI_CSR_ASSIGN(dcache)&lt;/div&gt;&lt;div&gt;`RVFI_CSR_ASSIGN(icache)&lt;/div&gt;&lt;div&gt;`RVFI_CSR_ASSIGN(acc_cons)&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;`RVFI_CSR_ASSIGN(pmpcfg0)&lt;/div&gt;&lt;div&gt;...&lt;/div&gt;&lt;div&gt;`RVFI_CSR_ASSIGN(pmpcfg3)&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;`RVFI_CSR_SUFFIX_ASSIGN(pmpaddr, 0)&lt;/div&gt;&lt;div&gt;...&lt;/div&gt;&lt;div&gt;`RVFI_CSR_SUFFIX_ASSIGN(pmpaddr, 15)&lt;/div&gt;" style="text;strokeColor=default;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;html=1;" parent="B6SIow3o6jKN5cq_tIl7-3" vertex="1">
          <mxGeometry y="460" width="550" height="350" as="geometry" />
        </mxCell>
        <mxCell id="B6SIow3o6jKN5cq_tIl7-108" value="__WRAPPER&lt;br&gt;&lt;br&gt;&lt;br&gt;&lt;div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp;uvmt_cva6_dut_wrap #(&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp;.CVA6Cfg&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;( CVA6Cfg&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; ),&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp;.rvfi_instr_t&amp;nbsp; &amp;nbsp; &amp;nbsp; ( rvfi_instr_t&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;),&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp;.rvfi_csr_elmt_t&amp;nbsp; &amp;nbsp;( rvfi_csr_elmt_t&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; ),&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp;.rvfi_csr_t&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; ( rvfi_csr_t&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;),&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp;.rvfi_probes_instr_t(rvfi_probes_instr_t&amp;nbsp; &amp;nbsp; ),&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp;.rvfi_probes_csr_t ( rvfi_probes_csr_t&amp;nbsp; &amp;nbsp; &amp;nbsp; ),&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp;.rvfi_probes_t&amp;nbsp; &amp;nbsp; &amp;nbsp;( rvfi_probes_t&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; ),&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp;.rvfi_to_iti_t&amp;nbsp; &amp;nbsp; &amp;nbsp;( rvfi_to_iti_t&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; ),&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp;//&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp;.AXI_USER_EN&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;(CVA6Cfg.AXI_USER_EN),&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp;.NUM_WORDS&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;(NUM_WORDS)&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp;) cva6_dut_wrap (&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; .clknrst_if(clknrst_if),&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; .debug_if(debug_if),&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; .axi_if&amp;nbsp; &amp;nbsp; (axi_if),&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; .axi_switch_vif&amp;nbsp; &amp;nbsp; (axi_switch_vif),&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; .default_inputs_vif&amp;nbsp; &amp;nbsp; (default_inputs_vif),&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; .core_cntrl_if(core_cntrl_if),&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; .interrupt_vif(interrupt_vif),&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; .cvxif_vif(cvxif_vif),&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; .tb_exit_o(tb_exit_if.tb_exit_o),&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; .rvfi_o(rvfi_if.rvfi_o),&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; .rvfi_csr_o(rvfi_if.rvfi_csr_o)&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; );&lt;/div&gt;&lt;/div&gt;" style="text;strokeColor=default;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;html=1;" parent="B6SIow3o6jKN5cq_tIl7-3" vertex="1">
          <mxGeometry y="810" width="550" height="420" as="geometry" />
        </mxCell>
        <mxCell id="B6SIow3o6jKN5cq_tIl7-14" value="TB_CONFIG" style="swimlane;fontStyle=1;align=center;verticalAlign=top;childLayout=stackLayout;horizontal=1;startSize=26;horizontalStack=0;resizeParent=1;resizeParentMax=0;resizeLast=0;collapsible=1;marginBottom=0;whiteSpace=wrap;html=1;fillColor=#dae8fc;strokeColor=#6c8ebf;" parent="1" vertex="1">
          <mxGeometry x="-1770" y="5640" width="619.5" height="86" as="geometry" />
        </mxCell>
        <mxCell id="B6SIow3o6jKN5cq_tIl7-16" value="" style="line;strokeWidth=1;fillColor=none;align=left;verticalAlign=middle;spacingTop=-1;spacingLeft=3;spacingRight=3;rotatable=0;labelPosition=right;points=[];portConstraint=eastwest;strokeColor=inherit;" parent="B6SIow3o6jKN5cq_tIl7-14" vertex="1">
          <mxGeometry y="26" width="619.5" height="8" as="geometry" />
        </mxCell>
        <mxCell id="B6SIow3o6jKN5cq_tIl7-18" value="localparam config_pkg::cva6_cfg_t CVA6Cfg = build_config_pkg::build_config(cva6_config_pkg::cva6_cfg);" style="text;strokeColor=default;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;html=1;" parent="B6SIow3o6jKN5cq_tIl7-14" vertex="1">
          <mxGeometry y="34" width="619.5" height="26" as="geometry" />
        </mxCell>
        <mxCell id="B6SIow3o6jKN5cq_tIl7-17" value="localparam RVFI_NRET = CVA6Cfg.NrCommitPorts;" style="text;strokeColor=default;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;html=1;" parent="B6SIow3o6jKN5cq_tIl7-14" vertex="1">
          <mxGeometry y="60" width="619.5" height="26" as="geometry" />
        </mxCell>
        <mxCell id="B6SIow3o6jKN5cq_tIl7-19" value="define" style="html=1;verticalAlign=bottom;endArrow=block;curved=0;rounded=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;exitX=1;exitY=0.5;exitDx=0;exitDy=0;" parent="1" source="B6SIow3o6jKN5cq_tIl7-6" target="B6SIow3o6jKN5cq_tIl7-14" edge="1">
          <mxGeometry width="80" relative="1" as="geometry">
            <mxPoint x="-1730" y="5930" as="sourcePoint" />
            <mxPoint x="-1650" y="5930" as="targetPoint" />
            <Array as="points">
              <mxPoint x="-2060" y="6940" />
              <mxPoint x="-1820" y="5590" />
              <mxPoint x="-1460" y="5590" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="B6SIow3o6jKN5cq_tIl7-22" value="RVFI" style="swimlane;fontStyle=1;align=center;verticalAlign=top;childLayout=stackLayout;horizontal=1;startSize=26;horizontalStack=0;resizeParent=1;resizeParentMax=0;resizeLast=0;collapsible=1;marginBottom=0;whiteSpace=wrap;html=1;fillColor=#dae8fc;strokeColor=#6c8ebf;" parent="1" vertex="1">
          <mxGeometry x="-1770" y="5840" width="470" height="138" as="geometry" />
        </mxCell>
        <mxCell id="B6SIow3o6jKN5cq_tIl7-24" value="" style="line;strokeWidth=1;fillColor=none;align=left;verticalAlign=middle;spacingTop=-1;spacingLeft=3;spacingRight=3;rotatable=0;labelPosition=right;points=[];portConstraint=eastwest;strokeColor=inherit;" parent="B6SIow3o6jKN5cq_tIl7-22" vertex="1">
          <mxGeometry y="26" width="470" height="8" as="geometry" />
        </mxCell>
        <mxCell id="B6SIow3o6jKN5cq_tIl7-25" value="localparam type &lt;b&gt;rvfi_instr_t &lt;/b&gt;= `RVFI_INSTR_T(CVA6Cfg);" style="text;strokeColor=default;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;html=1;" parent="B6SIow3o6jKN5cq_tIl7-22" vertex="1">
          <mxGeometry y="34" width="470" height="26" as="geometry" />
        </mxCell>
        <mxCell id="B6SIow3o6jKN5cq_tIl7-26" value="localparam type &lt;b&gt;rvfi_csr_elmt_t &lt;/b&gt;= `RVFI_CSR_ELMT_T(CVA6Cfg);" style="text;strokeColor=default;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;html=1;" parent="B6SIow3o6jKN5cq_tIl7-22" vertex="1">
          <mxGeometry y="60" width="470" height="26" as="geometry" />
        </mxCell>
        <mxCell id="B6SIow3o6jKN5cq_tIl7-28" value="localparam type &lt;b&gt;rvfi_csr_t &lt;/b&gt;= `RVFI_CSR_T(CVA6Cfg, rvfi_csr_elmt_t);" style="text;strokeColor=default;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;html=1;" parent="B6SIow3o6jKN5cq_tIl7-22" vertex="1">
          <mxGeometry y="86" width="470" height="26" as="geometry" />
        </mxCell>
        <mxCell id="B6SIow3o6jKN5cq_tIl7-29" value="localparam type &lt;b&gt;rvfi_to_iti_t &lt;/b&gt;= `RVFI_TO_ITI_T(CVA6Cfg);" style="text;strokeColor=default;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;html=1;" parent="B6SIow3o6jKN5cq_tIl7-22" vertex="1">
          <mxGeometry y="112" width="470" height="26" as="geometry" />
        </mxCell>
        <mxCell id="B6SIow3o6jKN5cq_tIl7-30" value="define" style="html=1;verticalAlign=bottom;endArrow=block;curved=0;rounded=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;exitX=1;exitY=0.5;exitDx=0;exitDy=0;" parent="1" source="B6SIow3o6jKN5cq_tIl7-7" target="B6SIow3o6jKN5cq_tIl7-22" edge="1">
          <mxGeometry width="80" relative="1" as="geometry">
            <mxPoint x="-1972" y="5982" as="sourcePoint" />
            <mxPoint x="-1402" y="5809" as="targetPoint" />
            <Array as="points">
              <mxPoint x="-1980" y="7020" />
              <mxPoint x="-1780" y="5790" />
              <mxPoint x="-1535" y="5790" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="B6SIow3o6jKN5cq_tIl7-31" value="RVFI&amp;nbsp;PROBES" style="swimlane;fontStyle=1;align=center;verticalAlign=top;childLayout=stackLayout;horizontal=1;startSize=26;horizontalStack=0;resizeParent=1;resizeParentMax=0;resizeLast=0;collapsible=1;marginBottom=0;whiteSpace=wrap;html=1;fillColor=#dae8fc;strokeColor=#6c8ebf;" parent="1" vertex="1">
          <mxGeometry x="-1805" y="6990" width="470" height="160" as="geometry" />
        </mxCell>
        <mxCell id="B6SIow3o6jKN5cq_tIl7-32" value="" style="line;strokeWidth=1;fillColor=none;align=left;verticalAlign=middle;spacingTop=-1;spacingLeft=3;spacingRight=3;rotatable=0;labelPosition=right;points=[];portConstraint=eastwest;strokeColor=inherit;" parent="B6SIow3o6jKN5cq_tIl7-31" vertex="1">
          <mxGeometry y="26" width="470" height="8" as="geometry" />
        </mxCell>
        <mxCell id="B6SIow3o6jKN5cq_tIl7-33" value="localparam type rvfi_probes_instr_t = `RVFI_PROBES_INSTR_T(CVA6Cfg);" style="text;strokeColor=default;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;html=1;" parent="B6SIow3o6jKN5cq_tIl7-31" vertex="1">
          <mxGeometry y="34" width="470" height="26" as="geometry" />
        </mxCell>
        <mxCell id="B6SIow3o6jKN5cq_tIl7-34" value="localparam type rvfi_probes_csr_t = `RVFI_PROBES_CSR_T(CVA6Cfg);" style="text;strokeColor=default;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;html=1;" parent="B6SIow3o6jKN5cq_tIl7-31" vertex="1">
          <mxGeometry y="60" width="470" height="26" as="geometry" />
        </mxCell>
        <mxCell id="B6SIow3o6jKN5cq_tIl7-35" value="&lt;div&gt;localparam type rvfi_probes_t = struct packed {&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; rvfi_probes_csr_t csr;&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; rvfi_probes_instr_t instr;&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp;};&lt;/div&gt;" style="text;strokeColor=default;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;html=1;" parent="B6SIow3o6jKN5cq_tIl7-31" vertex="1">
          <mxGeometry y="86" width="470" height="74" as="geometry" />
        </mxCell>
        <mxCell id="B6SIow3o6jKN5cq_tIl7-37" value="define" style="html=1;verticalAlign=bottom;endArrow=block;curved=0;rounded=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;exitX=1;exitY=0.5;exitDx=0;exitDy=0;" parent="1" source="B6SIow3o6jKN5cq_tIl7-10" target="B6SIow3o6jKN5cq_tIl7-31" edge="1">
          <mxGeometry width="80" relative="1" as="geometry">
            <mxPoint x="-1765" y="6649" as="sourcePoint" />
            <mxPoint x="-1195" y="6650" as="targetPoint" />
            <Array as="points">
              <mxPoint x="-1940" y="7150" />
              <mxPoint x="-1835" y="6930" />
              <mxPoint x="-1570" y="6930" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="B6SIow3o6jKN5cq_tIl7-44" value="`define RVFI_INSTR_T(Cfg)&amp;nbsp;" style="swimlane;fontStyle=1;align=center;verticalAlign=top;childLayout=stackLayout;horizontal=1;startSize=26;horizontalStack=0;resizeParent=1;resizeParentMax=0;resizeLast=0;collapsible=1;marginBottom=0;whiteSpace=wrap;html=1;fillColor=#dae8fc;strokeColor=#6c8ebf;" parent="1" vertex="1">
          <mxGeometry x="-950" y="5310" width="470" height="410" as="geometry" />
        </mxCell>
        <mxCell id="B6SIow3o6jKN5cq_tIl7-45" value="" style="line;strokeWidth=1;fillColor=none;align=left;verticalAlign=middle;spacingTop=-1;spacingLeft=3;spacingRight=3;rotatable=0;labelPosition=right;points=[];portConstraint=eastwest;strokeColor=inherit;" parent="B6SIow3o6jKN5cq_tIl7-44" vertex="1">
          <mxGeometry y="26" width="470" height="8" as="geometry" />
        </mxCell>
        <mxCell id="B6SIow3o6jKN5cq_tIl7-46" value="&lt;span style=&quot;&quot;&gt;`define RVFI_INSTR_T(Cfg) struct packed { \&lt;/span&gt;&lt;br style=&quot;&quot;&gt;&lt;span style=&quot;&quot;&gt;&amp;nbsp; logic [config_pkg::NRET-1:0]&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; valid; \&lt;/span&gt;&lt;br style=&quot;&quot;&gt;&lt;span style=&quot;&quot;&gt;&amp;nbsp; logic [config_pkg::NRET*64-1:0]&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;order; \&lt;/span&gt;&lt;br style=&quot;&quot;&gt;&lt;span style=&quot;&quot;&gt;&amp;nbsp; logic [config_pkg::NRET*config_pkg::ILEN-1:0] insn; \&lt;/span&gt;&lt;br style=&quot;&quot;&gt;&lt;span style=&quot;&quot;&gt;&amp;nbsp; logic [config_pkg::NRET-1:0]&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; trap; \&lt;/span&gt;&lt;br style=&quot;&quot;&gt;&lt;span style=&quot;&quot;&gt;&amp;nbsp; logic [config_pkg::NRET*Cfg.XLEN-1:0]&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; cause; \&lt;/span&gt;&lt;br style=&quot;&quot;&gt;&lt;span style=&quot;&quot;&gt;&amp;nbsp; logic [config_pkg::NRET-1:0]&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; halt; \&lt;/span&gt;&lt;br style=&quot;&quot;&gt;&lt;span style=&quot;&quot;&gt;&amp;nbsp; logic [config_pkg::NRET*Cfg.XLEN-1:0]&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;intr; \&lt;/span&gt;&lt;br style=&quot;&quot;&gt;&lt;span style=&quot;&quot;&gt;&amp;nbsp; logic [config_pkg::NRET*2-1:0]&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; mode; \&lt;/span&gt;&lt;br style=&quot;&quot;&gt;&lt;span style=&quot;&quot;&gt;&amp;nbsp; logic [config_pkg::NRET*2-1:0]&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; ixl; \&lt;/span&gt;&lt;br style=&quot;&quot;&gt;&lt;span style=&quot;&quot;&gt;&amp;nbsp; logic [config_pkg::NRET*5-1:0]&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; rs1_addr; \&lt;/span&gt;&lt;br style=&quot;&quot;&gt;&lt;span style=&quot;&quot;&gt;&amp;nbsp; logic [config_pkg::NRET*5-1:0]&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; rs2_addr; \&lt;/span&gt;&lt;br style=&quot;&quot;&gt;&lt;span style=&quot;&quot;&gt;&amp;nbsp; logic [config_pkg::NRET*Cfg.XLEN-1:0]&amp;nbsp; &amp;nbsp; &amp;nbsp; rs1_rdata; \&lt;/span&gt;&lt;br style=&quot;&quot;&gt;&lt;span style=&quot;&quot;&gt;&amp;nbsp; logic [config_pkg::NRET*Cfg.XLEN-1:0]&amp;nbsp; &amp;nbsp; &amp;nbsp; rs2_rdata; \&lt;/span&gt;&lt;br style=&quot;&quot;&gt;&lt;span style=&quot;&quot;&gt;&amp;nbsp; logic [config_pkg::NRET*5-1:0]&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; rd_addr; \&lt;/span&gt;&lt;br style=&quot;&quot;&gt;&lt;span style=&quot;&quot;&gt;&amp;nbsp; logic [config_pkg::NRET*Cfg.XLEN-1:0]&amp;nbsp; &amp;nbsp; &amp;nbsp; rd_wdata; \&lt;/span&gt;&lt;br style=&quot;&quot;&gt;&lt;span style=&quot;&quot;&gt;&amp;nbsp; logic [config_pkg::NRET*Cfg.XLEN-1:0]&amp;nbsp; &amp;nbsp; &amp;nbsp; pc_rdata; \&lt;/span&gt;&lt;br style=&quot;&quot;&gt;&lt;span style=&quot;&quot;&gt;&amp;nbsp; logic [config_pkg::NRET*Cfg.XLEN-1:0]&amp;nbsp; &amp;nbsp; &amp;nbsp; pc_wdata; \&lt;/span&gt;&lt;br style=&quot;&quot;&gt;&lt;span style=&quot;&quot;&gt;&amp;nbsp; logic [config_pkg::NRET*Cfg.VLEN-1:0]&amp;nbsp; &amp;nbsp; &amp;nbsp; mem_addr; \&lt;/span&gt;&lt;br style=&quot;&quot;&gt;&lt;span style=&quot;&quot;&gt;&amp;nbsp; logic [config_pkg::NRET*Cfg.PLEN-1:0]&amp;nbsp; &amp;nbsp; &amp;nbsp; mem_paddr; \&lt;/span&gt;&lt;br style=&quot;&quot;&gt;&lt;span style=&quot;&quot;&gt;&amp;nbsp; logic [config_pkg::NRET*(Cfg.XLEN/8)-1:0]&amp;nbsp; mem_rmask; \&lt;/span&gt;&lt;br style=&quot;&quot;&gt;&lt;span style=&quot;&quot;&gt;&amp;nbsp; logic [config_pkg::NRET*(Cfg.XLEN/8)-1:0]&amp;nbsp; mem_wmask; \&lt;/span&gt;&lt;br style=&quot;&quot;&gt;&lt;span style=&quot;&quot;&gt;&amp;nbsp; logic [config_pkg::NRET*Cfg.XLEN-1:0]&amp;nbsp; &amp;nbsp; &amp;nbsp; mem_rdata; \&lt;/span&gt;&lt;br style=&quot;&quot;&gt;&lt;span style=&quot;&quot;&gt;&amp;nbsp; logic [config_pkg::NRET*Cfg.XLEN-1:0]&amp;nbsp; &amp;nbsp; &amp;nbsp; mem_wdata; \&lt;/span&gt;&lt;br style=&quot;&quot;&gt;&lt;span style=&quot;&quot;&gt;}&lt;/span&gt;" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;html=1;" parent="B6SIow3o6jKN5cq_tIl7-44" vertex="1">
          <mxGeometry y="34" width="470" height="376" as="geometry" />
        </mxCell>
        <mxCell id="B6SIow3o6jKN5cq_tIl7-50" value="define" style="html=1;verticalAlign=bottom;endArrow=block;curved=0;rounded=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;exitX=1;exitY=0.5;exitDx=0;exitDy=0;" parent="1" source="B6SIow3o6jKN5cq_tIl7-25" target="B6SIow3o6jKN5cq_tIl7-46" edge="1">
          <mxGeometry width="80" relative="1" as="geometry">
            <mxPoint x="-1020" y="5909" as="sourcePoint" />
            <mxPoint x="-525" y="5910" as="targetPoint" />
            <Array as="points">
              <mxPoint x="-1160" y="5830" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="B6SIow3o6jKN5cq_tIl7-52" value="`define RVFI_INSTR_T(Cfg)&amp;nbsp;" style="swimlane;fontStyle=1;align=center;verticalAlign=top;childLayout=stackLayout;horizontal=1;startSize=26;horizontalStack=0;resizeParent=1;resizeParentMax=0;resizeLast=0;collapsible=1;marginBottom=0;whiteSpace=wrap;html=1;fillColor=#dae8fc;strokeColor=#6c8ebf;" parent="1" vertex="1">
          <mxGeometry x="-423" y="5310" width="470" height="150" as="geometry" />
        </mxCell>
        <mxCell id="B6SIow3o6jKN5cq_tIl7-53" value="" style="line;strokeWidth=1;fillColor=none;align=left;verticalAlign=middle;spacingTop=-1;spacingLeft=3;spacingRight=3;rotatable=0;labelPosition=right;points=[];portConstraint=eastwest;strokeColor=inherit;" parent="B6SIow3o6jKN5cq_tIl7-52" vertex="1">
          <mxGeometry y="26" width="470" height="8" as="geometry" />
        </mxCell>
        <mxCell id="B6SIow3o6jKN5cq_tIl7-54" value="&lt;div style=&quot;&quot;&gt;&lt;div&gt;`define RVFI_CSR_ELMT_T(Cfg) struct packed { \&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;background-color: transparent; color: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));&quot;&gt;&amp;nbsp; logic [Cfg.XLEN-1:0] rdata; \&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&amp;nbsp; logic [Cfg.XLEN-1:0] rmask; \&lt;/div&gt;&lt;div&gt;&amp;nbsp; logic [Cfg.XLEN-1:0] wdata; \&lt;/div&gt;&lt;div&gt;&amp;nbsp; logic [Cfg.XLEN-1:0] wmask; \&lt;/div&gt;&lt;div&gt;}&lt;/div&gt;&lt;/div&gt;" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;html=1;" parent="B6SIow3o6jKN5cq_tIl7-52" vertex="1">
          <mxGeometry y="34" width="470" height="116" as="geometry" />
        </mxCell>
        <mxCell id="B6SIow3o6jKN5cq_tIl7-55" value="define" style="html=1;verticalAlign=bottom;endArrow=block;curved=0;rounded=0;entryX=0.519;entryY=0.99;entryDx=0;entryDy=0;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryPerimeter=0;" parent="1" source="B6SIow3o6jKN5cq_tIl7-26" target="B6SIow3o6jKN5cq_tIl7-54" edge="1">
          <mxGeometry width="80" relative="1" as="geometry">
            <mxPoint x="-1070" y="6145" as="sourcePoint" />
            <mxPoint x="-820" y="5900" as="targetPoint" />
            <Array as="points">
              <mxPoint x="-940" y="5760" />
              <mxPoint x="-440" y="5760" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="B6SIow3o6jKN5cq_tIl7-56" value="`define RVFI_CSR_T(Cfg, rvfi_csr_elmt_t)&amp;nbsp;" style="swimlane;fontStyle=1;align=center;verticalAlign=top;childLayout=stackLayout;horizontal=1;startSize=26;horizontalStack=0;resizeParent=1;resizeParentMax=0;resizeLast=0;collapsible=1;marginBottom=0;whiteSpace=wrap;html=1;fillColor=#dae8fc;strokeColor=#6c8ebf;" parent="1" vertex="1">
          <mxGeometry x="150" y="5310" width="470" height="860" as="geometry" />
        </mxCell>
        <mxCell id="B6SIow3o6jKN5cq_tIl7-57" value="" style="line;strokeWidth=1;fillColor=none;align=left;verticalAlign=middle;spacingTop=-1;spacingLeft=3;spacingRight=3;rotatable=0;labelPosition=right;points=[];portConstraint=eastwest;strokeColor=inherit;" parent="B6SIow3o6jKN5cq_tIl7-56" vertex="1">
          <mxGeometry y="26" width="470" height="8" as="geometry" />
        </mxCell>
        <mxCell id="B6SIow3o6jKN5cq_tIl7-58" value="&lt;div style=&quot;&quot;&gt;&lt;div&gt;`define RVFI_CSR_T(Cfg, rvfi_csr_elmt_t) struct packed { \&lt;/div&gt;&lt;div&gt;&amp;nbsp; rvfi_csr_elmt_t fflags; \&lt;/div&gt;&lt;div&gt;&amp;nbsp; rvfi_csr_elmt_t frm; \&lt;/div&gt;&lt;div&gt;&amp;nbsp; rvfi_csr_elmt_t fcsr; \&lt;/div&gt;&lt;div&gt;&amp;nbsp; rvfi_csr_elmt_t jvt; \&lt;/div&gt;&lt;div&gt;&amp;nbsp; rvfi_csr_elmt_t ftran; \&lt;/div&gt;&lt;div&gt;&amp;nbsp; rvfi_csr_elmt_t dcsr; \&lt;/div&gt;&lt;div&gt;&amp;nbsp; rvfi_csr_elmt_t dpc; \&lt;/div&gt;&lt;div&gt;&amp;nbsp; rvfi_csr_elmt_t dscratch0; \&lt;/div&gt;&lt;div&gt;&amp;nbsp; rvfi_csr_elmt_t dscratch1; \&lt;/div&gt;&lt;div&gt;&amp;nbsp; rvfi_csr_elmt_t sstatus; \&lt;/div&gt;&lt;div&gt;&amp;nbsp; rvfi_csr_elmt_t sie; \&lt;/div&gt;&lt;div&gt;&amp;nbsp; rvfi_csr_elmt_t sip; \&lt;/div&gt;&lt;div&gt;&amp;nbsp; rvfi_csr_elmt_t stvec; \&lt;/div&gt;&lt;div&gt;&amp;nbsp; rvfi_csr_elmt_t scounteren; \&lt;/div&gt;&lt;div&gt;&amp;nbsp; rvfi_csr_elmt_t sscratch; \&lt;/div&gt;&lt;div&gt;&amp;nbsp; rvfi_csr_elmt_t sepc; \&lt;/div&gt;&lt;div&gt;&amp;nbsp; rvfi_csr_elmt_t scause; \&lt;/div&gt;&lt;div&gt;&amp;nbsp; rvfi_csr_elmt_t stval; \&lt;/div&gt;&lt;div&gt;&amp;nbsp; rvfi_csr_elmt_t satp; \&lt;/div&gt;&lt;div&gt;&amp;nbsp; rvfi_csr_elmt_t mstatus; \&lt;/div&gt;&lt;div&gt;&amp;nbsp; rvfi_csr_elmt_t mstatush; \&lt;/div&gt;&lt;div&gt;&amp;nbsp; rvfi_csr_elmt_t misa; \&lt;/div&gt;&lt;div&gt;&amp;nbsp; rvfi_csr_elmt_t medeleg; \&lt;/div&gt;&lt;div&gt;&amp;nbsp; rvfi_csr_elmt_t mideleg; \&lt;/div&gt;&lt;div&gt;&amp;nbsp; rvfi_csr_elmt_t mie; \&lt;/div&gt;&lt;div&gt;&amp;nbsp; rvfi_csr_elmt_t mtvec; \&lt;/div&gt;&lt;div&gt;&amp;nbsp; rvfi_csr_elmt_t mcounteren; \&lt;/div&gt;&lt;div&gt;&amp;nbsp; rvfi_csr_elmt_t mscratch; \&lt;/div&gt;&lt;div&gt;&amp;nbsp; rvfi_csr_elmt_t mepc; \&lt;/div&gt;&lt;div&gt;&amp;nbsp; rvfi_csr_elmt_t mcause; \&lt;/div&gt;&lt;div&gt;&amp;nbsp; rvfi_csr_elmt_t mtval; \&lt;/div&gt;&lt;div&gt;&amp;nbsp; rvfi_csr_elmt_t mip; \&lt;/div&gt;&lt;div&gt;&amp;nbsp; rvfi_csr_elmt_t menvcfg; \&lt;/div&gt;&lt;div&gt;&amp;nbsp; rvfi_csr_elmt_t menvcfgh; \&lt;/div&gt;&lt;div&gt;&amp;nbsp; rvfi_csr_elmt_t mvendorid; \&lt;/div&gt;&lt;div&gt;&amp;nbsp; rvfi_csr_elmt_t marchid; \&lt;/div&gt;&lt;div&gt;&amp;nbsp; rvfi_csr_elmt_t mhartid; \&lt;/div&gt;&lt;div&gt;&amp;nbsp; rvfi_csr_elmt_t mcountinhibit; \&lt;/div&gt;&lt;div&gt;&amp;nbsp; rvfi_csr_elmt_t mcycle; \&lt;/div&gt;&lt;div&gt;&amp;nbsp; rvfi_csr_elmt_t mcycleh; \&lt;/div&gt;&lt;div&gt;&amp;nbsp; rvfi_csr_elmt_t minstret; \&lt;/div&gt;&lt;div&gt;&amp;nbsp; rvfi_csr_elmt_t minstreth; \&lt;/div&gt;&lt;div&gt;&amp;nbsp; rvfi_csr_elmt_t cycle; \&lt;/div&gt;&lt;div&gt;&amp;nbsp; rvfi_csr_elmt_t cycleh; \&lt;/div&gt;&lt;div&gt;&amp;nbsp; rvfi_csr_elmt_t instret; \&lt;/div&gt;&lt;div&gt;&amp;nbsp; rvfi_csr_elmt_t instreth; \&lt;/div&gt;&lt;div&gt;&amp;nbsp; rvfi_csr_elmt_t dcache; \&lt;/div&gt;&lt;div&gt;&amp;nbsp; rvfi_csr_elmt_t icache; \&lt;/div&gt;&lt;div&gt;&amp;nbsp; rvfi_csr_elmt_t acc_cons; \&lt;/div&gt;&lt;div&gt;&amp;nbsp; rvfi_csr_elmt_t pmpcfg0; \&lt;/div&gt;&lt;div&gt;&amp;nbsp; rvfi_csr_elmt_t pmpcfg1; \&lt;/div&gt;&lt;div&gt;&amp;nbsp; rvfi_csr_elmt_t pmpcfg2; \&lt;/div&gt;&lt;div&gt;&amp;nbsp; rvfi_csr_elmt_t pmpcfg3; \&lt;/div&gt;&lt;div&gt;&amp;nbsp; rvfi_csr_elmt_t [15:0] pmpaddr; \&lt;/div&gt;&lt;div&gt;}&lt;/div&gt;&lt;/div&gt;" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;html=1;" parent="B6SIow3o6jKN5cq_tIl7-56" vertex="1">
          <mxGeometry y="34" width="470" height="826" as="geometry" />
        </mxCell>
        <mxCell id="B6SIow3o6jKN5cq_tIl7-59" value="define" style="html=1;verticalAlign=bottom;endArrow=block;curved=0;rounded=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;exitX=1;exitY=0.5;exitDx=0;exitDy=0;" parent="1" source="B6SIow3o6jKN5cq_tIl7-28" target="B6SIow3o6jKN5cq_tIl7-58" edge="1">
          <mxGeometry width="80" relative="1" as="geometry">
            <mxPoint x="-1320" y="6021" as="sourcePoint" />
            <mxPoint x="-420" y="5910" as="targetPoint" />
            <Array as="points">
              <mxPoint x="-930" y="5790" />
              <mxPoint x="-160" y="5790" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="B6SIow3o6jKN5cq_tIl7-60" value="define" style="html=1;verticalAlign=bottom;endArrow=block;curved=0;rounded=0;exitX=0;exitY=0;exitDx=0;exitDy=0;entryX=1;entryY=0.5;entryDx=0;entryDy=0;" parent="1" source="B6SIow3o6jKN5cq_tIl7-56" target="B6SIow3o6jKN5cq_tIl7-54" edge="1">
          <mxGeometry width="80" relative="1" as="geometry">
            <mxPoint y="5640" as="sourcePoint" />
            <mxPoint x="80" y="5640" as="targetPoint" />
            <Array as="points">
              <mxPoint x="110" y="5402" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="B6SIow3o6jKN5cq_tIl7-61" value="`define RVFI_TO_ITI_T(Cfg)" style="swimlane;fontStyle=1;align=center;verticalAlign=top;childLayout=stackLayout;horizontal=1;startSize=26;horizontalStack=0;resizeParent=1;resizeParentMax=0;resizeLast=0;collapsible=1;marginBottom=0;whiteSpace=wrap;html=1;fillColor=#dae8fc;strokeColor=#6c8ebf;" parent="1" vertex="1">
          <mxGeometry x="-950" y="5820" width="470" height="240" as="geometry" />
        </mxCell>
        <mxCell id="B6SIow3o6jKN5cq_tIl7-62" value="" style="line;strokeWidth=1;fillColor=none;align=left;verticalAlign=middle;spacingTop=-1;spacingLeft=3;spacingRight=3;rotatable=0;labelPosition=right;points=[];portConstraint=eastwest;strokeColor=inherit;" parent="B6SIow3o6jKN5cq_tIl7-61" vertex="1">
          <mxGeometry y="26" width="470" height="8" as="geometry" />
        </mxCell>
        <mxCell id="B6SIow3o6jKN5cq_tIl7-63" value="&lt;div style=&quot;&quot;&gt;&lt;div&gt;`define RVFI_TO_ITI_T(Cfg) struct packed { \&lt;/div&gt;&lt;div&gt;&amp;nbsp; logic [Cfg.NrCommitPorts-1:0] valid; \&lt;/div&gt;&lt;div&gt;&amp;nbsp; logic [Cfg.NrCommitPorts-1:0][Cfg.VLEN-1:0] pc; \&lt;/div&gt;&lt;div&gt;&amp;nbsp; ariane_pkg::fu_op [Cfg.NrCommitPorts-1:0] op; \&lt;/div&gt;&lt;div&gt;&amp;nbsp; logic [Cfg.NrCommitPorts-1:0] is_compressed; \&lt;/div&gt;&lt;div&gt;&amp;nbsp; logic [Cfg.NrCommitPorts-1:0] branch_valid; \&lt;/div&gt;&lt;div&gt;&amp;nbsp; logic [Cfg.NrCommitPorts-1:0] is_taken; \&lt;/div&gt;&lt;div&gt;&amp;nbsp; logic&amp;nbsp; ex_valid; \&lt;/div&gt;&lt;div&gt;&amp;nbsp; logic [Cfg.XLEN-1:0] tval; \&lt;/div&gt;&lt;div&gt;&amp;nbsp; logic [Cfg.XLEN-1:0] cause; \&lt;/div&gt;&lt;div&gt;&amp;nbsp; riscv::priv_lvl_t priv_lvl; \&lt;/div&gt;&lt;div&gt;&amp;nbsp; logic [63:0] cycles; \&lt;/div&gt;&lt;div&gt;}&lt;/div&gt;&lt;/div&gt;" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;html=1;" parent="B6SIow3o6jKN5cq_tIl7-61" vertex="1">
          <mxGeometry y="34" width="470" height="206" as="geometry" />
        </mxCell>
        <mxCell id="B6SIow3o6jKN5cq_tIl7-64" value="define" style="html=1;verticalAlign=bottom;endArrow=block;curved=0;rounded=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;exitX=1;exitY=0.5;exitDx=0;exitDy=0;" parent="1" source="B6SIow3o6jKN5cq_tIl7-29" target="B6SIow3o6jKN5cq_tIl7-63" edge="1">
          <mxGeometry width="80" relative="1" as="geometry">
            <mxPoint x="-520" y="6141" as="sourcePoint" />
            <mxPoint x="257" y="5740" as="targetPoint" />
            <Array as="points">
              <mxPoint x="-1170" y="5965" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="B6SIow3o6jKN5cq_tIl7-67" value="`define RVFI_PROBES_INSTR_T(Cfg)" style="swimlane;fontStyle=1;align=center;verticalAlign=top;childLayout=stackLayout;horizontal=1;startSize=26;horizontalStack=0;resizeParent=1;resizeParentMax=0;resizeLast=0;collapsible=1;marginBottom=0;whiteSpace=wrap;html=1;fillColor=#dae8fc;strokeColor=#6c8ebf;" parent="1" vertex="1">
          <mxGeometry x="-940" y="6220" width="510" height="600" as="geometry" />
        </mxCell>
        <mxCell id="B6SIow3o6jKN5cq_tIl7-68" value="" style="line;strokeWidth=1;fillColor=none;align=left;verticalAlign=middle;spacingTop=-1;spacingLeft=3;spacingRight=3;rotatable=0;labelPosition=right;points=[];portConstraint=eastwest;strokeColor=inherit;" parent="B6SIow3o6jKN5cq_tIl7-67" vertex="1">
          <mxGeometry y="26" width="510" height="8" as="geometry" />
        </mxCell>
        <mxCell id="B6SIow3o6jKN5cq_tIl7-69" value="&lt;div&gt;`define RVFI_PROBES_INSTR_T(Cfg) struct packed { \&lt;/div&gt;&lt;div&gt;&amp;nbsp; logic [Cfg.NrIssuePorts-1:0][Cfg.TRANS_ID_BITS-1:0] issue_pointer; \&lt;/div&gt;&lt;div&gt;&amp;nbsp; logic [Cfg.NrCommitPorts-1:0][Cfg.TRANS_ID_BITS-1:0] commit_pointer; \&lt;/div&gt;&lt;div&gt;&amp;nbsp; logic flush_unissued_instr; \&lt;/div&gt;&lt;div&gt;&amp;nbsp; logic [Cfg.NrIssuePorts-1:0] decoded_instr_valid; \&lt;/div&gt;&lt;div&gt;&amp;nbsp; logic [Cfg.NrIssuePorts-1:0] decoded_instr_ack; \&lt;/div&gt;&lt;div&gt;&amp;nbsp; logic flush; \&lt;/div&gt;&lt;div&gt;&amp;nbsp; logic [Cfg.NrIssuePorts-1:0] issue_instr_ack; \&lt;/div&gt;&lt;div&gt;&amp;nbsp; logic [Cfg.NrIssuePorts-1:0] fetch_entry_valid; \&lt;/div&gt;&lt;div&gt;&amp;nbsp; logic [Cfg.NrIssuePorts-1:0][31:0] instruction; \&lt;/div&gt;&lt;div&gt;&amp;nbsp; logic [Cfg.NrIssuePorts-1:0] is_compressed; \&lt;/div&gt;&lt;div&gt;&amp;nbsp; logic [Cfg.NrIssuePorts-1:0][Cfg.XLEN-1:0] rs1; \&lt;/div&gt;&lt;div&gt;&amp;nbsp; logic [Cfg.NrIssuePorts-1:0][Cfg.XLEN-1:0] rs2; \&lt;/div&gt;&lt;div&gt;&amp;nbsp; logic [Cfg.NrCommitPorts-1:0][Cfg.VLEN-1:0] commit_instr_pc; \&lt;/div&gt;&lt;div&gt;&amp;nbsp; ariane_pkg::fu_op [Cfg.NrCommitPorts-1:0] commit_instr_op; \&lt;/div&gt;&lt;div&gt;&amp;nbsp; logic [Cfg.NrCommitPorts-1:0][ariane_pkg::REG_ADDR_SIZE-1:0] commit_instr_rs1; \&lt;/div&gt;&lt;div&gt;&amp;nbsp; logic [Cfg.NrCommitPorts-1:0][ariane_pkg::REG_ADDR_SIZE-1:0] commit_instr_rs2; \&lt;/div&gt;&lt;div&gt;&amp;nbsp; logic [Cfg.NrCommitPorts-1:0][ariane_pkg::REG_ADDR_SIZE-1:0] commit_instr_rd; \&lt;/div&gt;&lt;div&gt;&amp;nbsp; logic [Cfg.NrCommitPorts-1:0][Cfg.XLEN-1:0] commit_instr_result; \&lt;/div&gt;&lt;div&gt;&amp;nbsp; logic [Cfg.NrCommitPorts-1:0] commit_instr_valid; \&lt;/div&gt;&lt;div&gt;&amp;nbsp; logic [Cfg.NrCommitPorts-1:0] commit_drop; \&lt;/div&gt;&lt;div&gt;&amp;nbsp; logic [Cfg.XLEN-1:0] ex_commit_cause; \&lt;/div&gt;&lt;div&gt;&amp;nbsp; logic ex_commit_valid; \&lt;/div&gt;&lt;div&gt;&amp;nbsp; riscv::priv_lvl_t priv_lvl; \&lt;/div&gt;&lt;div&gt;&amp;nbsp; logic [Cfg.VLEN-1:0] lsu_ctrl_vaddr; \&lt;/div&gt;&lt;div&gt;&amp;nbsp; ariane_pkg::fu_t lsu_ctrl_fu; \&lt;/div&gt;&lt;div&gt;&amp;nbsp; logic [(Cfg.XLEN/8)-1:0] lsu_ctrl_be; \&lt;/div&gt;&lt;div&gt;&amp;nbsp; logic [Cfg.TRANS_ID_BITS-1:0] lsu_ctrl_trans_id; \&lt;/div&gt;&lt;div&gt;&amp;nbsp; logic [Cfg.NrWbPorts-1:0][Cfg.XLEN-1:0] wbdata; \&lt;/div&gt;&lt;div&gt;&amp;nbsp; logic [Cfg.NrCommitPorts-1:0] commit_ack; \&lt;/div&gt;&lt;div&gt;&amp;nbsp; logic [Cfg.PLEN-1:0] mem_paddr; \&lt;/div&gt;&lt;div&gt;&amp;nbsp; logic debug_mode; \&lt;/div&gt;&lt;div&gt;&amp;nbsp; logic [Cfg.NrCommitPorts-1:0][Cfg.XLEN-1:0] wdata; \&lt;/div&gt;&lt;div&gt;&amp;nbsp; logic branch_valid; \&lt;/div&gt;&lt;div&gt;&amp;nbsp; logic is_taken; \&lt;/div&gt;&lt;div&gt;&amp;nbsp; logic [Cfg.XLEN-1:0] tval; \&lt;/div&gt;&lt;div&gt;&amp;nbsp; logic [Cfg.TRANS_ID_BITS-1:0] branch_trans_id; \&lt;/div&gt;&lt;div&gt;}&lt;/div&gt;" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;html=1;" parent="B6SIow3o6jKN5cq_tIl7-67" vertex="1">
          <mxGeometry y="34" width="510" height="566" as="geometry" />
        </mxCell>
        <mxCell id="B6SIow3o6jKN5cq_tIl7-70" value="define" style="html=1;verticalAlign=bottom;endArrow=block;curved=0;rounded=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;exitX=1;exitY=0.5;exitDx=0;exitDy=0;" parent="1" source="B6SIow3o6jKN5cq_tIl7-33" target="B6SIow3o6jKN5cq_tIl7-69" edge="1">
          <mxGeometry width="80" relative="1" as="geometry">
            <mxPoint x="-1105" y="6658" as="sourcePoint" />
            <mxPoint x="-755" y="6650" as="targetPoint" />
            <Array as="points">
              <mxPoint x="-1135" y="7037" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="B6SIow3o6jKN5cq_tIl7-71" value="`define RVFI_PROBES_CSR_T(Cfg)" style="swimlane;fontStyle=1;align=center;verticalAlign=top;childLayout=stackLayout;horizontal=1;startSize=26;horizontalStack=0;resizeParent=1;resizeParentMax=0;resizeLast=0;collapsible=1;marginBottom=0;whiteSpace=wrap;html=1;fillColor=#dae8fc;strokeColor=#6c8ebf;" parent="1" vertex="1">
          <mxGeometry x="-250" y="6220" width="510" height="550" as="geometry" />
        </mxCell>
        <mxCell id="B6SIow3o6jKN5cq_tIl7-72" value="" style="line;strokeWidth=1;fillColor=none;align=left;verticalAlign=middle;spacingTop=-1;spacingLeft=3;spacingRight=3;rotatable=0;labelPosition=right;points=[];portConstraint=eastwest;strokeColor=inherit;" parent="B6SIow3o6jKN5cq_tIl7-71" vertex="1">
          <mxGeometry y="26" width="510" height="8" as="geometry" />
        </mxCell>
        <mxCell id="B6SIow3o6jKN5cq_tIl7-73" value="&lt;div&gt;`define RVFI_PROBES_CSR_T(Cfg) struct packed { \&lt;/div&gt;&lt;div&gt;&amp;nbsp; riscv::fcsr_t fcsr_q; \&lt;/div&gt;&lt;div&gt;&amp;nbsp; riscv::dcsr_t dcsr_q; \&lt;/div&gt;&lt;div&gt;&amp;nbsp; logic [Cfg.XLEN-1:0] jvt_q; \&lt;/div&gt;&lt;div&gt;&amp;nbsp; logic [Cfg.XLEN-1:0] dpc_q; \&lt;/div&gt;&lt;div&gt;&amp;nbsp; logic [Cfg.XLEN-1:0] dscratch0_q; \&lt;/div&gt;&lt;div&gt;&amp;nbsp; logic [Cfg.XLEN-1:0] dscratch1_q; \&lt;/div&gt;&lt;div&gt;&amp;nbsp; logic [Cfg.XLEN-1:0] mie_q; \&lt;/div&gt;&lt;div&gt;&amp;nbsp; logic [Cfg.XLEN-1:0] mip_q; \&lt;/div&gt;&lt;div&gt;&amp;nbsp; logic [Cfg.XLEN-1:0] stvec_q; \&lt;/div&gt;&lt;div&gt;&amp;nbsp; logic [Cfg.XLEN-1:0] scounteren_q; \&lt;/div&gt;&lt;div&gt;&amp;nbsp; logic [Cfg.XLEN-1:0] sscratch_q; \&lt;/div&gt;&lt;div&gt;&amp;nbsp; logic [Cfg.XLEN-1:0] sepc_q; \&lt;/div&gt;&lt;div&gt;&amp;nbsp; logic [Cfg.XLEN-1:0] scause_q; \&lt;/div&gt;&lt;div&gt;&amp;nbsp; logic [Cfg.XLEN-1:0] stval_q; \&lt;/div&gt;&lt;div&gt;&amp;nbsp; logic [Cfg.XLEN-1:0] satp_q; \&lt;/div&gt;&lt;div&gt;&amp;nbsp; logic [Cfg.XLEN-1:0] mstatus_extended; \&lt;/div&gt;&lt;div&gt;&amp;nbsp; logic [Cfg.XLEN-1:0] medeleg_q; \&lt;/div&gt;&lt;div&gt;&amp;nbsp; logic [Cfg.XLEN-1:0] mideleg_q; \&lt;/div&gt;&lt;div&gt;&amp;nbsp; logic [Cfg.XLEN-1:0] mtvec_q; \&lt;/div&gt;&lt;div&gt;&amp;nbsp; logic [Cfg.XLEN-1:0] mcounteren_q; \&lt;/div&gt;&lt;div&gt;&amp;nbsp; logic [Cfg.XLEN-1:0] mscratch_q; \&lt;/div&gt;&lt;div&gt;&amp;nbsp; logic [Cfg.XLEN-1:0] mepc_q; \&lt;/div&gt;&lt;div&gt;&amp;nbsp; logic [Cfg.XLEN-1:0] mcause_q; \&lt;/div&gt;&lt;div&gt;&amp;nbsp; logic [Cfg.XLEN-1:0] mtval_q; \&lt;/div&gt;&lt;div&gt;&amp;nbsp; logic fiom_q; \&lt;/div&gt;&lt;div&gt;&amp;nbsp; logic [ariane_pkg::MHPMCounterNum+3-1:0] mcountinhibit_q; \&lt;/div&gt;&lt;div&gt;&amp;nbsp; logic [63:0] cycle_q; \&lt;/div&gt;&lt;div&gt;&amp;nbsp; logic [63:0] instret_q; \&lt;/div&gt;&lt;div&gt;&amp;nbsp; logic [Cfg.XLEN-1:0] dcache_q; \&lt;/div&gt;&lt;div&gt;&amp;nbsp; logic [Cfg.XLEN-1:0] icache_q; \&lt;/div&gt;&lt;div&gt;&amp;nbsp; logic [Cfg.XLEN-1:0] acc_cons_q; \&lt;/div&gt;&lt;div&gt;&amp;nbsp; riscv::pmpcfg_t [63:0] pmpcfg_q; \&lt;/div&gt;&lt;div&gt;&amp;nbsp; logic [63:0][Cfg.PLEN-3:0] pmpaddr_q; \&lt;/div&gt;&lt;div&gt;}&lt;/div&gt;" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;html=1;" parent="B6SIow3o6jKN5cq_tIl7-71" vertex="1">
          <mxGeometry y="34" width="510" height="516" as="geometry" />
        </mxCell>
        <mxCell id="B6SIow3o6jKN5cq_tIl7-74" value="define" style="html=1;verticalAlign=bottom;endArrow=block;curved=0;rounded=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;exitX=1;exitY=0.5;exitDx=0;exitDy=0;" parent="1" source="B6SIow3o6jKN5cq_tIl7-34" target="B6SIow3o6jKN5cq_tIl7-73" edge="1">
          <mxGeometry width="80" relative="1" as="geometry">
            <mxPoint x="-1085" y="7170" as="sourcePoint" />
            <mxPoint x="-745" y="7370" as="targetPoint" />
            <Array as="points">
              <mxPoint x="-390" y="7063" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="B6SIow3o6jKN5cq_tIl7-81" value="&lt;span style=&quot;text-align: left;&quot;&gt;DUT Wrapper Interfaces&lt;/span&gt;" style="swimlane;fontStyle=1;align=center;verticalAlign=top;childLayout=stackLayout;horizontal=1;startSize=26;horizontalStack=0;resizeParent=1;resizeParentMax=0;resizeLast=0;collapsible=1;marginBottom=0;whiteSpace=wrap;html=1;fillColor=#dae8fc;strokeColor=#6c8ebf;" parent="1" vertex="1">
          <mxGeometry x="-1805" y="7230" width="465" height="350" as="geometry" />
        </mxCell>
        <mxCell id="B6SIow3o6jKN5cq_tIl7-82" value="" style="line;strokeWidth=1;fillColor=none;align=left;verticalAlign=middle;spacingTop=-1;spacingLeft=3;spacingRight=3;rotatable=0;labelPosition=right;points=[];portConstraint=eastwest;strokeColor=inherit;" parent="B6SIow3o6jKN5cq_tIl7-81" vertex="1">
          <mxGeometry y="26" width="465" height="8" as="geometry" />
        </mxCell>
        <mxCell id="B6SIow3o6jKN5cq_tIl7-99" value="&lt;div&gt;uvma_rvfi_instr_if #(&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp;uvme_cva6_pkg::ILEN,&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp;uvme_cva6_pkg::XLEN&lt;br&gt;&lt;span style=&quot;background-color: transparent; color: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));&quot;&gt;) rvfi_instr_if [RVFI_NRET-1:0] ();&lt;/span&gt;&lt;/div&gt;" style="text;strokeColor=default;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;html=1;" parent="B6SIow3o6jKN5cq_tIl7-81" vertex="1">
          <mxGeometry y="34" width="465" height="116" as="geometry" />
        </mxCell>
        <mxCell id="B6SIow3o6jKN5cq_tIl7-85" value="&lt;div&gt;uvmt_rvfi_if #(&lt;/div&gt;&lt;div&gt;&amp;nbsp; // RVFI&lt;/div&gt;&lt;div&gt;&amp;nbsp; .CVA6Cfg&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;( CVA6Cfg&amp;nbsp; &amp;nbsp; &amp;nbsp; ),&lt;/div&gt;&lt;div&gt;&amp;nbsp; .rvfi_instr_t&amp;nbsp; &amp;nbsp; &amp;nbsp; ( rvfi_instr_t ),&lt;/div&gt;&lt;div&gt;&amp;nbsp; .rvfi_csr_t&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; ( rvfi_csr_t&amp;nbsp; &amp;nbsp;)&lt;/div&gt;&lt;div&gt;) rvfi_if(&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; .rvfi_o(),&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; .rvfi_csr_o()&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;);&lt;/div&gt;&lt;div&gt;// Status information generated by the Virtual Peripherals in the DUT WRAPPER memory.&lt;/div&gt;" style="text;strokeColor=default;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;html=1;" parent="B6SIow3o6jKN5cq_tIl7-81" vertex="1">
          <mxGeometry y="150" width="465" height="200" as="geometry" />
        </mxCell>
        <mxCell id="B6SIow3o6jKN5cq_tIl7-86" value="define" style="html=1;verticalAlign=bottom;endArrow=block;curved=0;rounded=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;exitX=1;exitY=0.5;exitDx=0;exitDy=0;" parent="1" source="B6SIow3o6jKN5cq_tIl7-80" target="B6SIow3o6jKN5cq_tIl7-81" edge="1">
          <mxGeometry width="80" relative="1" as="geometry">
            <mxPoint x="-1620" y="7255" as="sourcePoint" />
            <mxPoint x="-1030" y="7070" as="targetPoint" />
            <Array as="points">
              <mxPoint x="-1920" y="7190" />
              <mxPoint x="-1572" y="7190" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="B6SIow3o6jKN5cq_tIl7-87" value="RVFI&amp;nbsp;PROBES" style="swimlane;fontStyle=1;align=center;verticalAlign=top;childLayout=stackLayout;horizontal=1;startSize=26;horizontalStack=0;resizeParent=1;resizeParentMax=0;resizeLast=0;collapsible=1;marginBottom=0;whiteSpace=wrap;html=1;fillColor=#dae8fc;strokeColor=#6c8ebf;" parent="1" vertex="1">
          <mxGeometry x="-1020" y="7480" width="540" height="304" as="geometry" />
        </mxCell>
        <mxCell id="B6SIow3o6jKN5cq_tIl7-88" value="" style="line;strokeWidth=1;fillColor=none;align=left;verticalAlign=middle;spacingTop=-1;spacingLeft=3;spacingRight=3;rotatable=0;labelPosition=right;points=[];portConstraint=eastwest;strokeColor=inherit;" parent="B6SIow3o6jKN5cq_tIl7-87" vertex="1">
          <mxGeometry y="26" width="540" height="8" as="geometry" />
        </mxCell>
        <mxCell id="B6SIow3o6jKN5cq_tIl7-91" value="&lt;div&gt;interface uvmt_rvfi_if #(&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; parameter config_pkg::cva6_cfg_t CVA6Cfg = config_pkg::cva6_cfg_empty,&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; parameter type rvfi_instr_t = logic,&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; parameter type rvfi_csr_t = logic&lt;/div&gt;&lt;div&gt;) (&lt;/div&gt;" style="text;strokeColor=default;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;html=1;" parent="B6SIow3o6jKN5cq_tIl7-87" vertex="1">
          <mxGeometry y="34" width="540" height="86" as="geometry" />
        </mxCell>
        <mxCell id="B6SIow3o6jKN5cq_tIl7-93" value="&lt;div&gt;&lt;span style=&quot;background-color: transparent; color: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; output rvfi_instr_t [CVA6Cfg.NrCommitPorts-1:0] rvfi_o,&lt;/span&gt;&lt;/div&gt;" style="text;strokeColor=default;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;html=1;" parent="B6SIow3o6jKN5cq_tIl7-87" vertex="1">
          <mxGeometry y="120" width="540" height="30" as="geometry" />
        </mxCell>
        <mxCell id="B6SIow3o6jKN5cq_tIl7-94" value="&lt;div&gt;&lt;span style=&quot;background-color: transparent; color: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; output rvfi_csr_t rvfi_csr_o&lt;/span&gt;&lt;/div&gt;" style="text;strokeColor=default;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;html=1;" parent="B6SIow3o6jKN5cq_tIl7-87" vertex="1">
          <mxGeometry y="150" width="540" height="34" as="geometry" />
        </mxCell>
        <mxCell id="B6SIow3o6jKN5cq_tIl7-95" value="&lt;div&gt;&lt;span style=&quot;background-color: transparent; color: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));&quot;&gt;&amp;nbsp; import uvm_pkg::*;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;&amp;nbsp; // TODO: X/Z checks&lt;/div&gt;&lt;div&gt;&amp;nbsp; initial begin&lt;/div&gt;&lt;div&gt;&amp;nbsp; end&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;endinterface : uvmt_rvfi_if&lt;/div&gt;" style="text;strokeColor=default;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;html=1;" parent="B6SIow3o6jKN5cq_tIl7-87" vertex="1">
          <mxGeometry y="184" width="540" height="120" as="geometry" />
        </mxCell>
        <mxCell id="B6SIow3o6jKN5cq_tIl7-92" value="define" style="html=1;verticalAlign=bottom;endArrow=block;curved=0;rounded=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;exitX=1;exitY=0.5;exitDx=0;exitDy=0;" parent="1" source="B6SIow3o6jKN5cq_tIl7-85" target="B6SIow3o6jKN5cq_tIl7-91" edge="1">
          <mxGeometry width="80" relative="1" as="geometry">
            <mxPoint x="-1330" y="7191" as="sourcePoint" />
            <mxPoint x="-742" y="7220" as="targetPoint" />
            <Array as="points">
              <mxPoint x="-1260" y="7557" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="B6SIow3o6jKN5cq_tIl7-96" value="define" style="html=1;verticalAlign=bottom;endArrow=block;curved=0;rounded=0;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=1;entryY=0.5;entryDx=0;entryDy=0;strokeWidth=3;dashed=1;" parent="1" source="B6SIow3o6jKN5cq_tIl7-93" target="B6SIow3o6jKN5cq_tIl7-46" edge="1">
          <mxGeometry width="80" relative="1" as="geometry">
            <mxPoint x="-1250" y="7440" as="sourcePoint" />
            <mxPoint x="-550" y="7280" as="targetPoint" />
            <Array as="points">
              <mxPoint x="-360" y="7365" />
              <mxPoint x="-360" y="5532" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="B6SIow3o6jKN5cq_tIl7-97" value="define" style="html=1;verticalAlign=bottom;endArrow=block;curved=0;rounded=0;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=1;entryY=0.5;entryDx=0;entryDy=0;strokeWidth=3;dashed=1;" parent="1" source="B6SIow3o6jKN5cq_tIl7-94" target="B6SIow3o6jKN5cq_tIl7-58" edge="1">
          <mxGeometry width="80" relative="1" as="geometry">
            <mxPoint x="60" y="8893" as="sourcePoint" />
            <mxPoint x="260" y="7060" as="targetPoint" />
            <Array as="points">
              <mxPoint x="780" y="7397" />
              <mxPoint x="780" y="5757" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="B6SIow3o6jKN5cq_tIl7-100" value="dispatch" style="html=1;verticalAlign=bottom;endArrow=block;curved=0;rounded=0;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;" parent="1" source="B6SIow3o6jKN5cq_tIl7-38" target="B6SIow3o6jKN5cq_tIl7-99" edge="1">
          <mxGeometry width="80" relative="1" as="geometry">
            <mxPoint x="-2050" y="7400" as="sourcePoint" />
            <mxPoint x="-1970" y="7400" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="B6SIow3o6jKN5cq_tIl7-101" value="dispatch" style="html=1;verticalAlign=bottom;endArrow=block;curved=0;rounded=0;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;" parent="1" source="B6SIow3o6jKN5cq_tIl7-38" target="B6SIow3o6jKN5cq_tIl7-85" edge="1">
          <mxGeometry width="80" relative="1" as="geometry">
            <mxPoint x="-2070" y="7440" as="sourcePoint" />
            <mxPoint x="-1990" y="7440" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="B6SIow3o6jKN5cq_tIl7-102" value="&lt;span style=&quot;font-weight: 400; text-align: left;&quot;&gt;`define RVFI_CSR_ASSIGN(csr_name)&lt;/span&gt;" style="swimlane;fontStyle=1;align=center;verticalAlign=top;childLayout=stackLayout;horizontal=1;startSize=26;horizontalStack=0;resizeParent=1;resizeParentMax=0;resizeLast=0;collapsible=1;marginBottom=0;whiteSpace=wrap;html=1;fillColor=#dae8fc;strokeColor=#6c8ebf;" parent="1" vertex="1">
          <mxGeometry x="-1805" y="7700" width="615" height="210" as="geometry" />
        </mxCell>
        <mxCell id="B6SIow3o6jKN5cq_tIl7-103" value="" style="line;strokeWidth=1;fillColor=none;align=left;verticalAlign=middle;spacingTop=-1;spacingLeft=3;spacingRight=3;rotatable=0;labelPosition=right;points=[];portConstraint=eastwest;strokeColor=inherit;" parent="B6SIow3o6jKN5cq_tIl7-102" vertex="1">
          <mxGeometry y="26" width="615" height="8" as="geometry" />
        </mxCell>
        <mxCell id="B6SIow3o6jKN5cq_tIl7-104" value="&lt;div&gt;`define RVFI_CSR_ASSIGN(csr_name) \&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; uvma_rvfi_csr_if#(uvme_cva6_pkg::XLEN)&amp;nbsp; rvfi_csr_``csr_name``_if [RVFI_NRET-1:0](); \&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp;for (genvar i = 0; i &amp;lt; RVFI_NRET; i++) begin \&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; assign&amp;nbsp; rvfi_csr_``csr_name``_if[i].clk&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; = clknrst_if.clk; \&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; assign&amp;nbsp; rvfi_csr_``csr_name``_if[i].reset_n&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; = clknrst_if.reset_n; \&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; assign&amp;nbsp; rvfi_csr_``csr_name``_if[i].rvfi_csr_rmask&amp;nbsp; &amp;nbsp;= rvfi_if.rvfi_csr_o.``csr_name``.rmask; \&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; assign&amp;nbsp; rvfi_csr_``csr_name``_if[i].rvfi_csr_wmask&amp;nbsp; &amp;nbsp;= rvfi_if.rvfi_csr_o.``csr_name``.wmask; \&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; assign&amp;nbsp; rvfi_csr_``csr_name``_if[i].rvfi_csr_rdata&amp;nbsp; &amp;nbsp;= rvfi_if.rvfi_csr_o.``csr_name``.rdata; \&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; assign&amp;nbsp; rvfi_csr_``csr_name``_if[i].rvfi_csr_wdata&amp;nbsp; &amp;nbsp;= rvfi_if.rvfi_csr_o.``csr_name``.wdata; \&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp;end \&lt;/div&gt;" style="text;strokeColor=default;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;html=1;" parent="B6SIow3o6jKN5cq_tIl7-102" vertex="1">
          <mxGeometry y="34" width="615" height="176" as="geometry" />
        </mxCell>
        <mxCell id="B6SIow3o6jKN5cq_tIl7-107" value="dispatch" style="html=1;verticalAlign=bottom;endArrow=block;curved=0;rounded=0;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;" parent="1" source="B6SIow3o6jKN5cq_tIl7-9" target="B6SIow3o6jKN5cq_tIl7-104" edge="1">
          <mxGeometry width="80" relative="1" as="geometry">
            <mxPoint x="-1920" y="7550" as="sourcePoint" />
            <mxPoint x="-1565" y="7639" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="B6SIow3o6jKN5cq_tIl7-109" value="&lt;font style=&quot;font-size: 48px;&quot;&gt;&amp;nbsp;&amp;nbsp;&lt;/font&gt;&lt;div&gt;&lt;font style=&quot;font-size: 48px;&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; TB Module&lt;/font&gt;&lt;/div&gt;" style="html=1;whiteSpace=wrap;align=left;verticalAlign=top;movable=0;resizable=0;rotatable=0;deletable=0;editable=0;locked=1;connectable=0;" parent="1" vertex="1">
          <mxGeometry x="-3330" y="8690" width="6350" height="3810" as="geometry" />
        </mxCell>
        <mxCell id="B6SIow3o6jKN5cq_tIl7-110" value="uvmt_cva6_dut_wrap" style="swimlane;fontStyle=1;align=center;verticalAlign=top;childLayout=stackLayout;horizontal=1;startSize=26;horizontalStack=0;resizeParent=1;resizeParentMax=0;resizeLast=0;collapsible=1;marginBottom=0;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="-3260" y="8960" width="550" height="164" as="geometry" />
        </mxCell>
        <mxCell id="B6SIow3o6jKN5cq_tIl7-111" value="/home/ICer/proj/cva6/verif/tb/uvmt/uvmt_cva6_tb.sv" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;html=1;" parent="B6SIow3o6jKN5cq_tIl7-110" vertex="1">
          <mxGeometry y="26" width="550" height="26" as="geometry" />
        </mxCell>
        <mxCell id="B6SIow3o6jKN5cq_tIl7-112" value="" style="line;strokeWidth=1;fillColor=none;align=left;verticalAlign=middle;spacingTop=-1;spacingLeft=3;spacingRight=3;rotatable=0;labelPosition=right;points=[];portConstraint=eastwest;strokeColor=inherit;" parent="B6SIow3o6jKN5cq_tIl7-110" vertex="1">
          <mxGeometry y="52" width="550" height="8" as="geometry" />
        </mxCell>
        <mxCell id="B6SIow3o6jKN5cq_tIl7-113" value="// CVA6 config" style="text;strokeColor=#6c8ebf;fillColor=#dae8fc;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;html=1;" parent="B6SIow3o6jKN5cq_tIl7-110" vertex="1">
          <mxGeometry y="60" width="550" height="26" as="geometry" />
        </mxCell>
        <mxCell id="B6SIow3o6jKN5cq_tIl7-114" value="// RVFI" style="text;strokeColor=#6c8ebf;fillColor=#dae8fc;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;html=1;" parent="B6SIow3o6jKN5cq_tIl7-110" vertex="1">
          <mxGeometry y="86" width="550" height="26" as="geometry" />
        </mxCell>
        <mxCell id="B6SIow3o6jKN5cq_tIl7-115" value="// RVFI PROBES" style="text;strokeColor=#6c8ebf;fillColor=#dae8fc;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;html=1;" parent="B6SIow3o6jKN5cq_tIl7-110" vertex="1">
          <mxGeometry y="112" width="550" height="26" as="geometry" />
        </mxCell>
        <mxCell id="B6SIow3o6jKN5cq_tIl7-116" value="// DUT Wrapper Interfaces" style="text;strokeColor=#6c8ebf;fillColor=#dae8fc;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;html=1;" parent="B6SIow3o6jKN5cq_tIl7-110" vertex="1">
          <mxGeometry y="138" width="550" height="26" as="geometry" />
        </mxCell>
        <mxCell id="B6SIow3o6jKN5cq_tIl7-121" value="cva6_tb_wrapper" style="swimlane;fontStyle=1;align=center;verticalAlign=top;childLayout=stackLayout;horizontal=1;startSize=26;horizontalStack=0;resizeParent=1;resizeParentMax=0;resizeLast=0;collapsible=1;marginBottom=0;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="-2390" y="9270" width="550" height="868" as="geometry" />
        </mxCell>
        <mxCell id="B6SIow3o6jKN5cq_tIl7-122" value="/home/ICer/proj/cva6/verif/tb/uvmt/cva6_tb_wrapper.sv" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;html=1;" parent="B6SIow3o6jKN5cq_tIl7-121" vertex="1">
          <mxGeometry y="26" width="550" height="26" as="geometry" />
        </mxCell>
        <mxCell id="B6SIow3o6jKN5cq_tIl7-123" value="" style="line;strokeWidth=1;fillColor=none;align=left;verticalAlign=middle;spacingTop=-1;spacingLeft=3;spacingRight=3;rotatable=0;labelPosition=right;points=[];portConstraint=eastwest;strokeColor=inherit;" parent="B6SIow3o6jKN5cq_tIl7-121" vertex="1">
          <mxGeometry y="52" width="550" height="8" as="geometry" />
        </mxCell>
        <mxCell id="B6SIow3o6jKN5cq_tIl7-133" value="&lt;div&gt;&lt;span style=&quot;background-color: transparent; color: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));&quot;&gt;&amp;nbsp; cva6 #(&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp;.CVA6Cfg ( CVA6Cfg ),&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp;.rvfi_probes_instr_t&amp;nbsp; ( rvfi_probes_instr_t ),&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp;.rvfi_probes_csr_t&amp;nbsp; &amp;nbsp; ( rvfi_probes_csr_t&amp;nbsp; &amp;nbsp;),&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp;.rvfi_probes_t&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; ( rvfi_probes_t&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;)&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp;) i_cva6 (&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; .clk_i&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; ( clk_i&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; ),&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; .rst_ni&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;( rst_ni&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;),&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; .boot_addr_i&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; ( boot_addr_i&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; ),//Driving the boot_addr value from the core control agent&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; .hart_id_i&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; ( default_inputs_vif.hart_id&amp;nbsp; &amp;nbsp;),&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; .irq_i&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; ( {1&#39;b0, irq_i[0]}&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;),&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; .ipi_i&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; ( 1&#39;b0&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;),&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; .time_irq_i&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;( irq_i[1]&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;),&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; .debug_req_i&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; ( debug_if.debug_req&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;),&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; .rvfi_probes_o&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; ( rvfi_probes&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; ),&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; .cvxif_req_o&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; ( cvxif_req&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; ),&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; .cvxif_resp_i&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;( cvxif_resp&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;),&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; .noc_req_o&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; ( axi_ariane_req&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;),&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; .noc_resp_i&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;( axi_ariane_resp&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; )&lt;/div&gt;&lt;div&gt;&amp;nbsp; );&lt;/div&gt;" style="text;strokeColor=default;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;html=1;" parent="B6SIow3o6jKN5cq_tIl7-121" vertex="1">
          <mxGeometry y="60" width="550" height="320" as="geometry" />
        </mxCell>
        <mxCell id="B6SIow3o6jKN5cq_tIl7-129" value="&lt;div&gt;cva6_rvfi #(&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; .CVA6Cfg&amp;nbsp; &amp;nbsp;(CVA6Cfg),&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; .rvfi_instr_t(rvfi_instr_t),&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; .rvfi_csr_t(rvfi_csr_t),&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; .rvfi_probes_instr_t(rvfi_probes_instr_t),&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; .rvfi_probes_csr_t(rvfi_probes_csr_t),&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; .rvfi_probes_t(rvfi_probes_t),&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; .rvfi_to_iti_t(rvfi_to_iti_t)&lt;/div&gt;&lt;div&gt;) i_cva6_rvfi (&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; .clk_i&amp;nbsp; &amp;nbsp; &amp;nbsp;(clk_i),&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; .rst_ni&amp;nbsp; &amp;nbsp; (rst_ni),&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; .rvfi_probes_i(rvfi_probes),&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; .rvfi_instr_o(rvfi_instr),&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; .rvfi_to_iti_o&amp;nbsp; &amp;nbsp;(rvfi_to_iti),&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; .rvfi_csr_o(rvfi_csr)&lt;/div&gt;&lt;div&gt;);&lt;/div&gt;" style="text;strokeColor=default;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;html=1;" parent="B6SIow3o6jKN5cq_tIl7-121" vertex="1">
          <mxGeometry y="380" width="550" height="250" as="geometry" />
        </mxCell>
        <mxCell id="B6SIow3o6jKN5cq_tIl7-132" value="&lt;div&gt;rvfi_tracer&amp;nbsp; #(&lt;/div&gt;&lt;div&gt;&amp;nbsp; .CVA6Cfg(CVA6Cfg),&lt;/div&gt;&lt;div&gt;&amp;nbsp; .rvfi_instr_t(rvfi_instr_t),&lt;/div&gt;&lt;div&gt;&amp;nbsp; .rvfi_csr_t(rvfi_csr_t),&lt;/div&gt;&lt;div&gt;&amp;nbsp; //&lt;/div&gt;&lt;div&gt;&amp;nbsp; .HART_ID(8&#39;h0),&lt;/div&gt;&lt;div&gt;&amp;nbsp; .DEBUG_START(0),&lt;/div&gt;&lt;div&gt;&amp;nbsp; .DEBUG_STOP(0)&lt;/div&gt;&lt;div&gt;) i_rvfi_tracer (&lt;/div&gt;&lt;div&gt;&amp;nbsp; .clk_i(clk_i),&lt;/div&gt;&lt;div&gt;&amp;nbsp; .rst_ni(rst_ni),&lt;/div&gt;&lt;div&gt;&amp;nbsp; .rvfi_i(rvfi_instr),&lt;/div&gt;&lt;div&gt;&amp;nbsp; .rvfi_csr_i(rvfi_csr),&lt;/div&gt;&lt;div&gt;&amp;nbsp; .end_of_test_o(tb_exit_o)&lt;/div&gt;&lt;div&gt;) ;&lt;/div&gt;" style="text;strokeColor=default;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;html=1;" parent="B6SIow3o6jKN5cq_tIl7-121" vertex="1">
          <mxGeometry y="630" width="550" height="238" as="geometry" />
        </mxCell>
        <mxCell id="nl4FUXeekhZr-uRPhKJp-1" value="module cva6_rvfi" style="swimlane;fontStyle=1;align=center;verticalAlign=top;childLayout=stackLayout;horizontal=1;startSize=26;horizontalStack=0;resizeParent=1;resizeParentMax=0;resizeLast=0;collapsible=1;marginBottom=0;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="-1340" y="9270" width="660" height="1614" as="geometry" />
        </mxCell>
        <mxCell id="nl4FUXeekhZr-uRPhKJp-2" value="/home/ICer/proj/cva6/core/cva6_rvfi.sv" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;html=1;" parent="nl4FUXeekhZr-uRPhKJp-1" vertex="1">
          <mxGeometry y="26" width="660" height="26" as="geometry" />
        </mxCell>
        <mxCell id="nl4FUXeekhZr-uRPhKJp-3" value="" style="line;strokeWidth=1;fillColor=none;align=left;verticalAlign=middle;spacingTop=-1;spacingLeft=3;spacingRight=3;rotatable=0;labelPosition=right;points=[];portConstraint=eastwest;strokeColor=inherit;" parent="nl4FUXeekhZr-uRPhKJp-1" vertex="1">
          <mxGeometry y="52" width="660" height="8" as="geometry" />
        </mxCell>
        <mxCell id="nl4FUXeekhZr-uRPhKJp-4" value="&lt;div&gt;input logic clk_i,&lt;/div&gt;&lt;div&gt;input logic rst_ni,&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;input rvfi_probes_t rvfi_probes_i,&lt;/div&gt;&lt;div&gt;output rvfi_instr_t [CVA6Cfg.NrCommitPorts-1:0] rvfi_instr_o,&lt;/div&gt;&lt;div&gt;output rvfi_to_iti_t rvfi_to_iti_o,&lt;/div&gt;&lt;div&gt;output rvfi_csr_t rvfi_csr_o&lt;/div&gt;" style="text;strokeColor=default;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;html=1;" parent="nl4FUXeekhZr-uRPhKJp-1" vertex="1">
          <mxGeometry y="60" width="660" height="120" as="geometry" />
        </mxCell>
        <mxCell id="nl4FUXeekhZr-uRPhKJp-5" value="&lt;div&gt;&amp;nbsp; assign commit_instr_pc = instr.commit_instr_pc;&lt;/div&gt;&lt;div&gt;&amp;nbsp; assign commit_instr_op = instr.commit_instr_op;&lt;/div&gt;&lt;div&gt;&amp;nbsp; assign commit_instr_rs1 = instr.commit_instr_rs1;&lt;/div&gt;&lt;div&gt;&amp;nbsp; assign commit_instr_rs2 = instr.commit_instr_rs2;&lt;/div&gt;&lt;div&gt;&amp;nbsp; assign commit_instr_rd = instr.commit_instr_rd;&lt;/div&gt;&lt;div&gt;&amp;nbsp; assign commit_instr_result = instr.commit_instr_result;&lt;/div&gt;&lt;div&gt;&amp;nbsp; assign commit_instr_valid = instr.commit_instr_valid;&lt;/div&gt;&lt;div&gt;&amp;nbsp; assign commit_drop = instr.commit_drop;&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;&amp;nbsp; assign ex_commit_cause = instr.ex_commit_cause;&lt;/div&gt;&lt;div&gt;&amp;nbsp; assign ex_commit_valid = instr.ex_commit_valid;&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;&amp;nbsp; assign valid_iti = instr.commit_ack;&lt;/div&gt;&lt;div&gt;&amp;nbsp; assign pc_iti = instr.commit_instr_pc;&lt;/div&gt;&lt;div&gt;&amp;nbsp; assign op_iti = instr.commit_instr_op;&lt;/div&gt;&lt;div&gt;&amp;nbsp; assign branch_valid_iti = instr.branch_valid;&lt;/div&gt;&lt;div&gt;&amp;nbsp; assign is_taken_iti = instr.is_taken;&lt;/div&gt;&lt;div&gt;&amp;nbsp; assign tval_iti = instr.tval;&lt;/div&gt;&lt;div&gt;&amp;nbsp; assign time_iti = rvfi_probes_i.csr.cycle_q;&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;&amp;nbsp; assign priv_lvl = instr.priv_lvl;&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;&amp;nbsp; assign wbdata = instr.wbdata;&lt;/div&gt;&lt;div&gt;&amp;nbsp; assign commit_ack = instr.commit_ack;&lt;/div&gt;&lt;div&gt;&amp;nbsp; assign mem_paddr = instr.mem_paddr;&lt;/div&gt;&lt;div&gt;&amp;nbsp; assign debug_mode = instr.debug_mode;&lt;/div&gt;&lt;div&gt;&amp;nbsp; assign wdata = instr.wdata;&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;&amp;nbsp; assign lsu_addr = instr.lsu_ctrl_vaddr;&lt;/div&gt;&lt;div&gt;&amp;nbsp; assign lsu_rmask = instr.lsu_ctrl_fu == LOAD ? instr.lsu_ctrl_be : &#39;0;&lt;/div&gt;&lt;div&gt;&amp;nbsp; assign lsu_wmask = instr.lsu_ctrl_fu == STORE ? instr.lsu_ctrl_be : &#39;0;&lt;/div&gt;&lt;div&gt;&amp;nbsp; assign lsu_addr_trans_id = instr.lsu_ctrl_trans_id;&lt;/div&gt;&lt;div&gt;&amp;nbsp; assign branch_trans_id = instr.branch_trans_id;&lt;/div&gt;" style="text;strokeColor=default;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;html=1;" parent="nl4FUXeekhZr-uRPhKJp-1" vertex="1">
          <mxGeometry y="180" width="660" height="500" as="geometry" />
        </mxCell>
        <mxCell id="LIBvrfZMLo1_UICiSKhi-1" value="//ID STAGE" style="text;strokeColor=default;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;html=1;" parent="nl4FUXeekhZr-uRPhKJp-1" vertex="1">
          <mxGeometry y="680" width="660" height="220" as="geometry" />
        </mxCell>
        <mxCell id="nl4FUXeekhZr-uRPhKJp-7" value="//ISSUE STAGE" style="text;strokeColor=default;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;html=1;" parent="nl4FUXeekhZr-uRPhKJp-1" vertex="1">
          <mxGeometry y="900" width="660" height="238" as="geometry" />
        </mxCell>
        <mxCell id="nl4FUXeekhZr-uRPhKJp-8" value="// PACK" style="text;strokeColor=default;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;html=1;" parent="nl4FUXeekhZr-uRPhKJp-1" vertex="1">
          <mxGeometry y="1138" width="660" height="238" as="geometry" />
        </mxCell>
        <mxCell id="nl4FUXeekhZr-uRPhKJp-9" value="// CSR" style="text;strokeColor=default;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;html=1;" parent="nl4FUXeekhZr-uRPhKJp-1" vertex="1">
          <mxGeometry y="1376" width="660" height="238" as="geometry" />
        </mxCell>
        <mxCell id="nl4FUXeekhZr-uRPhKJp-10" value="" style="endArrow=classic;html=1;rounded=0;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=0;entryY=0;entryDx=0;entryDy=0;" parent="1" source="B6SIow3o6jKN5cq_tIl7-129" target="nl4FUXeekhZr-uRPhKJp-1" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="-1880" y="9360" as="sourcePoint" />
            <mxPoint x="-1830" y="9310" as="targetPoint" />
            <Array as="points">
              <mxPoint x="-1560" y="9270" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="LIBvrfZMLo1_UICiSKhi-2" value="&lt;span style=&quot;text-align: left;&quot;&gt;ID STAGE&lt;/span&gt;" style="swimlane;fontStyle=1;align=center;verticalAlign=top;childLayout=stackLayout;horizontal=1;startSize=26;horizontalStack=0;resizeParent=1;resizeParentMax=0;resizeLast=0;collapsible=1;marginBottom=0;whiteSpace=wrap;html=1;fillColor=#dae8fc;strokeColor=#6c8ebf;" parent="1" vertex="1">
          <mxGeometry x="-310" y="8940" width="615" height="1100" as="geometry" />
        </mxCell>
        <mxCell id="LIBvrfZMLo1_UICiSKhi-3" value="" style="line;strokeWidth=1;fillColor=none;align=left;verticalAlign=middle;spacingTop=-1;spacingLeft=3;spacingRight=3;rotatable=0;labelPosition=right;points=[];portConstraint=eastwest;strokeColor=inherit;" parent="LIBvrfZMLo1_UICiSKhi-2" vertex="1">
          <mxGeometry y="26" width="615" height="8" as="geometry" />
        </mxCell>
        <mxCell id="LIBvrfZMLo1_UICiSKhi-4" value="// , &lt;br&gt;&lt;div&gt;&lt;div&gt;for (genvar i = 0; i &amp;lt; CVA6Cfg.NrIssuePorts; i++) begin&lt;/div&gt;&lt;div&gt;&amp;nbsp; assign truncated[i] = (is_compressed[i]) ? {16&#39;b0, instruction[i][15:0]} : instruction[i];&lt;/div&gt;&lt;div&gt;end&lt;/div&gt;&lt;/div&gt;" style="text;strokeColor=default;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;html=1;" parent="LIBvrfZMLo1_UICiSKhi-2" vertex="1">
          <mxGeometry y="34" width="615" height="76" as="geometry" />
        </mxCell>
        <mxCell id="LIBvrfZMLo1_UICiSKhi-6" value="&lt;div&gt;typedef struct packed {&lt;/div&gt;&lt;div&gt;&amp;nbsp; logic&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; valid;&lt;/div&gt;&lt;div&gt;&amp;nbsp; logic [31:0] instr;&lt;/div&gt;&lt;div&gt;&amp;nbsp; logic&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; is_compressed;&lt;/div&gt;&lt;div&gt;} issue_struct_t;&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;issue_struct_t [CVA6Cfg.NrIssuePorts-1:0] issue_n, issue_q;&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;logic took0;&lt;/div&gt;" style="text;strokeColor=default;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;html=1;" parent="LIBvrfZMLo1_UICiSKhi-2" vertex="1">
          <mxGeometry y="110" width="615" height="140" as="geometry" />
        </mxCell>
        <mxCell id="LIBvrfZMLo1_UICiSKhi-7" value="&lt;div&gt;always_comb begin&lt;/div&gt;&lt;div&gt;&amp;nbsp; issue_n = issue_q;&lt;/div&gt;&lt;div&gt;&amp;nbsp; took0&amp;nbsp; &amp;nbsp;= 1&#39;b0;&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;&amp;nbsp; // #1 ISSUE ACT , next valid 0&amp;nbsp;&lt;/div&gt;&lt;div&gt;&amp;nbsp; for (int unsigned i = 0; i &amp;lt; CVA6Cfg.NrIssuePorts; i++) begin&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; if (issue_instr_ack[i]) begin&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; issue_n[i].valid = 1&#39;b0;&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; end&lt;/div&gt;&lt;div&gt;&amp;nbsp; end&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;&amp;nbsp; // #2 next valid 0, next issue_struct_t&lt;/div&gt;&lt;div&gt;&amp;nbsp; if (!issue_n[CVA6Cfg.NrIssuePorts-1].valid) begin&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp;&amp;nbsp;&lt;span style=&quot;background-color: rgb(213, 232, 212);&quot;&gt;issue_n[CVA6Cfg.NrIssuePorts-1].valid = fetch_entry_valid[0];&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; issue_n[CVA6Cfg.NrIssuePorts-1].instr = truncated[0];&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; issue_n[CVA6Cfg.NrIssuePorts-1].is_compressed = is_compressed[0];&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; &lt;span style=&quot;background-color: rgb(213, 232, 212);&quot;&gt;took0 = 1&#39;b1;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;// next_issue[0]  instr&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&amp;nbsp; end&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;&amp;nbsp; // #3 : next issue   fifo, next issue[0] (valid==0) #2 &lt;br&gt;&amp;nbsp; //&amp;nbsp; &amp;nbsp; &amp;nbsp;  next_issue[&lt;span style=&quot;background-color: transparent; color: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));&quot;&gt;CVA6Cfg.NrIssuePorts - 1&lt;/span&gt;&lt;span style=&quot;background-color: transparent; color: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));&quot;&gt;]  valid = 0, active next_issue&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&amp;nbsp; if (!issue_n[0].valid) begin&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; issue_n[0] = issue_n[CVA6Cfg.NrIssuePorts-1];&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; issue_n[CVA6Cfg.NrIssuePorts-1].valid = 1&#39;b0;&lt;/div&gt;&lt;div&gt;&amp;nbsp; end&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;&amp;nbsp; // #4&amp;nbsp;&lt;span style=&quot;background-color: transparent; color: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));&quot;&gt;: #3 , &amp;nbsp;&lt;/span&gt;&lt;span style=&quot;background-color: transparent; color: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));&quot;&gt;next_issue[&lt;/span&gt;&lt;span style=&quot;background-color: transparent; color: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));&quot;&gt;CVA6Cfg.NrIssuePorts - 1&lt;/span&gt;&lt;span style=&quot;background-color: transparent; color: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));&quot;&gt;] = 0, &lt;br&gt;&amp;nbsp; //&amp;nbsp; &amp;nbsp; &amp;nbsp; #2 &lt;/span&gt;&lt;span style=&quot;background-color: transparent; color: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));&quot;&gt;next_issue[0]  instr, &lt;/span&gt;&lt;span style=&quot;background-color: transparent; color: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));&quot;&gt;issue_n[CVA6Cfg.NrIssuePorts-1] &lt;br&gt;&amp;nbsp; //&amp;nbsp; &amp;nbsp; &amp;nbsp; [&lt;/span&gt;&lt;span style=&quot;background-color: transparent; color: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));&quot;&gt;CVA6Cfg.NrIssuePorts-1] , [0]&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&amp;nbsp; if (!issue_n[CVA6Cfg.NrIssuePorts-1].valid) begin&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; if (took0) begin&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; issue_n[CVA6Cfg.NrIssuePorts-1].valid = fetch_entry_valid[CVA6Cfg.NrIssuePorts-1];&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; issue_n[CVA6Cfg.NrIssuePorts-1].instr = truncated[CVA6Cfg.NrIssuePorts-1];&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; issue_n[CVA6Cfg.NrIssuePorts-1].is_compressed = is_compressed[CVA6Cfg.NrIssuePorts-1];&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; end else begin&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; issue_n[CVA6Cfg.NrIssuePorts-1].valid = fetch_entry_valid[0];&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; issue_n[CVA6Cfg.NrIssuePorts-1].instr = truncated[0];&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; issue_n[CVA6Cfg.NrIssuePorts-1].is_compressed = is_compressed[0];&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; end&lt;/div&gt;&lt;div&gt;&amp;nbsp; end&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;&amp;nbsp; // #5  flush, next_issue valid 0 )&lt;/div&gt;&lt;div&gt;&amp;nbsp; &lt;span style=&quot;background-color: rgb(213, 232, 212);&quot;&gt;if (flush) begin&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; for (int unsigned i = 0; i &amp;lt; CVA6Cfg.NrIssuePorts; i++) begin&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; issue_n[i].valid = 1&#39;b0;&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; end&lt;/div&gt;&lt;div&gt;&amp;nbsp; end&lt;/div&gt;&lt;div&gt;end&lt;/div&gt;" style="text;strokeColor=default;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;html=1;" parent="LIBvrfZMLo1_UICiSKhi-2" vertex="1">
          <mxGeometry y="250" width="615" height="710" as="geometry" />
        </mxCell>
        <mxCell id="LIBvrfZMLo1_UICiSKhi-8" value="&lt;div&gt;// clk Q(issue_q )&lt;/div&gt;&lt;div&gt;always_ff @(posedge clk_i or negedge rst_ni) begin&lt;/div&gt;&lt;div&gt;&amp;nbsp; if (~rst_ni) begin&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; issue_q &amp;lt;= &#39;0;&lt;/div&gt;&lt;div&gt;&amp;nbsp; end else begin&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; issue_q &amp;lt;= issue_n;&lt;/div&gt;&lt;div&gt;&amp;nbsp; end&lt;/div&gt;&lt;div&gt;end&lt;/div&gt;" style="text;strokeColor=default;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;html=1;" parent="LIBvrfZMLo1_UICiSKhi-2" vertex="1">
          <mxGeometry y="960" width="615" height="140" as="geometry" />
        </mxCell>
        <mxCell id="LIBvrfZMLo1_UICiSKhi-5" value="dispatch" style="html=1;verticalAlign=bottom;endArrow=block;curved=0;rounded=0;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=0;entryY=0;entryDx=0;entryDy=0;" parent="1" source="LIBvrfZMLo1_UICiSKhi-1" target="LIBvrfZMLo1_UICiSKhi-2" edge="1">
          <mxGeometry width="80" relative="1" as="geometry">
            <mxPoint x="-250" y="9430" as="sourcePoint" />
            <mxPoint x="-170" y="9430" as="targetPoint" />
            <Array as="points">
              <mxPoint x="-550" y="10060" />
              <mxPoint x="-420" y="8940" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="LIBvrfZMLo1_UICiSKhi-9" value="&lt;span style=&quot;text-align: left;&quot;&gt;ISSUE STAGE&lt;/span&gt;" style="swimlane;fontStyle=1;align=center;verticalAlign=top;childLayout=stackLayout;horizontal=1;startSize=26;horizontalStack=0;resizeParent=1;resizeParentMax=0;resizeLast=0;collapsible=1;marginBottom=0;whiteSpace=wrap;html=1;fillColor=#dae8fc;strokeColor=#6c8ebf;" parent="1" vertex="1">
          <mxGeometry x="540" y="9680" width="615" height="960" as="geometry" />
        </mxCell>
        <mxCell id="LIBvrfZMLo1_UICiSKhi-10" value="" style="line;strokeWidth=1;fillColor=none;align=left;verticalAlign=middle;spacingTop=-1;spacingLeft=3;spacingRight=3;rotatable=0;labelPosition=right;points=[];portConstraint=eastwest;strokeColor=inherit;" parent="LIBvrfZMLo1_UICiSKhi-9" vertex="1">
          <mxGeometry y="26" width="615" height="8" as="geometry" />
        </mxCell>
        <mxCell id="LIBvrfZMLo1_UICiSKhi-12" value="&lt;div&gt;// this is the FIFO struct of the issue queue&lt;/div&gt;&lt;div&gt;typedef struct packed {&lt;/div&gt;&lt;div&gt;&amp;nbsp; logic [CVA6Cfg.XLEN-1:0] rs1_rdata;&lt;/div&gt;&lt;div&gt;&amp;nbsp; logic [CVA6Cfg.XLEN-1:0] rs2_rdata;&lt;/div&gt;&lt;div&gt;&amp;nbsp; logic [CVA6Cfg.VLEN-1:0] lsu_addr;&lt;/div&gt;&lt;div&gt;&amp;nbsp; logic [(CVA6Cfg.XLEN/8)-1:0] lsu_rmask;&lt;/div&gt;&lt;div&gt;&amp;nbsp; logic [(CVA6Cfg.XLEN/8)-1:0] lsu_wmask;&lt;/div&gt;&lt;div&gt;&amp;nbsp; logic [CVA6Cfg.XLEN-1:0] lsu_wdata;&lt;/div&gt;&lt;div&gt;&amp;nbsp; logic [31:0] instr;&lt;/div&gt;&lt;div&gt;&amp;nbsp; logic branch_valid;&lt;/div&gt;&lt;div&gt;&amp;nbsp; logic is_taken;&lt;/div&gt;&lt;div&gt;&amp;nbsp; logic is_compressed;&lt;/div&gt;&lt;div&gt;} sb_mem_t;&lt;br&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;sb_mem_t [CVA6Cfg.NR_SB_ENTRIES-1:0] mem_q, mem_n;&lt;/div&gt;" style="text;strokeColor=default;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;html=1;" parent="LIBvrfZMLo1_UICiSKhi-9" vertex="1">
          <mxGeometry y="34" width="615" height="236" as="geometry" />
        </mxCell>
        <mxCell id="LIBvrfZMLo1_UICiSKhi-13" value="&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;always_comb begin : issue_fifo&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp; mem_n = mem_q;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp;&amp;nbsp;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp; //  issue queue&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp; for (int unsigned i = 0; i &amp;lt; CVA6Cfg.NrIssuePorts; i++) begin&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp; &amp;nbsp; &lt;span style=&quot;background-color: rgb(213, 232, 212);&quot;&gt;if (decoded_instr_valid[i] &amp;amp;&amp;amp; decoded_instr_ack[i] &amp;amp;&amp;amp; !flush_unissued_instr)&lt;/span&gt; begin&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; mem_n[issue_pointer[i]] = &#39;{&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; rs1_rdata: rs1[i],&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; rs2_rdata: rs2[i],&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; lsu_addr: &#39;0,&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; lsu_rmask: &#39;0,&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; lsu_wmask: &#39;0,&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; lsu_wdata: &#39;0,&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; instr: issue_q[i].instr,&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; branch_valid: 1&#39;b0,&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; is_taken: 1&#39;b0,&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; is_compressed: issue_q[i].is_compressed&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; };&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp; &amp;nbsp; end&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp; end&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&lt;br&gt;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp; // branch valid, branch valid&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp;&lt;span style=&quot;background-color: rgb(213, 232, 212);&quot;&gt; if (branch_valid_iti)&lt;/span&gt; begin&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp; &amp;nbsp; mem_n[branch_trans_id].branch_valid = branch_valid_iti;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp; &amp;nbsp; mem_n[branch_trans_id].is_taken = is_taken_iti;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp; end&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp; // lsu ,  lsu &lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp; &lt;span style=&quot;background-color: rgb(213, 232, 212);&quot;&gt;if (lsu_rmask != 0)&lt;/span&gt; begin&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp; &amp;nbsp; mem_n[lsu_addr_trans_id].lsu_addr&amp;nbsp; = lsu_addr;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp; &amp;nbsp; mem_n[lsu_addr_trans_id].lsu_rmask = lsu_rmask;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp; // lsu ,  lsu &lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp; &lt;span style=&quot;background-color: rgb(213, 232, 212);&quot;&gt;end else if (lsu_wmask != 0)&lt;/span&gt; begin&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp; &amp;nbsp; mem_n[lsu_addr_trans_id].lsu_addr&amp;nbsp; = lsu_addr;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp; &amp;nbsp; mem_n[lsu_addr_trans_id].lsu_wmask = lsu_wmask;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp; &amp;nbsp; mem_n[lsu_addr_trans_id].lsu_wdata = wbdata[STORE_WB];&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp; end&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;end&lt;/span&gt;&lt;/div&gt;" style="text;strokeColor=default;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;html=1;" parent="LIBvrfZMLo1_UICiSKhi-9" vertex="1">
          <mxGeometry y="270" width="615" height="550" as="geometry" />
        </mxCell>
        <mxCell id="LIBvrfZMLo1_UICiSKhi-14" value="&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;//  next_mem  q&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;always_ff @(posedge clk_i or negedge rst_ni) begin : regs&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp; if (!rst_ni) begin&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp; &amp;nbsp; mem_q &amp;lt;= &#39;{default: sb_mem_t&#39;(0)};&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp; end else begin&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp; &amp;nbsp; mem_q &amp;lt;= mem_n;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp; end&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;end&lt;/span&gt;&lt;/div&gt;" style="text;strokeColor=default;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;html=1;" parent="LIBvrfZMLo1_UICiSKhi-9" vertex="1">
          <mxGeometry y="820" width="615" height="140" as="geometry" />
        </mxCell>
        <mxCell id="LIBvrfZMLo1_UICiSKhi-15" value="dispatch" style="html=1;verticalAlign=bottom;endArrow=block;curved=0;rounded=0;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=0;entryY=0;entryDx=0;entryDy=0;" parent="1" source="nl4FUXeekhZr-uRPhKJp-7" target="LIBvrfZMLo1_UICiSKhi-9" edge="1">
          <mxGeometry width="80" relative="1" as="geometry">
            <mxPoint x="-450" y="10890" as="sourcePoint" />
            <mxPoint x="-80" y="9770" as="targetPoint" />
            <Array as="points">
              <mxPoint x="390" y="10289" />
              <mxPoint x="470" y="9680" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="GL5h6bxg1HBmfg5sfU8--1" value="&lt;span style=&quot;text-align: left;&quot;&gt;PACK&lt;/span&gt;" style="swimlane;fontStyle=1;align=center;verticalAlign=top;childLayout=stackLayout;horizontal=1;startSize=26;horizontalStack=0;resizeParent=1;resizeParentMax=0;resizeLast=0;collapsible=1;marginBottom=0;whiteSpace=wrap;html=1;fillColor=#dae8fc;strokeColor=#6c8ebf;" parent="1" vertex="1">
          <mxGeometry x="1490" y="10380" width="615" height="1020" as="geometry" />
        </mxCell>
        <mxCell id="GL5h6bxg1HBmfg5sfU8--2" value="" style="line;strokeWidth=1;fillColor=none;align=left;verticalAlign=middle;spacingTop=-1;spacingLeft=3;spacingRight=3;rotatable=0;labelPosition=right;points=[];portConstraint=eastwest;strokeColor=inherit;" parent="GL5h6bxg1HBmfg5sfU8--1" vertex="1">
          <mxGeometry y="26" width="615" height="8" as="geometry" />
        </mxCell>
        <mxCell id="GL5h6bxg1HBmfg5sfU8--3" value="&lt;div&gt;&lt;span style=&quot;background-color: transparent; color: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));&quot;&gt;always_ff @(posedge clk_i) begin&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp; for (int i = 0; i &amp;lt; CVA6Cfg.NrCommitPorts; i++) begin&lt;/span&gt;&lt;/div&gt;" style="text;strokeColor=default;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;html=1;" parent="GL5h6bxg1HBmfg5sfU8--1" vertex="1">
          <mxGeometry y="34" width="615" height="46" as="geometry" />
        </mxCell>
        <mxCell id="GL5h6bxg1HBmfg5sfU8--4" value="&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp; &amp;nbsp; logic exception;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp; &amp;nbsp; logic valid;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp; &amp;nbsp; &lt;span style=&quot;background-color: rgb(213, 232, 212);&quot;&gt;&lt;b&gt;exception &lt;/b&gt;= (i == 0) &amp;amp;&amp;amp; commit_instr_valid[i] &amp;amp;&amp;amp; ex_commit_valid &amp;amp;&amp;amp; !commit_drop[i];&lt;/span&gt;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp; &amp;nbsp; &lt;span style=&quot;background-color: rgb(213, 232, 212);&quot;&gt;&lt;b&gt;valid&amp;nbsp; &amp;nbsp; &amp;nbsp;&lt;/b&gt;= (commit_ack[i] &amp;amp;&amp;amp; !ex_commit_valid &amp;amp;&amp;amp; !commit_drop[i]) ||&lt;/span&gt;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &lt;span style=&quot;background-color: rgb(213, 232, 212);&quot;&gt;(exception &amp;amp;&amp;amp; (ex_commit_cause == riscv::ENV_CALL_MMODE ||&lt;/span&gt;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &lt;span style=&quot;background-color: rgb(213, 232, 212);&quot;&gt;ex_commit_cause == riscv::ENV_CALL_SMODE ||&lt;/span&gt;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &lt;span style=&quot;background-color: rgb(213, 232, 212);&quot;&gt;ex_commit_cause == riscv::ENV_CALL_UMODE));&lt;/span&gt;&lt;/span&gt;&lt;/div&gt;" style="text;strokeColor=default;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;html=1;" parent="GL5h6bxg1HBmfg5sfU8--1" vertex="1">
          <mxGeometry y="80" width="615" height="120" as="geometry" />
        </mxCell>
        <mxCell id="GL5h6bxg1HBmfg5sfU8--22" value="&lt;div&gt;&amp;nbsp; &amp;nbsp; rvfi_instr_o[i].valid &amp;lt;= valid;&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; rvfi_instr_o[i].insn&amp;nbsp; &amp;lt;= mem_q[commit_pointer[i]].instr;&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; // when synchronous trap, the instruction is not executed&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; rvfi_instr_o[i].trap&amp;nbsp; &amp;lt;= exception &amp;amp;&amp;amp; !ex_commit_cause[31];&lt;/div&gt;" style="text;strokeColor=default;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;html=1;" parent="GL5h6bxg1HBmfg5sfU8--1" vertex="1">
          <mxGeometry y="200" width="615" height="80" as="geometry" />
        </mxCell>
        <mxCell id="GL5h6bxg1HBmfg5sfU8--8" value="&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp; &amp;nbsp; // interrupt (exception or exti)&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp; &amp;nbsp; if (exception &amp;amp;&amp;amp; ex_commit_cause[31]) begin&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; rvfi_intr[i] &amp;lt;= &#39;b101;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp; &amp;nbsp; end else if (exception) begin&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; rvfi_intr[i] &amp;lt;= &#39;b11;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp; &amp;nbsp; end&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp; &amp;nbsp; if (valid) begin&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; rvfi_intr[i] &amp;lt;= 0;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp; &amp;nbsp; end&lt;br&gt;&lt;br&gt;&amp;nbsp; &amp;nbsp;&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;background-color: transparent; color: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));&quot;&gt;rvfi_instr_o[i].intr &amp;lt;= rvfi_intr[i];&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;background-color: transparent; color: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));&quot;&gt;&lt;br&gt;&lt;/span&gt;&lt;/div&gt;" style="text;strokeColor=default;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;html=1;" parent="GL5h6bxg1HBmfg5sfU8--1" vertex="1">
          <mxGeometry y="280" width="615" height="180" as="geometry" />
        </mxCell>
        <mxCell id="GL5h6bxg1HBmfg5sfU8--9" value="&lt;div&gt;&lt;span style=&quot;background-color: transparent; color: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));&quot;&gt;&amp;nbsp; &amp;nbsp; rvfi_instr_o[i].cause &amp;lt;= ex_commit_cause;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp; &amp;nbsp; rvfi_instr_o[i].mode &amp;lt;= (CVA6Cfg.DebugEn &amp;amp;&amp;amp; debug_mode) ? 2&#39;b10 : priv_lvl;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp; &amp;nbsp; rvfi_instr_o[i].ixl &amp;lt;= CVA6Cfg.XLEN == 64 ? 2 : 1;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp; &amp;nbsp; rvfi_instr_o[i].rs1_addr &amp;lt;= commit_instr_rs1[i];&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp; &amp;nbsp; rvfi_instr_o[i].rs2_addr &amp;lt;= commit_instr_rs2[i];&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp; &amp;nbsp; rvfi_instr_o[i].rd_addr &amp;lt;= commit_instr_rd[i];&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp; &amp;nbsp; rvfi_instr_o[i].rd_wdata &amp;lt;= (CVA6Cfg.FpPresent &amp;amp;&amp;amp; is_rd_fpr(&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; commit_instr_op[i]&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp; &amp;nbsp; )) ? commit_instr_result[i] : wdata[i];&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp; &amp;nbsp; rvfi_instr_o[i].pc_rdata &amp;lt;= commit_instr_pc[i];&lt;/span&gt;&lt;/div&gt;" style="text;strokeColor=default;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;html=1;" parent="GL5h6bxg1HBmfg5sfU8--1" vertex="1">
          <mxGeometry y="460" width="615" height="160" as="geometry" />
        </mxCell>
        <mxCell id="GL5h6bxg1HBmfg5sfU8--11" value="&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp; &amp;nbsp; rvfi_instr_o[i].mem_addr &amp;lt;= mem_q[commit_pointer[i]].lsu_addr;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp; &amp;nbsp; // So far, only write paddr is reported. TODO: read paddr&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp; &amp;nbsp; rvfi_instr_o[i].mem_paddr &amp;lt;= mem_paddr;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp; &amp;nbsp; rvfi_instr_o[i].mem_wmask &amp;lt;= mem_q[commit_pointer[i]].lsu_wmask;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp; &amp;nbsp; rvfi_instr_o[i].mem_wdata &amp;lt;= mem_q[commit_pointer[i]].lsu_wdata;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp; &amp;nbsp; rvfi_instr_o[i].mem_rmask &amp;lt;= mem_q[commit_pointer[i]].lsu_rmask;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp; &amp;nbsp; rvfi_instr_o[i].mem_rdata &amp;lt;= commit_instr_result[i];&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp; &amp;nbsp; rvfi_instr_o[i].rs1_rdata &amp;lt;= mem_q[commit_pointer[i]].rs1_rdata;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp; &amp;nbsp; rvfi_instr_o[i].rs2_rdata &amp;lt;= mem_q[commit_pointer[i]].rs2_rdata;&lt;/span&gt;&lt;/div&gt;" style="text;strokeColor=default;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;html=1;" parent="GL5h6bxg1HBmfg5sfU8--1" vertex="1">
          <mxGeometry y="620" width="615" height="160" as="geometry" />
        </mxCell>
        <mxCell id="GL5h6bxg1HBmfg5sfU8--10" value="&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp; &amp;nbsp; rvfi_to_iti_o.branch_valid[i] &amp;lt;= mem_q[commit_pointer[i]].branch_valid;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp; &amp;nbsp; rvfi_to_iti_o.is_taken[i] &amp;lt;= mem_q[commit_pointer[i]].is_taken;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp; &amp;nbsp; rvfi_to_iti_o.is_compressed[i] &amp;lt;= mem_q[commit_pointer[i]].is_compressed;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp; &amp;nbsp; rvfi_to_iti_o.valid[i] &amp;lt;= valid_iti[i];&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp; &amp;nbsp; rvfi_to_iti_o.pc[i] &amp;lt;= pc_iti[i];&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp; &amp;nbsp; rvfi_to_iti_o.op[i] &amp;lt;= op_iti[i];&lt;/span&gt;&lt;/div&gt;" style="text;strokeColor=default;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;html=1;" parent="GL5h6bxg1HBmfg5sfU8--1" vertex="1">
          <mxGeometry y="780" width="615" height="110" as="geometry" />
        </mxCell>
        <mxCell id="GL5h6bxg1HBmfg5sfU8--5" value="&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp; end&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp; rvfi_to_iti_o.ex_valid &amp;lt;= ex_commit_valid;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp; rvfi_to_iti_o.cycles &amp;lt;= time_iti;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp; rvfi_to_iti_o.cause &amp;lt;= ex_commit_cause;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp; rvfi_to_iti_o.tval &amp;lt;= tval_iti;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp; rvfi_to_iti_o.priv_lvl &amp;lt;= priv_lvl;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;end&lt;/span&gt;&lt;/div&gt;" style="text;strokeColor=default;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;html=1;" parent="GL5h6bxg1HBmfg5sfU8--1" vertex="1">
          <mxGeometry y="890" width="615" height="130" as="geometry" />
        </mxCell>
        <mxCell id="GL5h6bxg1HBmfg5sfU8--6" value="dispatch" style="html=1;verticalAlign=bottom;endArrow=block;curved=0;rounded=0;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=0;entryY=0;entryDx=0;entryDy=0;" parent="1" source="nl4FUXeekhZr-uRPhKJp-8" target="GL5h6bxg1HBmfg5sfU8--1" edge="1">
          <mxGeometry width="80" relative="1" as="geometry">
            <mxPoint x="-100" y="10979" as="sourcePoint" />
            <mxPoint x="1120" y="10370" as="targetPoint" />
            <Array as="points">
              <mxPoint x="-110" y="10960" />
              <mxPoint x="1130" y="10960" />
              <mxPoint x="1380" y="10380" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="GL5h6bxg1HBmfg5sfU8--12" value="&lt;span style=&quot;text-align: left;&quot;&gt;CSR&lt;/span&gt;" style="swimlane;fontStyle=1;align=center;verticalAlign=top;childLayout=stackLayout;horizontal=1;startSize=26;horizontalStack=0;resizeParent=1;resizeParentMax=0;resizeLast=0;collapsible=1;marginBottom=0;whiteSpace=wrap;html=1;fillColor=#dae8fc;strokeColor=#6c8ebf;" parent="1" vertex="1">
          <mxGeometry x="530" y="11510" width="1000" height="710" as="geometry" />
        </mxCell>
        <mxCell id="GL5h6bxg1HBmfg5sfU8--13" value="" style="line;strokeWidth=1;fillColor=none;align=left;verticalAlign=middle;spacingTop=-1;spacingLeft=3;spacingRight=3;rotatable=0;labelPosition=right;points=[];portConstraint=eastwest;strokeColor=inherit;" parent="GL5h6bxg1HBmfg5sfU8--12" vertex="1">
          <mxGeometry y="26" width="1000" height="8" as="geometry" />
        </mxCell>
        <mxCell id="GL5h6bxg1HBmfg5sfU8--14" value="&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;//define csr  rvfi_csr_o_xxx &lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&lt;br&gt;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;`define CONNECT_RVFI_FULL(CSR_ENABLE_COND, CSR_NAME,&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; CSR_SOURCE_NAME) \&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp; always_ff @(posedge clk_i) begin \&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; if (CSR_ENABLE_COND) begin \&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; rvfi_csr_o.``CSR_NAME``.rdata &amp;lt;= {{CVA6Cfg.XLEN - $bits(CSR_SOURCE_NAME)}, CSR_SOURCE_NAME}; \&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; end \&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp; end \&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp; assign rvfi_csr_o.``CSR_NAME``.wdata = CSR_ENABLE_COND ? { {{CVA6Cfg.XLEN-$bits(CSR_SOURCE_NAME)}, CSR_SOURCE_NAME} } : 0; \&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp; assign rvfi_csr_o.``CSR_NAME``.rmask = CSR_ENABLE_COND ? 1 : 0; \&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp; assign rvfi_csr_o.``CSR_NAME``.wmask = (rvfi_csr_o.``CSR_NAME``.rdata != {{CVA6Cfg.XLEN - $bits(CSR_SOURCE_NAME)}, CSR_SOURCE_NAME}) &amp;amp;&amp;amp; CSR_ENABLE_COND;&lt;/span&gt;&lt;/div&gt;" style="text;strokeColor=default;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;html=1;" parent="GL5h6bxg1HBmfg5sfU8--12" vertex="1">
          <mxGeometry y="34" width="1000" height="206" as="geometry" />
        </mxCell>
        <mxCell id="GL5h6bxg1HBmfg5sfU8--15" value="&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;`define CONNECT_RVFI_SAME(CSR_ENABLE_COND, CSR_NAME) \&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; `CONNECT_RVFI_FULL(CSR_ENABLE_COND, CSR_NAME, csr.``CSR_NAME``_q)&lt;/span&gt;&lt;/div&gt;" style="text;strokeColor=default;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;html=1;" parent="GL5h6bxg1HBmfg5sfU8--12" vertex="1">
          <mxGeometry y="240" width="1000" height="60" as="geometry" />
        </mxCell>
        <mxCell id="GL5h6bxg1HBmfg5sfU8--16" value="&lt;div&gt;&amp;nbsp; `CONNECT_RVFI_FULL(CVA6Cfg.FpPresent, fflags, csr.fcsr_q.fflags)&lt;/div&gt;&lt;div&gt;&amp;nbsp; `CONNECT_RVFI_FULL(CVA6Cfg.FpPresent, frm, csr.fcsr_q.frm)&lt;/div&gt;&lt;div&gt;&amp;nbsp; `CONNECT_RVFI_FULL(CVA6Cfg.FpPresent, fcsr, {csr.fcsr_q.frm, csr.fcsr_q.fflags})&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;&amp;nbsp; `CONNECT_RVFI_FULL(CVA6Cfg.FpPresent, ftran, csr.fcsr_q.fprec)&lt;/div&gt;&lt;div&gt;&amp;nbsp; `CONNECT_RVFI_SAME(CVA6Cfg.FpPresent, dcsr)&lt;/div&gt;" style="text;strokeColor=default;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;html=1;" parent="GL5h6bxg1HBmfg5sfU8--12" vertex="1">
          <mxGeometry y="300" width="1000" height="120" as="geometry" />
        </mxCell>
        <mxCell id="GL5h6bxg1HBmfg5sfU8--18" value="&lt;div&gt;&amp;nbsp; `CONNECT_RVFI_SAME(CVA6Cfg.DebugEn, dpc)&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;&amp;nbsp; `CONNECT_RVFI_SAME(CVA6Cfg.DebugEn, dscratch0)&lt;/div&gt;&lt;div&gt;&amp;nbsp; `CONNECT_RVFI_SAME(CVA6Cfg.DebugEn, dscratch1)&lt;/div&gt;" style="text;strokeColor=default;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;html=1;" parent="GL5h6bxg1HBmfg5sfU8--12" vertex="1">
          <mxGeometry y="420" width="1000" height="80" as="geometry" />
        </mxCell>
        <mxCell id="GL5h6bxg1HBmfg5sfU8--19" value="&lt;div&gt;&amp;nbsp; `CONNECT_RVFI_FULL(CVA6Cfg.RVS, sstatus,&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;csr.mstatus_extended &amp;amp; SMODE_STATUS_READ_MASK[CVA6Cfg.XLEN-1:0])&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;&amp;nbsp; ...&lt;/div&gt;" style="text;strokeColor=default;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;html=1;" parent="GL5h6bxg1HBmfg5sfU8--12" vertex="1">
          <mxGeometry y="500" width="1000" height="80" as="geometry" />
        </mxCell>
        <mxCell id="GL5h6bxg1HBmfg5sfU8--20" value="&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;bit [CVA6Cfg.XLEN-1:0] pmpaddr_q;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;genvar i;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;generate&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp; for (i = 0; i &amp;lt; 16; i++) begin&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp; &amp;nbsp; `CONNECT_RVFI_FULL(1&#39;b1, pmpaddr[i], {&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;csr.pmpaddr_q[i][CVA6Cfg.PLEN-3:1], pmpcfg_q[i].addr_mode[1]})&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp; end&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;endgenerate&lt;/span&gt;&lt;/div&gt;" style="text;strokeColor=default;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;html=1;" parent="GL5h6bxg1HBmfg5sfU8--12" vertex="1">
          <mxGeometry y="580" width="1000" height="130" as="geometry" />
        </mxCell>
        <mxCell id="GL5h6bxg1HBmfg5sfU8--21" value="dispatch" style="html=1;verticalAlign=bottom;endArrow=block;curved=0;rounded=0;exitX=1.003;exitY=0.611;exitDx=0;exitDy=0;entryX=0;entryY=0;entryDx=0;entryDy=0;exitPerimeter=0;" parent="1" source="nl4FUXeekhZr-uRPhKJp-9" target="GL5h6bxg1HBmfg5sfU8--12" edge="1">
          <mxGeometry width="80" relative="1" as="geometry">
            <mxPoint x="210" y="11427" as="sourcePoint" />
            <mxPoint x="2380" y="11280" as="targetPoint" />
            <Array as="points">
              <mxPoint x="290" y="11510" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="XsPn23_X_OqN6itZgHki-1" value="&lt;font style=&quot;font-size: 48px;&quot;&gt;&amp;nbsp;&amp;nbsp;&lt;/font&gt;&lt;div&gt;&lt;font style=&quot;font-size: 48px;&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; Design / Front End&lt;/font&gt;&lt;/div&gt;" style="html=1;whiteSpace=wrap;align=left;verticalAlign=top;movable=0;resizable=0;rotatable=0;deletable=0;editable=0;locked=1;connectable=0;" parent="1" vertex="1">
          <mxGeometry x="3570" y="1730" width="6350" height="3810" as="geometry" />
        </mxCell>
        <mxCell id="XsPn23_X_OqN6itZgHki-2" value="&lt;span style=&quot;text-align: left;&quot;&gt;Front End&lt;/span&gt;" style="swimlane;fontStyle=1;align=center;verticalAlign=top;childLayout=stackLayout;horizontal=1;startSize=26;horizontalStack=0;resizeParent=1;resizeParentMax=0;resizeLast=0;collapsible=1;marginBottom=0;whiteSpace=wrap;html=1;fillColor=#0050ef;strokeColor=#001DBC;fontColor=#ffffff;" parent="1" vertex="1">
          <mxGeometry x="3920" y="3010" width="615" height="520" as="geometry" />
        </mxCell>
        <mxCell id="XsPn23_X_OqN6itZgHki-3" value="" style="line;strokeWidth=1;fillColor=none;align=left;verticalAlign=middle;spacingTop=-1;spacingLeft=3;spacingRight=3;rotatable=0;labelPosition=right;points=[];portConstraint=eastwest;strokeColor=inherit;" parent="XsPn23_X_OqN6itZgHki-2" vertex="1">
          <mxGeometry y="26" width="615" height="8" as="geometry" />
        </mxCell>
        <mxCell id="XsPn23_X_OqN6itZgHki-4" value="&lt;div&gt;Next PC&lt;/div&gt;" style="text;strokeColor=default;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;html=1;" parent="XsPn23_X_OqN6itZgHki-2" vertex="1">
          <mxGeometry y="34" width="615" height="66" as="geometry" />
        </mxCell>
        <mxCell id="XsPn23_X_OqN6itZgHki-5" value="Instr Re-Align" style="text;strokeColor=default;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;html=1;" parent="XsPn23_X_OqN6itZgHki-2" vertex="1">
          <mxGeometry y="100" width="615" height="70" as="geometry" />
        </mxCell>
        <mxCell id="XsPn23_X_OqN6itZgHki-7" value="&lt;div&gt;Instr Queue&lt;/div&gt;" style="text;strokeColor=default;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;html=1;" parent="XsPn23_X_OqN6itZgHki-2" vertex="1">
          <mxGeometry y="170" width="615" height="70" as="geometry" />
        </mxCell>
        <mxCell id="XsPn23_X_OqN6itZgHki-6" value="&lt;div&gt;Instr Scan&lt;/div&gt;" style="text;strokeColor=default;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;html=1;" parent="XsPn23_X_OqN6itZgHki-2" vertex="1">
          <mxGeometry y="240" width="615" height="70" as="geometry" />
        </mxCell>
        <mxCell id="XsPn23_X_OqN6itZgHki-22" value="BHT" style="text;strokeColor=default;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;html=1;" parent="XsPn23_X_OqN6itZgHki-2" vertex="1">
          <mxGeometry y="310" width="615" height="70" as="geometry" />
        </mxCell>
        <mxCell id="TTDfWaFMamJh5cXxLzEc-66" value="&lt;div&gt;BTB&lt;/div&gt;" style="text;strokeColor=default;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;html=1;" vertex="1" parent="XsPn23_X_OqN6itZgHki-2">
          <mxGeometry y="380" width="615" height="70" as="geometry" />
        </mxCell>
        <mxCell id="TTDfWaFMamJh5cXxLzEc-65" value="&lt;div&gt;RAS&lt;/div&gt;" style="text;strokeColor=default;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;html=1;" vertex="1" parent="XsPn23_X_OqN6itZgHki-2">
          <mxGeometry y="450" width="615" height="70" as="geometry" />
        </mxCell>
        <mxCell id="XsPn23_X_OqN6itZgHki-10" value="&lt;span style=&quot;font-weight: 400; text-align: left;&quot;&gt;Next PC&lt;/span&gt;" style="swimlane;fontStyle=1;align=center;verticalAlign=top;childLayout=stackLayout;horizontal=1;startSize=26;horizontalStack=0;resizeParent=1;resizeParentMax=0;resizeLast=0;collapsible=1;marginBottom=0;whiteSpace=wrap;html=1;fillColor=#0050ef;strokeColor=#001DBC;fontColor=#ffffff;" parent="1" vertex="1">
          <mxGeometry x="4880" y="1910" width="850" height="690" as="geometry" />
        </mxCell>
        <mxCell id="XsPn23_X_OqN6itZgHki-11" value="" style="line;strokeWidth=1;fillColor=none;align=left;verticalAlign=middle;spacingTop=-1;spacingLeft=3;spacingRight=3;rotatable=0;labelPosition=right;points=[];portConstraint=eastwest;strokeColor=inherit;" parent="XsPn23_X_OqN6itZgHki-10" vertex="1">
          <mxGeometry y="26" width="850" height="8" as="geometry" />
        </mxCell>
        <mxCell id="XsPn23_X_OqN6itZgHki-12" value="&lt;div&gt;:&lt;br&gt;1) Reset state: At reset, the PC is assigned to the boot address.&lt;br&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;2)&amp;nbsp;Branch Prediction: The fetched instruction is predecoded by the &lt;b style=&quot;background-color: rgb(213, 232, 212);&quot;&gt;instr_scan &lt;/b&gt;submodule. When the instruction is a control flow, three cases are considered:&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;background-color: transparent; color: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));&quot;&gt;&amp;nbsp; &amp;nbsp; 2.1&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;background-color: transparent;&quot;&gt;When the instruction is a JALR which corresponds to a return (rs1 = x1 or rs1 = x5). &lt;/span&gt;&lt;span style=&quot;background-color: rgb(213, 232, 212);&quot;&gt;RAS &lt;/span&gt;&lt;span style=&quot;background-color: transparent;&quot;&gt;provides next PC as a prediction.&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; 2.2 When the instruction is a JALR which does not correspond to areturn. If BTB (Branch Target Buffer) returns a valid address, then BTB predicts next PC. Else JALR is not considered as a control flow instruction, which will generate a &lt;span style=&quot;background-color: rgb(213, 232, 212);&quot;&gt;mispredict&lt;/span&gt;.&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; 2.3 When the instruction is a conditional branch. If BHT (Branch History table) returns a valid address, then BHT predicts next PC. Else the prediction depends on the PC relative jump offset sign: if sign is negative the prediction is taken, otherwise the prediction is not taken.&lt;/div&gt;&lt;div&gt;&lt;br&gt;3)&amp;nbsp;Default: The next 64-bit block is fetched. PC Gen fetches word boundary 64-bits block from CACHES module. And the fetch stage identifies the instructions from the 64-bits blocks.&lt;br&gt;4)&amp;nbsp;Mispredict: Misprediction are feedbacked by EX_STAGE module. In any case we need to correct our action and start fetching from the correct address.&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;5)&amp;nbsp;Replay instruction fetch: When the &lt;span style=&quot;background-color: rgb(213, 232, 212);&quot;&gt;instruction queue&lt;/span&gt; is full, the&lt;span style=&quot;background-color: rgb(213, 232, 212);&quot;&gt; instr_queue &lt;/span&gt;submodule asks the fetch replay and provides the address to be replayed.&lt;br&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;6)&amp;nbsp;&lt;span style=&quot;background-color: transparent;&quot;&gt;Return from&lt;/span&gt;&lt;span style=&quot;background-color: rgb(213, 232, 212);&quot;&gt; environment call&lt;/span&gt;&lt;span style=&quot;background-color: transparent;&quot;&gt;: When CSR requests a return from an environment call, next PC takes the value of the PC of the instruction after the one pointed to by the mepc CSR.&lt;br&gt;&lt;br&gt;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;background-color: transparent;&quot;&gt;7)&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;background-color: transparent;&quot;&gt;Exception/Interrupt: If an exception is triggered by CSR_REGISTER, next PC takes the value of the trap vector base address CSR.&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;background-color: transparent; color: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));&quot;&gt;&lt;br&gt;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;background-color: transparent; color: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));&quot;&gt;8)&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;background-color: transparent;&quot;&gt;Pipeline starting fetching from &lt;/span&gt;&lt;span style=&quot;background-color: rgb(213, 232, 212);&quot;&gt;COMMIT PC&lt;/span&gt;&lt;span style=&quot;background-color: transparent;&quot;&gt;: When the commit stage is halted by a WFI instruction or when the pipeline has been flushed due to CSR change, next PC takes the value of the PC coming from the COMMIT submodule. As CSR instructions do not exist in a compressed form, &lt;/span&gt;&lt;span style=&quot;background-color: rgb(213, 232, 212);&quot;&gt;PC is unconditionally incremented by 4&lt;/span&gt;&lt;span style=&quot;background-color: transparent;&quot;&gt;.&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;background-color: transparent; color: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));&quot;&gt;&lt;br&gt;&lt;/span&gt;&lt;/div&gt;" style="text;strokeColor=#666666;fillColor=#f5f5f5;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;html=1;fontColor=#333333;" parent="XsPn23_X_OqN6itZgHki-10" vertex="1">
          <mxGeometry y="34" width="850" height="376" as="geometry" />
        </mxCell>
        <mxCell id="TTDfWaFMamJh5cXxLzEc-1" value="1) input logic [CVA6Cfg.VLEN-1:0] boot_addr_i&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; //reset  boot_addr_i (frontend module )" style="text;strokeColor=default;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;html=1;" vertex="1" parent="XsPn23_X_OqN6itZgHki-10">
          <mxGeometry y="410" width="850" height="30" as="geometry" />
        </mxCell>
        <mxCell id="TTDfWaFMamJh5cXxLzEc-2" value="2) logic [&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;CVA6Cfg.VLEN-1:0] predict_address&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; //Branch Predict  " style="text;strokeColor=#666666;fillColor=#f5f5f5;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;html=1;fontColor=#333333;" vertex="1" parent="XsPn23_X_OqN6itZgHki-10">
          <mxGeometry y="440" width="850" height="30" as="geometry" />
        </mxCell>
        <mxCell id="XsPn23_X_OqN6itZgHki-13" value="3) fetch_address[CVA6Cfg.VLEN-1:CVA6Cfg.FETCH_ALIGN_BITS] + 1, {CVA6Cfg.FETCH_ALIGN_BITS{1&#39;b0}} // PC+4" style="text;strokeColor=#36393d;fillColor=#eeeeee;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;html=1;" parent="XsPn23_X_OqN6itZgHki-10" vertex="1">
          <mxGeometry y="470" width="850" height="30" as="geometry" />
        </mxCell>
        <mxCell id="TTDfWaFMamJh5cXxLzEc-3" value="4) logic [&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;CVA6Cfg.VLEN-1:0] replay_addr&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;// instr_queue replay " style="text;strokeColor=#666666;fillColor=#f5f5f5;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;html=1;fontColor=#333333;" vertex="1" parent="XsPn23_X_OqN6itZgHki-10">
          <mxGeometry y="500" width="850" height="30" as="geometry" />
        </mxCell>
        <mxCell id="TTDfWaFMamJh5cXxLzEc-4" value="5)&amp;nbsp;input bp_resolve_t resolved_branch_i&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; // EXECUTE  Mispredict event and next PC&lt;br&gt;&amp;nbsp; &amp;nbsp; resolved_branch_i.target_address&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;// mispredict ,  nextPC" style="text;strokeColor=#ae4132;fillColor=#fad9d5;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;html=1;" vertex="1" parent="XsPn23_X_OqN6itZgHki-10">
          <mxGeometry y="530" width="850" height="40" as="geometry" />
        </mxCell>
        <mxCell id="TTDfWaFMamJh5cXxLzEc-5" value="6) input logic [CVA6Cfg.VLEN-1:0] epc_i&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;// CSR  nextPC (eXpc)" style="text;strokeColor=#82b366;fillColor=#d5e8d4;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;html=1;" vertex="1" parent="XsPn23_X_OqN6itZgHki-10">
          <mxGeometry y="570" width="850" height="30" as="geometry" />
        </mxCell>
        <mxCell id="TTDfWaFMamJh5cXxLzEc-6" value="7) input logic [CVA6Cfg.VLEN-1:0] trap_vector_base_i&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;// CSR  nextPC ()" style="text;strokeColor=#82b366;fillColor=#d5e8d4;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;html=1;" vertex="1" parent="XsPn23_X_OqN6itZgHki-10">
          <mxGeometry y="600" width="850" height="30" as="geometry" />
        </mxCell>
        <mxCell id="TTDfWaFMamJh5cXxLzEc-7" value="8)&amp;nbsp;pc_commit_i + (halt_i ? &#39;0 : {{CVA6Cfg.VLEN - 3{1&#39;b0}}, 3&#39;b100})&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;// Controller  nextPC,  fence, AMO, CSR side effect  " style="text;strokeColor=#36393d;fillColor=#ffcc99;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;html=1;" vertex="1" parent="XsPn23_X_OqN6itZgHki-10">
          <mxGeometry y="630" width="850" height="30" as="geometry" />
        </mxCell>
        <mxCell id="TTDfWaFMamJh5cXxLzEc-8" value="9)&amp;nbsp;CVA6Cfg.DmBaseAddress[CVA6Cfg.VLEN-1:0] + CVA6Cfg.HaltAddress[CVA6Cfg.VLEN-1:0]&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;//DEBUG DBG base " style="text;strokeColor=default;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;html=1;" vertex="1" parent="XsPn23_X_OqN6itZgHki-10">
          <mxGeometry y="660" width="850" height="30" as="geometry" />
        </mxCell>
        <mxCell id="XsPn23_X_OqN6itZgHki-16" value="&lt;div style=&quot;text-align: left;&quot;&gt;&lt;span style=&quot;background-color: transparent;&quot;&gt;instr_realign&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;text-align: left;&quot;&gt;&lt;span style=&quot;background-color: transparent;&quot;&gt;/home/ICer/proj/cva6/core/instr_realign.sv&lt;/span&gt;&lt;/div&gt;" style="swimlane;fontStyle=1;align=center;verticalAlign=top;childLayout=stackLayout;horizontal=1;startSize=40;horizontalStack=0;resizeParent=1;resizeParentMax=0;resizeLast=0;collapsible=1;marginBottom=0;whiteSpace=wrap;html=1;fillColor=#0050ef;strokeColor=#001DBC;fontColor=#ffffff;" parent="1" vertex="1">
          <mxGeometry x="4950" y="2670" width="870" height="444" as="geometry" />
        </mxCell>
        <mxCell id="XsPn23_X_OqN6itZgHki-17" value="" style="line;strokeWidth=1;fillColor=none;align=left;verticalAlign=middle;spacingTop=-1;spacingLeft=3;spacingRight=3;rotatable=0;labelPosition=right;points=[];portConstraint=eastwest;strokeColor=inherit;" parent="XsPn23_X_OqN6itZgHki-16" vertex="1">
          <mxGeometry y="40" width="870" height="8" as="geometry" />
        </mxCell>
        <mxCell id="XsPn23_X_OqN6itZgHki-18" value=":&lt;br&gt;1)&amp;nbsp;The 64-bit aligned block coming from the CACHE module enters the instr_realign submodule.&lt;br&gt;2) This submodule extracts the instructions from the 64-bit blocks.&lt;br&gt;3)&amp;nbsp;Based on the fetch address and the fetched data, the instr_realign module extracts the valid instructions to be sent to the queue.&lt;br&gt;4)&amp;nbsp;It is possible to fetch up to 4 instructions per cycle when C extension is used&lt;br&gt;5)&amp;nbsp;A not-compressed instruction can be misaligned on the block size, interleaved with two cache blocks. In that case, two cache accesses are needed to get the whole instruction.&amp;nbsp;&lt;br&gt;6)&amp;nbsp;Incomplete instruction is stored in instr_realign submodule until its second half is fetched.&lt;br&gt;7)&amp;nbsp;The instr_realign submodule provides up to 4 instructions per cycle when compressed extension is enabled, else one instruction per cycle." style="text;strokeColor=default;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;html=1;" parent="XsPn23_X_OqN6itZgHki-16" vertex="1">
          <mxGeometry y="48" width="870" height="156" as="geometry" />
        </mxCell>
        <mxCell id="XsPn23_X_OqN6itZgHki-19" value="input logic flush_i&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; // CONTROLLER : Flush Fetch" style="text;strokeColor=#b46504;fillColor=#fad7ac;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;html=1;" parent="XsPn23_X_OqN6itZgHki-16" vertex="1">
          <mxGeometry y="204" width="870" height="30" as="geometry" />
        </mxCell>
        <mxCell id="XsPn23_X_OqN6itZgHki-20" value="&lt;div&gt;input logic valid_i&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; // CACHE : 32bit  &lt;/div&gt;" style="text;strokeColor=#10739e;fillColor=#b1ddf0;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;html=1;" parent="XsPn23_X_OqN6itZgHki-16" vertex="1">
          <mxGeometry y="234" width="870" height="30" as="geometry" />
        </mxCell>
        <mxCell id="XsPn23_X_OqN6itZgHki-21" value="&lt;div&gt;input logic [CVA6Cfg.VLEN-1:0] address_i&amp;nbsp; &amp;nbsp; // CACHE : 32bit &lt;/div&gt;" style="text;strokeColor=#10739e;fillColor=#b1ddf0;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;html=1;" parent="XsPn23_X_OqN6itZgHki-16" vertex="1">
          <mxGeometry y="264" width="870" height="30" as="geometry" />
        </mxCell>
        <mxCell id="TTDfWaFMamJh5cXxLzEc-11" value="&lt;div&gt;input logic [CVA6Cfg.VLEN-1:0] address_i&amp;nbsp; &amp;nbsp; // CACHE : 32bit &lt;/div&gt;" style="text;strokeColor=#10739e;fillColor=#b1ddf0;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;html=1;" vertex="1" parent="XsPn23_X_OqN6itZgHki-16">
          <mxGeometry y="294" width="870" height="30" as="geometry" />
        </mxCell>
        <mxCell id="TTDfWaFMamJh5cXxLzEc-10" value="&lt;div&gt;output logic [CVA6Cfg.INSTR_PER_FETCH-1:0] valid_o&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;// FRONTEND : &lt;/div&gt;" style="text;strokeColor=#36393d;fillColor=#eeeeee;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;html=1;" vertex="1" parent="XsPn23_X_OqN6itZgHki-16">
          <mxGeometry y="324" width="870" height="30" as="geometry" />
        </mxCell>
        <mxCell id="TTDfWaFMamJh5cXxLzEc-12" value="&lt;div&gt;output logic serving_unaligned_o&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; // FRONTEND : &lt;/div&gt;" style="text;strokeColor=#36393d;fillColor=#eeeeee;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;html=1;" vertex="1" parent="XsPn23_X_OqN6itZgHki-16">
          <mxGeometry y="354" width="870" height="30" as="geometry" />
        </mxCell>
        <mxCell id="TTDfWaFMamJh5cXxLzEc-14" value="&lt;div&gt;output logic [CVA6Cfg.INSTR_PER_FETCH-1:0][CVA6Cfg.VLEN-1:0] addr_o&amp;nbsp; &amp;nbsp; // FRONTEND : &lt;/div&gt;" style="text;strokeColor=#36393d;fillColor=#eeeeee;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;html=1;" vertex="1" parent="XsPn23_X_OqN6itZgHki-16">
          <mxGeometry y="384" width="870" height="30" as="geometry" />
        </mxCell>
        <mxCell id="TTDfWaFMamJh5cXxLzEc-13" value="&lt;div&gt;output logic [CVA6Cfg.INSTR_PER_FETCH-1:0][31:0]&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; // instr_scan&amp;amp;instr_queue : &lt;/div&gt;" style="text;strokeColor=#666666;fillColor=#f5f5f5;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;html=1;fontColor=#333333;" vertex="1" parent="XsPn23_X_OqN6itZgHki-16">
          <mxGeometry y="414" width="870" height="30" as="geometry" />
        </mxCell>
        <mxCell id="TTDfWaFMamJh5cXxLzEc-9" value="" style="endArrow=classic;html=1;rounded=0;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=0;entryY=0;entryDx=0;entryDy=0;" edge="1" parent="1" source="XsPn23_X_OqN6itZgHki-4" target="XsPn23_X_OqN6itZgHki-10">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="4440" y="2760" as="sourcePoint" />
            <mxPoint x="4490" y="2710" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="TTDfWaFMamJh5cXxLzEc-15" value="" style="endArrow=classic;html=1;rounded=0;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=0;entryY=0;entryDx=0;entryDy=0;" edge="1" parent="1" source="XsPn23_X_OqN6itZgHki-5" target="XsPn23_X_OqN6itZgHki-16">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="4590" y="3090" as="sourcePoint" />
            <mxPoint x="4640" y="3040" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="TTDfWaFMamJh5cXxLzEc-16" value="&lt;div style=&quot;text-align: left;&quot;&gt;&lt;span style=&quot;background-color: transparent;&quot;&gt;instr_queue&lt;br&gt;/home/ICer/proj/cva6/core/frontend/instr_queue.sv&lt;/span&gt;&lt;/div&gt;" style="swimlane;fontStyle=1;align=center;verticalAlign=top;childLayout=stackLayout;horizontal=1;startSize=40;horizontalStack=0;resizeParent=1;resizeParentMax=0;resizeLast=0;collapsible=1;marginBottom=0;whiteSpace=wrap;html=1;fillColor=#0050ef;strokeColor=#001DBC;fontColor=#ffffff;" vertex="1" parent="1">
          <mxGeometry x="5210" y="3170" width="870" height="714" as="geometry" />
        </mxCell>
        <mxCell id="TTDfWaFMamJh5cXxLzEc-17" value="" style="line;strokeWidth=1;fillColor=none;align=left;verticalAlign=middle;spacingTop=-1;spacingLeft=3;spacingRight=3;rotatable=0;labelPosition=right;points=[];portConstraint=eastwest;strokeColor=inherit;" vertex="1" parent="TTDfWaFMamJh5cXxLzEc-16">
          <mxGeometry y="40" width="870" height="8" as="geometry" />
        </mxCell>
        <mxCell id="TTDfWaFMamJh5cXxLzEc-18" value=":&lt;br&gt;1)&amp;nbsp;The instr_queue receives mutliple instructions from &lt;span style=&quot;background-color: rgb(213, 232, 212);&quot;&gt;instr_realign &lt;/span&gt;submodule to create a valid stream to be executed.&lt;br&gt;2)&amp;nbsp;&lt;span style=&quot;background-color: rgb(213, 232, 212);&quot;&gt;Frontend &lt;/span&gt;&lt;span style=&quot;background-color: transparent;&quot;&gt;pushes instructions and all related information into the FIFO for storage, including details needed in case of a misprediction&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;background-color: transparent; color: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));&quot;&gt;or exception: the instructions themselves, instruction control flow type, exception, exception address, and predicted address.&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;background-color: transparent;&quot;&gt;&lt;br&gt;&lt;/span&gt;3)&amp;nbsp;&lt;span style=&quot;background-color: rgb(213, 232, 212);&quot;&gt;DECODE &lt;/span&gt;pops them when decode stage is ready and indicates to the FRONTEND the instruction has been consummed.&lt;br&gt;4)&amp;nbsp;The&lt;span style=&quot;background-color: rgb(213, 232, 212);&quot;&gt; instruction queue&lt;/span&gt; contains two FIFOs: one for instructions and one for addresses, which stores addresses in case of a prediction.&amp;nbsp;The instruction FIFO can hold up to 44 instructions, while the address FIFO can hold up to 2 addresses.&lt;div&gt;&amp;nbsp; &amp;nbsp; 4.1&amp;nbsp;If the instruction FIFO is full, &lt;span style=&quot;background-color: rgb(213, 232, 212);&quot;&gt;a replay request is sent to inform the fetch mechanism to replay the fetch&lt;/span&gt;.&amp;nbsp;&lt;br&gt;&amp;nbsp; &amp;nbsp; 4.2 &lt;span style=&quot;background-color: rgb(213, 232, 212);&quot;&gt;If the address FIFO is full and there is a prediction, a replay request is sent to inform the fetch mechanism to replay the fetch, even if the instruction FIFO is not full.&lt;/span&gt;&lt;br&gt;5)&amp;nbsp;The instruction queue can be flushed by the flush signal coming from the &lt;span style=&quot;background-color: rgb(213, 232, 212);&quot;&gt;CONTROLLER&lt;/span&gt;.&amp;nbsp;&lt;br&gt;&lt;/div&gt;" style="text;strokeColor=default;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;html=1;" vertex="1" parent="TTDfWaFMamJh5cXxLzEc-16">
          <mxGeometry y="48" width="870" height="176" as="geometry" />
        </mxCell>
        <mxCell id="TTDfWaFMamJh5cXxLzEc-19" value="input logic flush_i&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; // CONTROLLER : Flush Fetch" style="text;strokeColor=#b46504;fillColor=#fad7ac;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;html=1;" vertex="1" parent="TTDfWaFMamJh5cXxLzEc-16">
          <mxGeometry y="224" width="870" height="30" as="geometry" />
        </mxCell>
        <mxCell id="TTDfWaFMamJh5cXxLzEc-22" value="&lt;div&gt;input logic [CVA6Cfg.INSTR_PER_FETCH-1:0] valid_i&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;// instr_realign  : &lt;/div&gt;" style="text;strokeColor=#36393d;fillColor=#eeeeee;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;html=1;" vertex="1" parent="TTDfWaFMamJh5cXxLzEc-16">
          <mxGeometry y="254" width="870" height="30" as="geometry" />
        </mxCell>
        <mxCell id="TTDfWaFMamJh5cXxLzEc-21" value="&lt;div&gt;input logic [CVA6Cfg.INSTR_PER_FETCH-1:0][CVA6Cfg.VLEN-1:0] addr_i&amp;nbsp; &amp;nbsp;&amp;nbsp;&lt;span style=&quot;background-color: transparent; color: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));&quot;&gt;// instr_realign : &lt;/span&gt;&lt;/div&gt;" style="text;strokeColor=#36393d;fillColor=#eeeeee;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;html=1;" vertex="1" parent="TTDfWaFMamJh5cXxLzEc-16">
          <mxGeometry y="284" width="870" height="30" as="geometry" />
        </mxCell>
        <mxCell id="TTDfWaFMamJh5cXxLzEc-20" value="&lt;div&gt;input logic [CVA6Cfg.INSTR_PER_FETCH-1:0][31:0] instr_i&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;// instr_realign : &lt;/div&gt;" style="text;strokeColor=#36393d;fillColor=#eeeeee;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;html=1;" vertex="1" parent="TTDfWaFMamJh5cXxLzEc-16">
          <mxGeometry y="314" width="870" height="30" as="geometry" />
        </mxCell>
        <mxCell id="TTDfWaFMamJh5cXxLzEc-23" value="&lt;div&gt;output logic ready_o&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;// CACHE : ready&amp;nbsp;&lt;/div&gt;" style="text;strokeColor=#10739e;fillColor=#b1ddf0;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;html=1;" vertex="1" parent="TTDfWaFMamJh5cXxLzEc-16">
          <mxGeometry y="344" width="870" height="30" as="geometry" />
        </mxCell>
        <mxCell id="TTDfWaFMamJh5cXxLzEc-24" value="&lt;div&gt;input ariane_pkg::frontend_exception_t exception_i&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;&amp;nbsp;&lt;span style=&quot;background-color: transparent; color: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));&quot;&gt;// CACHE :&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;background-color: transparent;&quot;&gt;Exception (which is page-table fault, access fault )&lt;/span&gt;&lt;span style=&quot;background-color: transparent; color: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));&quot;&gt;&amp;nbsp;&lt;/span&gt;&lt;/div&gt;" style="text;strokeColor=#10739e;fillColor=#b1ddf0;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;html=1;" vertex="1" parent="TTDfWaFMamJh5cXxLzEc-16">
          <mxGeometry y="374" width="870" height="30" as="geometry" />
        </mxCell>
        <mxCell id="TTDfWaFMamJh5cXxLzEc-25" value="&lt;div&gt;input logic [CVA6Cfg.VLEN-1:0] exception_addr_i&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;// CACHE : Exception &lt;/div&gt;&lt;div&gt;input logic [CVA6Cfg.GPLEN-1:0] exception_gpaddr_i&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;background-color: transparent; color: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));&quot;&gt;input logic [31:0] exception_tinst_i&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;background-color: transparent;&quot;&gt;input logic exception_gva_i&lt;/span&gt;&lt;/div&gt;" style="text;strokeColor=#10739e;fillColor=#b1ddf0;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;html=1;" vertex="1" parent="TTDfWaFMamJh5cXxLzEc-16">
          <mxGeometry y="404" width="870" height="70" as="geometry" />
        </mxCell>
        <mxCell id="TTDfWaFMamJh5cXxLzEc-28" value="&lt;div&gt;input logic [CVA6Cfg.VLEN-1:0] predict_address_i&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; // FRONTEND : Branch Predict &lt;/div&gt;" style="text;strokeColor=#666666;fillColor=#f5f5f5;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;html=1;fontColor=#333333;" vertex="1" parent="TTDfWaFMamJh5cXxLzEc-16">
          <mxGeometry y="474" width="870" height="30" as="geometry" />
        </mxCell>
        <mxCell id="TTDfWaFMamJh5cXxLzEc-30" value="&lt;div&gt;input ariane_pkg::cf_t [CVA6Cfg.INSTR_PER_FETCH-1:0] cf_type_i&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;// FRONTEND : Branch Predict &lt;span style=&quot;background-color: rgb(255, 153, 153);&quot;&gt; (Branch, JUMP, JUMPR, RETURN)&lt;/span&gt;&lt;/div&gt;" style="text;strokeColor=#666666;fillColor=#f5f5f5;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;html=1;fontColor=#333333;" vertex="1" parent="TTDfWaFMamJh5cXxLzEc-16">
          <mxGeometry y="504" width="870" height="30" as="geometry" />
        </mxCell>
        <mxCell id="TTDfWaFMamJh5cXxLzEc-26" value="&lt;div&gt;output logic [CVA6Cfg.INSTR_PER_FETCH-1:0] consumed_o&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;// FRONTEND :  ID_STAGE &lt;span style=&quot;background-color: rgb(255, 153, 153);&quot;&gt;consumed, or popped&lt;/span&gt;&lt;/div&gt;" style="text;strokeColor=#666666;fillColor=#f5f5f5;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;html=1;fontColor=#333333;" vertex="1" parent="TTDfWaFMamJh5cXxLzEc-16">
          <mxGeometry y="534" width="870" height="30" as="geometry" />
        </mxCell>
        <mxCell id="TTDfWaFMamJh5cXxLzEc-31" value="&lt;div&gt;output logic replay_o&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;// FRONTEND : replay , Address  Instruction FIFO &lt;/div&gt;" style="text;strokeColor=#666666;fillColor=#f5f5f5;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;html=1;fontColor=#333333;" vertex="1" parent="TTDfWaFMamJh5cXxLzEc-16">
          <mxGeometry y="564" width="870" height="30" as="geometry" />
        </mxCell>
        <mxCell id="TTDfWaFMamJh5cXxLzEc-32" value="&lt;div&gt;output logic [CVA6Cfg.VLEN-1:0] replay_addr_o&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; // FRONTEND : fetch  replay &lt;/div&gt;" style="text;strokeColor=#666666;fillColor=#f5f5f5;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;html=1;fontColor=#333333;" vertex="1" parent="TTDfWaFMamJh5cXxLzEc-16">
          <mxGeometry y="594" width="870" height="30" as="geometry" />
        </mxCell>
        <mxCell id="TTDfWaFMamJh5cXxLzEc-29" value="&lt;div&gt;input logic [CVA6Cfg.NrIssuePorts-1:0] fetch_entry_ready_i&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; // ID_STAGE : fetch entry ready&lt;/div&gt;" style="text;strokeColor=#82b366;fillColor=#d5e8d4;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;html=1;" vertex="1" parent="TTDfWaFMamJh5cXxLzEc-16">
          <mxGeometry y="624" width="870" height="30" as="geometry" />
        </mxCell>
        <mxCell id="TTDfWaFMamJh5cXxLzEc-33" value="&lt;div&gt;output logic [CVA6Cfg.NrIssuePorts-1:0] fetch_entry_valid_o&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; // ID_STAGE : fetch entry valid&lt;/div&gt;" style="text;strokeColor=#82b366;fillColor=#d5e8d4;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;html=1;" vertex="1" parent="TTDfWaFMamJh5cXxLzEc-16">
          <mxGeometry y="654" width="870" height="30" as="geometry" />
        </mxCell>
        <mxCell id="TTDfWaFMamJh5cXxLzEc-34" value="&lt;div&gt;output fetch_entry_t [CVA6Cfg.NrIssuePorts-1:0] fetch_entry_o&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; // ID_STAGE : fetch entry &lt;/div&gt;" style="text;strokeColor=#82b366;fillColor=#d5e8d4;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;html=1;" vertex="1" parent="TTDfWaFMamJh5cXxLzEc-16">
          <mxGeometry y="684" width="870" height="30" as="geometry" />
        </mxCell>
        <mxCell id="TTDfWaFMamJh5cXxLzEc-27" value="" style="endArrow=classic;html=1;rounded=0;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=0;entryY=0;entryDx=0;entryDy=0;" edge="1" parent="1" source="XsPn23_X_OqN6itZgHki-7" target="TTDfWaFMamJh5cXxLzEc-16">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="4830" y="3065" as="sourcePoint" />
            <mxPoint x="5195" y="2820" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="TTDfWaFMamJh5cXxLzEc-35" value="&lt;div style=&quot;text-align: left;&quot;&gt;Instr_scan&lt;/div&gt;&lt;div style=&quot;text-align: left;&quot;&gt;/home/ICer/proj/cva6/core/frontend/instr_scan.sv&lt;/div&gt;" style="swimlane;fontStyle=1;align=center;verticalAlign=top;childLayout=stackLayout;horizontal=1;startSize=40;horizontalStack=0;resizeParent=1;resizeParentMax=0;resizeLast=0;collapsible=1;marginBottom=0;whiteSpace=wrap;html=1;fillColor=#0050ef;strokeColor=#001DBC;fontColor=#ffffff;" vertex="1" parent="1">
          <mxGeometry x="5370" y="3950" width="870" height="574" as="geometry" />
        </mxCell>
        <mxCell id="TTDfWaFMamJh5cXxLzEc-36" value="" style="line;strokeWidth=1;fillColor=none;align=left;verticalAlign=middle;spacingTop=-1;spacingLeft=3;spacingRight=3;rotatable=0;labelPosition=right;points=[];portConstraint=eastwest;strokeColor=inherit;" vertex="1" parent="TTDfWaFMamJh5cXxLzEc-35">
          <mxGeometry y="40" width="870" height="8" as="geometry" />
        </mxCell>
        <mxCell id="TTDfWaFMamJh5cXxLzEc-37" value=":&lt;br&gt;1) As compressed extension is enabled, 4 instr_scan are instantiated to handle up to 4 instructions per cycle.&lt;br&gt;2) Each instr_scan submodule pre-decodes the fetched instructions coming from the instr_realign module, also calculate the immediate, instructions could be compressed or not.&lt;div&gt;3)&amp;nbsp;&lt;span style=&quot;background-color: transparent;&quot;&gt;The instr_scan submodule is a flow controller which provides the intruction type: branch, jump, return, jalr, imm, call or others. These outputs are used by the branch prediction feature.&lt;/span&gt;&lt;br&gt;&lt;/div&gt;" style="text;strokeColor=default;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;html=1;" vertex="1" parent="TTDfWaFMamJh5cXxLzEc-35">
          <mxGeometry y="48" width="870" height="106" as="geometry" />
        </mxCell>
        <mxCell id="TTDfWaFMamJh5cXxLzEc-39" value="&lt;div&gt;input logic [31:0] instr_i&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;// instr_realign  : &lt;/div&gt;" style="text;strokeColor=#36393d;fillColor=#eeeeee;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;html=1;" vertex="1" parent="TTDfWaFMamJh5cXxLzEc-35">
          <mxGeometry y="154" width="870" height="30" as="geometry" />
        </mxCell>
        <mxCell id="TTDfWaFMamJh5cXxLzEc-40" value="&lt;div&gt;output logic rvi_return_o&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;&amp;nbsp;&lt;span style=&quot;background-color: transparent; color: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));&quot;&gt;// FRONTEND  :&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;background-color: transparent;&quot;&gt;Return instruction&lt;/span&gt;&lt;/div&gt;" style="text;strokeColor=#36393d;fillColor=#eeeeee;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;html=1;" vertex="1" parent="TTDfWaFMamJh5cXxLzEc-35">
          <mxGeometry y="184" width="870" height="30" as="geometry" />
        </mxCell>
        <mxCell id="TTDfWaFMamJh5cXxLzEc-41" value="&lt;div&gt;output logic rvi_call_o&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; // FRONTEND : JAL instruction&lt;/div&gt;" style="text;strokeColor=#36393d;fillColor=#eeeeee;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;html=1;" vertex="1" parent="TTDfWaFMamJh5cXxLzEc-35">
          <mxGeometry y="214" width="870" height="30" as="geometry" />
        </mxCell>
        <mxCell id="TTDfWaFMamJh5cXxLzEc-54" value="&lt;div&gt;output logic rvi_branch_o&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; // FRONTEND : Branch instruction&lt;/div&gt;" style="text;strokeColor=#36393d;fillColor=#eeeeee;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;html=1;" vertex="1" parent="TTDfWaFMamJh5cXxLzEc-35">
          <mxGeometry y="244" width="870" height="30" as="geometry" />
        </mxCell>
        <mxCell id="TTDfWaFMamJh5cXxLzEc-55" value="&lt;div&gt;output logic rvi_jalr_o&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; // FRONTEND : JALR instruction&lt;/div&gt;" style="text;strokeColor=#36393d;fillColor=#eeeeee;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;html=1;" vertex="1" parent="TTDfWaFMamJh5cXxLzEc-35">
          <mxGeometry y="274" width="870" height="30" as="geometry" />
        </mxCell>
        <mxCell id="TTDfWaFMamJh5cXxLzEc-56" value="&lt;div&gt;output logic rvi_jump_o&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;// FRONTEND : Unconditional jump instruction&lt;/div&gt;" style="text;strokeColor=#36393d;fillColor=#eeeeee;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;html=1;" vertex="1" parent="TTDfWaFMamJh5cXxLzEc-35">
          <mxGeometry y="304" width="870" height="30" as="geometry" />
        </mxCell>
        <mxCell id="TTDfWaFMamJh5cXxLzEc-57" value="&lt;div&gt;output logic [CVA6Cfg.VLEN-1:0] rvi_imm_o&amp;nbsp; &amp;nbsp; // FRONTEND : Instruction immediate&lt;/div&gt;" style="text;strokeColor=#36393d;fillColor=#eeeeee;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;html=1;" vertex="1" parent="TTDfWaFMamJh5cXxLzEc-35">
          <mxGeometry y="334" width="870" height="30" as="geometry" />
        </mxCell>
        <mxCell id="TTDfWaFMamJh5cXxLzEc-62" value="&lt;div&gt;output logic rvc_return_o&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;// FRONTEND : Return compressed instruction&lt;/div&gt;" style="text;strokeColor=#36393d;fillColor=#eeeeee;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;html=1;" vertex="1" parent="TTDfWaFMamJh5cXxLzEc-35">
          <mxGeometry y="364" width="870" height="30" as="geometry" />
        </mxCell>
        <mxCell id="TTDfWaFMamJh5cXxLzEc-64" value="&lt;div&gt;output logic rvc_call_o&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;// FRONTEND : JAL compressed instruction&lt;/div&gt;" style="text;strokeColor=#36393d;fillColor=#eeeeee;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;html=1;" vertex="1" parent="TTDfWaFMamJh5cXxLzEc-35">
          <mxGeometry y="394" width="870" height="30" as="geometry" />
        </mxCell>
        <mxCell id="TTDfWaFMamJh5cXxLzEc-58" value="&lt;div&gt;output logic rvc_branch_o&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;// FRONTEND : Branch compressed instruction&lt;/div&gt;" style="text;strokeColor=#36393d;fillColor=#eeeeee;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;html=1;" vertex="1" parent="TTDfWaFMamJh5cXxLzEc-35">
          <mxGeometry y="424" width="870" height="30" as="geometry" />
        </mxCell>
        <mxCell id="TTDfWaFMamJh5cXxLzEc-60" value="&lt;div&gt;output logic rvc_jalr_o&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;// FRONTEND : JALR compressed instruction&lt;/div&gt;" style="text;strokeColor=#36393d;fillColor=#eeeeee;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;html=1;" vertex="1" parent="TTDfWaFMamJh5cXxLzEc-35">
          <mxGeometry y="454" width="870" height="30" as="geometry" />
        </mxCell>
        <mxCell id="TTDfWaFMamJh5cXxLzEc-61" value="&lt;div&gt;output logic rvc_jr_o&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;// FRONTEND : &lt;span style=&quot;background-color: rgb(255, 153, 153);&quot;&gt;JR compressed instruction&lt;/span&gt;&lt;/div&gt;" style="text;strokeColor=#36393d;fillColor=#eeeeee;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;html=1;" vertex="1" parent="TTDfWaFMamJh5cXxLzEc-35">
          <mxGeometry y="484" width="870" height="30" as="geometry" />
        </mxCell>
        <mxCell id="TTDfWaFMamJh5cXxLzEc-59" value="&lt;div&gt;output logic rvc_jump_o&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; // FRONTEND : Unconditional jump compressed instruction&lt;/div&gt;" style="text;strokeColor=#36393d;fillColor=#eeeeee;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;html=1;" vertex="1" parent="TTDfWaFMamJh5cXxLzEc-35">
          <mxGeometry y="514" width="870" height="30" as="geometry" />
        </mxCell>
        <mxCell id="TTDfWaFMamJh5cXxLzEc-63" value="&lt;div&gt;output logic [CVA6Cfg.VLEN-1:0] rvc_imm_o&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; // FRONTEND : Instruction compressed immediate&lt;/div&gt;" style="text;strokeColor=#36393d;fillColor=#eeeeee;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;html=1;" vertex="1" parent="TTDfWaFMamJh5cXxLzEc-35">
          <mxGeometry y="544" width="870" height="30" as="geometry" />
        </mxCell>
        <mxCell id="TTDfWaFMamJh5cXxLzEc-53" value="" style="endArrow=classic;html=1;rounded=0;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=0;entryY=0;entryDx=0;entryDy=0;" edge="1" parent="1" source="XsPn23_X_OqN6itZgHki-6" target="TTDfWaFMamJh5cXxLzEc-35">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="4640" y="3120" as="sourcePoint" />
            <mxPoint x="5005" y="3305" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="TTDfWaFMamJh5cXxLzEc-67" value="&lt;div style=&quot;text-align: left;&quot;&gt;BHT (Branch History Table)&lt;br&gt;/home/ICer/proj/cva6/core/frontend/bht.sv&lt;/div&gt;" style="swimlane;fontStyle=1;align=center;verticalAlign=top;childLayout=stackLayout;horizontal=1;startSize=40;horizontalStack=0;resizeParent=1;resizeParentMax=0;resizeLast=0;collapsible=1;marginBottom=0;whiteSpace=wrap;html=1;fillColor=#0050ef;strokeColor=#001DBC;fontColor=#ffffff;" vertex="1" parent="1">
          <mxGeometry x="5060" y="4650" width="870" height="444" as="geometry" />
        </mxCell>
        <mxCell id="TTDfWaFMamJh5cXxLzEc-68" value="" style="line;strokeWidth=1;fillColor=none;align=left;verticalAlign=middle;spacingTop=-1;spacingLeft=3;spacingRight=3;rotatable=0;labelPosition=right;points=[];portConstraint=eastwest;strokeColor=inherit;" vertex="1" parent="TTDfWaFMamJh5cXxLzEc-67">
          <mxGeometry y="40" width="870" height="8" as="geometry" />
        </mxCell>
        <mxCell id="TTDfWaFMamJh5cXxLzEc-69" value=":&lt;br&gt;1)&amp;nbsp;&lt;span style=&quot;background-color: transparent;&quot;&gt;The BHT is implemented as a memory which is composed of 32 entries. The BHT is a two-dimensional table:&lt;/span&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; 1.1 The first dimension represents the access address, with a length equal to 32 / 4.&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; 1.2 The second dimension represents the row index, with a length equal to 4.&lt;/div&gt;&lt;div&gt;2) Two distinct branches with different addresses can share the same BHT entry if they have the same ACCESS_ADDRESS.&lt;br&gt;&lt;span style=&quot;background-color: transparent;&quot;&gt;&amp;nbsp; &amp;nbsp; In the case of branch prediction, the BHT uses only part of the virtual address to get the value of the saturation counter.&amp;nbsp;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; In the case of a valid misprediction, the BHT uses only part of the misprediction address to access the BHT table and update the saturation counter.&lt;/div&gt;&lt;div&gt;3)&amp;nbsp;Each BHT entry contains a two-bit saturating counter and a valid bit.&lt;br&gt;&amp;nbsp; &amp;nbsp; 3.1&amp;nbsp;On reset, the counters are set to 0 (strongly not taken) and the valid bits are cleared.&amp;nbsp;&lt;br&gt;&amp;nbsp; &amp;nbsp; 3.2&amp;nbsp;When a branch instruction is resolved by the EX_STAGE module, the valid bit is set and the counter is updated.&lt;br&gt;&amp;nbsp; &amp;nbsp; 3.3&amp;nbsp;The two bit counter is updated by the successive execution of the instructions as shown in the following figure.&lt;br&gt;4)&amp;nbsp;When a branch instruction is pre-decoded by instr_scan submodule, the BHT valids whether the PC address is inside the BHT and provides the taken or not prediction.&amp;nbsp;&lt;br&gt;&amp;nbsp; &amp;nbsp; 4.1&amp;nbsp;The prediction is the most significant bit from the counter, where 1 means &quot;taken&quot;.&lt;br&gt;&amp;nbsp; &amp;nbsp; 4.2&amp;nbsp;When the &lt;span style=&quot;background-color: rgb(213, 232, 212);&quot;&gt;Execute stage&lt;/span&gt; processes a branch instruction, it sends the branch status (whether its taken or not) to the &lt;span style=&quot;background-color: rgb(213, 232, 212);&quot;&gt;Frontend&lt;/span&gt; to update the BHT table.&lt;br&gt;5)&amp;nbsp;The BHT is never flushed.&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;" style="text;strokeColor=default;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;html=1;" vertex="1" parent="TTDfWaFMamJh5cXxLzEc-67">
          <mxGeometry y="48" width="870" height="246" as="geometry" />
        </mxCell>
        <mxCell id="TTDfWaFMamJh5cXxLzEc-70" value="&lt;div&gt;input logic flush_bp_i&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;// Branch prediction flush request - zero (TIE `0)&lt;/div&gt;" style="text;strokeColor=#36393d;fillColor=#eeeeee;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;html=1;" vertex="1" parent="TTDfWaFMamJh5cXxLzEc-67">
          <mxGeometry y="294" width="870" height="30" as="geometry" />
        </mxCell>
        <mxCell id="TTDfWaFMamJh5cXxLzEc-71" value="&lt;div&gt;input logic debug_mode_i&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &lt;span style=&quot;background-color: transparent; color: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));&quot;&gt;// CSR  :&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;background-color: transparent;&quot;&gt;Debug mode state&lt;/span&gt;&lt;/div&gt;" style="text;strokeColor=#82b366;fillColor=#d5e8d4;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;html=1;" vertex="1" parent="TTDfWaFMamJh5cXxLzEc-67">
          <mxGeometry y="324" width="870" height="30" as="geometry" />
        </mxCell>
        <mxCell id="TTDfWaFMamJh5cXxLzEc-72" value="&lt;div&gt;input logic [CVA6Cfg.VLEN-1:0] vpc_i&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;// CACHE : Virtual PC&lt;/div&gt;" style="text;strokeColor=#82b366;fillColor=#d5e8d4;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;html=1;" vertex="1" parent="TTDfWaFMamJh5cXxLzEc-67">
          <mxGeometry y="354" width="870" height="30" as="geometry" />
        </mxCell>
        <mxCell id="TTDfWaFMamJh5cXxLzEc-73" value="&lt;div&gt;output logic rvi_branch_o&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; // FRONTEND : Branch instruction&lt;/div&gt;" style="text;strokeColor=#36393d;fillColor=#eeeeee;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;html=1;" vertex="1" parent="TTDfWaFMamJh5cXxLzEc-67">
          <mxGeometry y="384" width="870" height="30" as="geometry" />
        </mxCell>
        <mxCell id="TTDfWaFMamJh5cXxLzEc-74" value="&lt;div&gt;output logic rvi_jalr_o&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; // FRONTEND : JALR instruction&lt;/div&gt;" style="text;strokeColor=#36393d;fillColor=#eeeeee;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;html=1;" vertex="1" parent="TTDfWaFMamJh5cXxLzEc-67">
          <mxGeometry y="414" width="870" height="30" as="geometry" />
        </mxCell>
        <mxCell id="TTDfWaFMamJh5cXxLzEc-84" value="" style="endArrow=classic;html=1;rounded=0;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=0;entryY=0;entryDx=0;entryDy=0;" edge="1" parent="1" source="XsPn23_X_OqN6itZgHki-22" target="TTDfWaFMamJh5cXxLzEc-67">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="5010" y="3760" as="sourcePoint" />
            <mxPoint x="5845" y="4425" as="targetPoint" />
          </mxGeometry>
        </mxCell>
      </root>
    </mxGraphModel>
  </diagram>
</mxfile>

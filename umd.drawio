<mxfile host="app.diagrams.net" agent="Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/143.0.0.0 Safari/537.36 Edg/143.0.0.0" version="29.2.9">
  <diagram name="Page-1" id="ZyiYLpGNe981XcR9g1XM">
    <mxGraphModel dx="2685" dy="629" grid="1" gridSize="10" guides="1" tooltips="1" connect="1" arrows="1" fold="1" page="1" pageScale="1" pageWidth="850" pageHeight="1100" math="0" shadow="0">
      <root>
        <mxCell id="0" />
        <mxCell id="1" parent="0" />
        <mxCell id="4z17Cn_j7c4BS6MCMvL9-1" parent="1" style="rounded=0;whiteSpace=wrap;html=1;align=left;verticalAlign=top;movable=0;resizable=0;rotatable=0;deletable=0;editable=0;locked=1;connectable=0;" value="&lt;font style=&quot;font-size: 72px;&quot;&gt;&lt;b&gt;&amp;nbsp;&lt;/b&gt;&lt;/font&gt;&lt;div&gt;&lt;font style=&quot;font-size: 72px;&quot;&gt;&lt;b&gt;&lt;font style=&quot;&quot;&gt;&amp;nbsp; &amp;nbsp; &lt;/font&gt;&lt;font style=&quot;&quot;&gt;UMD launchKernel&lt;/font&gt;&lt;/b&gt;&lt;/font&gt;&lt;/div&gt;" vertex="1">
          <mxGeometry height="2640" width="2510" x="210" y="380" as="geometry" />
        </mxCell>
        <mxCell id="4z17Cn_j7c4BS6MCMvL9-2" parent="1" style="rounded=0;whiteSpace=wrap;html=1;align=left;verticalAlign=top;movable=0;resizable=0;rotatable=0;deletable=0;editable=0;locked=1;connectable=0;" value="&lt;div&gt;&lt;font style=&quot;font-size: 72px;&quot;&gt;&lt;b&gt;&lt;br&gt;&lt;/b&gt;&lt;/font&gt;&lt;/div&gt;&lt;font style=&quot;&quot;&gt;&lt;b style=&quot;&quot;&gt;&lt;span style=&quot;font-size: 72px;&quot;&gt;&amp;nbsp; &amp;nbsp; &lt;/span&gt;&lt;font style=&quot;font-size: 64px;&quot;&gt;queue scheduler&lt;/font&gt;&lt;/b&gt;&lt;/font&gt;" vertex="1">
          <mxGeometry height="2640" width="1610" x="2940" y="380" as="geometry" />
        </mxCell>
        <mxCell id="4z17Cn_j7c4BS6MCMvL9-3" parent="1" style="swimlane;fontStyle=0;childLayout=stackLayout;horizontal=1;startSize=26;fillColor=none;horizontalStack=0;resizeParent=1;resizeParentMax=0;resizeLast=0;collapsible=1;marginBottom=0;whiteSpace=wrap;html=1;" value="&lt;span style=&quot;text-align: left;&quot;&gt;drv_api.cpp&lt;/span&gt;" vertex="1">
          <mxGeometry height="606" width="630" x="460" y="780" as="geometry" />
        </mxCell>
        <mxCell id="4z17Cn_j7c4BS6MCMvL9-4" parent="4z17Cn_j7c4BS6MCMvL9-3" style="text;strokeColor=#666666;fillColor=#f5f5f5;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;html=1;fontColor=#333333;" value="&lt;div&gt;&lt;b&gt;drvLaunchKernelEx_common(config, f, kernelParams, extra, ptsz):&lt;br&gt;&lt;/b&gt;&amp;nbsp; &amp;nbsp; kernelParams: 就是user传入的args,&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; extra: ???&amp;nbsp;&amp;nbsp;&lt;br&gt;&amp;nbsp; &amp;nbsp; ptsz: 是否是perThread Stream&lt;br&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;" vertex="1">
          <mxGeometry height="74" width="630" y="26" as="geometry" />
        </mxCell>
        <mxCell id="4z17Cn_j7c4BS6MCMvL9-5" parent="4z17Cn_j7c4BS6MCMvL9-3" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;html=1;" value="&lt;div&gt;&lt;span style=&quot;background-color: rgb(255, 255, 204);&quot;&gt;//获取CUcontext&lt;/span&gt;&lt;/div&gt;&lt;span style=&quot;background-color: rgb(255, 255, 204);&quot;&gt;&lt;div&gt;ctx = getCurrentContext()&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;background-color: rgb(255, 255, 204);&quot;&gt;&lt;br&gt;&lt;/span&gt;&lt;/div&gt;//获取gridDimX/Y/Z, blockDimX/Y/Z, sharedMemBytes等配置信息&lt;br&gt;&lt;/span&gt;gridDimX = config-&amp;gt;gridDimX&lt;br&gt;...&lt;br&gt;sharedMemBytes = config-&amp;gt;sharedMemBytes&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;background-color: rgb(255, 255, 204);&quot;&gt;//获取CUStream&lt;/span&gt;&lt;/div&gt;&lt;div&gt;hStream = getCurrentStream(ctx, stream, perThread)&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;background-color: rgb(255, 255, 204);&quot;&gt;//根据 f-&amp;gt;kernelInfo-&amp;gt;argCount 创建kernelArgData_t&lt;/span&gt;&lt;/div&gt;&lt;div&gt;kernelArgData_t* argData = malloc(sizeof(kernelArgData_t)*argCount)&lt;/div&gt;&lt;div&gt;for (;;) {&lt;br&gt;&amp;nbsp; &amp;nbsp; kernelArgData_t data = argData + i;&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; kernelArg_t arg = &lt;font color=&quot;#ff3333&quot;&gt;f-&amp;gt;kernelInfo&lt;/font&gt;-&amp;gt;args + i;&lt;br&gt;&amp;nbsp; &amp;nbsp; data-&amp;gt;arg = arg&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; ... //&lt;/div&gt;&lt;div&gt;}&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;background-color: rgb(255, 255, 204);&quot;&gt;//准备 halQueue_t 与 halCommand_t&lt;/span&gt;&lt;br&gt;halQueue = getCurrentStream(ctx, hStream, false)-&amp;gt;halQueue &lt;span style=&quot;background-color: rgb(230, 230, 230);&quot;&gt;//此时 hStream是有效指针, 基本是直接返回&lt;/span&gt;&lt;br&gt;command = {&lt;font color=&quot;#ff3333&quot;&gt;COMMAND_KERNEL&lt;/font&gt;} &lt;span style=&quot;background-color: rgb(230, 230, 230);&quot;&gt;//设置command 为KERNEL(type 有COPY, WAIT, FENCE 等)&lt;/span&gt;&lt;br&gt;&lt;font color=&quot;#ff3333&quot;&gt;executeKrnelInfo_t&lt;/font&gt; *info = command.kernelInfo&lt;br&gt;info-&amp;gt;local[0] = blockDimX...; info-&amp;gt;gridDim[0] = gridDimX ...; info-&amp;gt;global[0]= gridDimX*info-&amp;gt;local[0] ...&lt;br&gt;info-&amp;gt;args = argData;&lt;/div&gt;&lt;div&gt;info-&amp;gt;kInfo= f-&amp;gt;kernelInfo;&lt;br&gt;info-&amp;gt;inst = f-&amp;gt;kernel&lt;/div&gt;&lt;div&gt;prepareExecInfo(info)&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;//调用&lt;/div&gt;&lt;div&gt;&lt;b style=&quot;background-color: rgb(151, 208, 119);&quot;&gt;launchCommand(halQueue, &amp;amp;command)&lt;/b&gt;&lt;/div&gt;" vertex="1">
          <mxGeometry height="480" width="630" y="100" as="geometry" />
        </mxCell>
        <mxCell id="4z17Cn_j7c4BS6MCMvL9-6" parent="4z17Cn_j7c4BS6MCMvL9-3" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;html=1;" value="&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;" vertex="1">
          <mxGeometry height="26" width="630" y="580" as="geometry" />
        </mxCell>
        <mxCell id="4z17Cn_j7c4BS6MCMvL9-7" parent="1" style="swimlane;fontStyle=0;childLayout=stackLayout;horizontal=1;startSize=26;fillColor=none;horizontalStack=0;resizeParent=1;resizeParentMax=0;resizeLast=0;collapsible=1;marginBottom=0;whiteSpace=wrap;html=1;" value="&lt;span style=&quot;text-align: left;&quot;&gt;stream.cpp&lt;/span&gt;" vertex="1">
          <mxGeometry height="220" width="490" x="1220" y="1080" as="geometry" />
        </mxCell>
        <mxCell id="4z17Cn_j7c4BS6MCMvL9-8" parent="4z17Cn_j7c4BS6MCMvL9-7" style="text;strokeColor=#666666;fillColor=#f5f5f5;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;html=1;fontColor=#333333;" value="&lt;div&gt;&lt;b&gt;getCurrentStream(CUcontext ctx, CUStream stream, bool perThread):&lt;br&gt;&lt;/b&gt;&amp;nbsp; &amp;nbsp; stream 用户传入的stream&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;" vertex="1">
          <mxGeometry height="44" width="490" y="26" as="geometry" />
        </mxCell>
        <mxCell id="4z17Cn_j7c4BS6MCMvL9-9" parent="4z17Cn_j7c4BS6MCMvL9-7" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;html=1;" value="&lt;div&gt;istream = (size_t)stream;&lt;/div&gt;switch(istream)&lt;br&gt;&lt;span style=&quot;background-color: rgb(230, 230, 230);&quot;&gt;case 0: return getDefaultStream(ctx, perThread)&lt;/span&gt;&lt;br&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;--&amp;gt; 如果perThread --&amp;gt; getPerThreadStream(ctx)&lt;div&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;否则 --&amp;gt;getLegacyStream(ctx) --&amp;gt; ctx-&amp;gt;legacy &lt;span style=&quot;background-color: rgb(255, 229, 153);&quot;&gt;(如何创建???)&lt;/span&gt;&lt;br&gt;case 1: return getLegacyStream(ctx)&lt;br&gt;case 2: return getPerThreadStream(ct)&lt;br&gt;default:&lt;br&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;... &lt;span style=&quot;background-color: rgb(255, 229, 153);&quot;&gt;//和delayDestroy 相关 ???&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;background-color: rgb(255, 229, 153);&quot;&gt;&lt;br&gt;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;" vertex="1">
          <mxGeometry height="150" width="490" y="70" as="geometry" />
        </mxCell>
        <mxCell id="4z17Cn_j7c4BS6MCMvL9-10" parent="1" style="swimlane;fontStyle=0;childLayout=stackLayout;horizontal=1;startSize=26;fillColor=none;horizontalStack=0;resizeParent=1;resizeParentMax=0;resizeLast=0;collapsible=1;marginBottom=0;whiteSpace=wrap;html=1;" value="&lt;div style=&quot;text-align: left;&quot;&gt;&lt;span style=&quot;background-color: initial;&quot;&gt;drv_api.cpp&lt;/span&gt;&lt;/div&gt;" vertex="1">
          <mxGeometry height="140" width="490" x="1220" y="790" as="geometry" />
        </mxCell>
        <mxCell id="4z17Cn_j7c4BS6MCMvL9-11" parent="4z17Cn_j7c4BS6MCMvL9-10" style="text;strokeColor=#666666;fillColor=#f5f5f5;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;html=1;fontColor=#333333;" value="&lt;div&gt;&lt;b&gt;getCurrentContext():&lt;/b&gt;&amp;nbsp;获取当前的context&lt;br&gt;&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;" vertex="1">
          <mxGeometry height="24" width="490" y="26" as="geometry" />
        </mxCell>
        <mxCell id="4z17Cn_j7c4BS6MCMvL9-12" parent="4z17Cn_j7c4BS6MCMvL9-10" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;html=1;" value="&lt;div&gt;tssData_PTR tss = getTssData(); &lt;span style=&quot;background-color: rgb(230, 230, 230);&quot;&gt;//获取线程本地数据&lt;/span&gt;&lt;br&gt;&lt;br&gt;ctx = utilStackTop(tss-&amp;gt;ctxStack); &lt;span style=&quot;background-color: rgb(230, 230, 230);&quot;&gt;//获取最近创建的CUcontext&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;return gpgpuPLS.drvDevices[tss-&amp;gt;runtimeDeviceId]-&amp;gt;primaryCtx &lt;span style=&quot;background-color: rgb(255, 229, 153);&quot;&gt;//如何创建???&lt;/span&gt;&lt;/div&gt;" vertex="1">
          <mxGeometry height="90" width="490" y="50" as="geometry" />
        </mxCell>
        <mxCell id="4z17Cn_j7c4BS6MCMvL9-13" parent="1" style="swimlane;fontStyle=1;align=center;verticalAlign=top;childLayout=stackLayout;horizontal=1;startSize=26;horizontalStack=0;resizeParent=1;resizeParentMax=0;resizeLast=0;collapsible=1;marginBottom=0;whiteSpace=wrap;html=1;" value="hal.cpp" vertex="1">
          <mxGeometry height="176" width="390" x="580" y="1460" as="geometry" />
        </mxCell>
        <mxCell id="4z17Cn_j7c4BS6MCMvL9-14" parent="4z17Cn_j7c4BS6MCMvL9-13" style="text;strokeColor=#666666;fillColor=#f5f5f5;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;html=1;fontColor=#333333;" value="&lt;b&gt;launchCommand(halQueue_PTR queue, halCommand_t * cmd)&lt;/b&gt;" vertex="1">
          <mxGeometry height="26" width="390" y="26" as="geometry" />
        </mxCell>
        <mxCell id="4z17Cn_j7c4BS6MCMvL9-15" parent="4z17Cn_j7c4BS6MCMvL9-13" style="line;strokeWidth=1;fillColor=none;align=left;verticalAlign=middle;spacingTop=-1;spacingLeft=3;spacingRight=3;rotatable=0;labelPosition=right;points=[];portConstraint=eastwest;strokeColor=inherit;" value="" vertex="1">
          <mxGeometry height="8" width="390" y="52" as="geometry" />
        </mxCell>
        <mxCell id="4z17Cn_j7c4BS6MCMvL9-16" parent="4z17Cn_j7c4BS6MCMvL9-13" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;html=1;" value="&lt;div&gt;&lt;span style=&quot;background-color: rgb(230, 230, 230);&quot;&gt;//根据type调用相应的函数&lt;br&gt;&lt;/span&gt;switch(cmd-&amp;gt;type)&lt;br&gt;case &lt;font color=&quot;#ff3333&quot;&gt;COMMAND_KERNEL&lt;/font&gt;: &lt;b&gt;executeKernel(queue, cmd)&lt;/b&gt;&lt;br&gt;...&lt;br&gt;case&amp;nbsp;&lt;/div&gt;" vertex="1">
          <mxGeometry height="90" width="390" y="60" as="geometry" />
        </mxCell>
        <mxCell id="4z17Cn_j7c4BS6MCMvL9-17" parent="4z17Cn_j7c4BS6MCMvL9-13" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;html=1;" value="&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;" vertex="1">
          <mxGeometry height="26" width="390" y="150" as="geometry" />
        </mxCell>
        <mxCell id="4z17Cn_j7c4BS6MCMvL9-18" edge="1" parent="1" source="4z17Cn_j7c4BS6MCMvL9-6" style="html=1;verticalAlign=bottom;endArrow=block;curved=0;rounded=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;exitX=0.501;exitY=1.038;exitDx=0;exitDy=0;exitPerimeter=0;" target="4z17Cn_j7c4BS6MCMvL9-13" value="dispatch">
          <mxGeometry relative="1" width="80" as="geometry">
            <mxPoint x="480" y="1430" as="sourcePoint" />
            <mxPoint x="560" y="1430" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="4z17Cn_j7c4BS6MCMvL9-19" parent="1" style="swimlane;fontStyle=1;align=center;verticalAlign=top;childLayout=stackLayout;horizontal=1;startSize=26;horizontalStack=0;resizeParent=1;resizeParentMax=0;resizeLast=0;collapsible=1;marginBottom=0;whiteSpace=wrap;html=1;" value="hal.cpp" vertex="1">
          <mxGeometry height="320" width="550" x="498" y="1740" as="geometry" />
        </mxCell>
        <mxCell id="4z17Cn_j7c4BS6MCMvL9-20" parent="4z17Cn_j7c4BS6MCMvL9-19" style="text;strokeColor=#666666;fillColor=#f5f5f5;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;html=1;fontColor=#333333;" value="&lt;b&gt;executeKernel(halQueue_PTR queue, halCommand* halCmd)&lt;/b&gt;" vertex="1">
          <mxGeometry height="26" width="550" y="26" as="geometry" />
        </mxCell>
        <mxCell id="4z17Cn_j7c4BS6MCMvL9-21" parent="4z17Cn_j7c4BS6MCMvL9-19" style="line;strokeWidth=1;fillColor=none;align=left;verticalAlign=middle;spacingTop=-1;spacingLeft=3;spacingRight=3;rotatable=0;labelPosition=right;points=[];portConstraint=eastwest;strokeColor=inherit;" value="" vertex="1">
          <mxGeometry height="8" width="550" y="52" as="geometry" />
        </mxCell>
        <mxCell id="4z17Cn_j7c4BS6MCMvL9-22" parent="4z17Cn_j7c4BS6MCMvL9-19" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;html=1;" value="executeKernelInfo_t * execInfo = &amp;amp;halCmd-&amp;gt;kernelInfo&lt;br&gt;&lt;br&gt;execInfo-&amp;gt;halQueue = queue&lt;br&gt;&lt;span style=&quot;background-color: rgb(151, 208, 119);&quot;&gt;cmdBuffer_PTR &lt;font color=&quot;#ff3333&quot;&gt;&lt;b&gt;cmdBuffer &lt;/b&gt;&lt;/font&gt;= &lt;b&gt;createCommandBuffer&lt;/b&gt;(processor, 1024, 1024)&lt;/span&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;clfBeginVIRUniform(&lt;font color=&quot;#ff3333&quot;&gt;&lt;b&gt;cmdBuffer&lt;/b&gt;&lt;/font&gt;, execInfo-&amp;gt;inst, null)&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; --&amp;gt; //添加硬件配置cmd, 并且写入 semaphoreStall 与 Stall 命令&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;&lt;span style=&quot;background-color: rgb(255, 229, 153);&quot;&gt;__clCmdLoadSingalHWState(states, AQSemaphoreRegAddrs, semaphoreStall)&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;&lt;span style=&quot;background-color: rgb(255, 229, 153);&quot;&gt;__clCmdLoadingFECommand(states, STALL, semaphoreStall)&lt;/span&gt;&lt;/div&gt;&lt;div&gt;allocInternalMemory(execInfo)&lt;/div&gt;&lt;div&gt;...&lt;/div&gt;&lt;div&gt;clfEndVIRUniform(...)&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;clfInvokeVIRKernel&lt;/b&gt;(cmdBuffer, execInfo-&amp;gt;inst, execInfo-&amp;gt;workDim, ...., &amp;amp;invokeInfo)&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;background-color: rgb(151, 208, 119);&quot;&gt;//把cmdBuffer挂载到queue的commandQueue上&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;addCmdToQueue&lt;/b&gt;(queue, cmdBuffer)&lt;/div&gt;" vertex="1">
          <mxGeometry height="260" width="550" y="60" as="geometry" />
        </mxCell>
        <mxCell id="4z17Cn_j7c4BS6MCMvL9-23" edge="1" parent="1" source="4z17Cn_j7c4BS6MCMvL9-17" style="html=1;verticalAlign=bottom;endArrow=block;curved=0;rounded=0;entryX=0.51;entryY=0.005;entryDx=0;entryDy=0;exitX=0.508;exitY=1.035;exitDx=0;exitDy=0;exitPerimeter=0;entryPerimeter=0;" target="4z17Cn_j7c4BS6MCMvL9-19" value="dispatch">
          <mxGeometry relative="1" width="80" as="geometry">
            <mxPoint x="786" y="1397" as="sourcePoint" />
            <mxPoint x="785" y="1470" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="4z17Cn_j7c4BS6MCMvL9-24" parent="1" style="swimlane;fontStyle=1;align=center;verticalAlign=top;childLayout=stackLayout;horizontal=1;startSize=26;horizontalStack=0;resizeParent=1;resizeParentMax=0;resizeLast=0;collapsible=1;marginBottom=0;whiteSpace=wrap;html=1;" value="chip.cpp" vertex="1">
          <mxGeometry height="300" width="460" x="1220" y="1500" as="geometry" />
        </mxCell>
        <mxCell id="4z17Cn_j7c4BS6MCMvL9-25" parent="4z17Cn_j7c4BS6MCMvL9-24" style="text;strokeColor=#666666;fillColor=#f5f5f5;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;html=1;fontColor=#333333;" value="&lt;b&gt;createCommandBuffer(processor, size)&lt;/b&gt;" vertex="1">
          <mxGeometry height="26" width="460" y="26" as="geometry" />
        </mxCell>
        <mxCell id="4z17Cn_j7c4BS6MCMvL9-26" parent="4z17Cn_j7c4BS6MCMvL9-24" style="line;strokeWidth=1;fillColor=none;align=left;verticalAlign=middle;spacingTop=-1;spacingLeft=3;spacingRight=3;rotatable=0;labelPosition=right;points=[];portConstraint=eastwest;strokeColor=inherit;" value="" vertex="1">
          <mxGeometry height="8" width="460" y="52" as="geometry" />
        </mxCell>
        <mxCell id="4z17Cn_j7c4BS6MCMvL9-27" parent="4z17Cn_j7c4BS6MCMvL9-24" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;html=1;" value="cmd = malloc(sizeof(cmdBuffer_t))&lt;div&gt;&lt;span style=&quot;background-color: rgb(230, 230, 230);&quot;&gt;//通过cmd-Buffer - cmdBase 可以计算cmd的个数&lt;br&gt;&lt;/span&gt;cmd-&amp;gt;cmdBase = malloc(size)&lt;br&gt;cmd-&amp;gt;cmdBuffer = cmd-&amp;gt;cmdBase&lt;br&gt;cmd-&amp;gt;processor = processor&lt;br&gt;cmd-&amp;gt;helper.index = gCmdIdx++;&lt;br&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;background-color: rgb(230, 230, 230);&quot;&gt;//向cmdBuffer中添加init cmds&lt;/span&gt;&lt;/div&gt;&lt;div&gt;clfInitCommandQueue(cmd)&lt;br&gt;&amp;nbsp; &amp;nbsp; --&amp;gt; &lt;span style=&quot;background-color: rgb(230, 230, 230);&quot;&gt;//通过&amp;nbsp;__clCmdLoadSingleHWState 往cmdBuffer添加LoadState 配置&lt;/span&gt;&lt;br&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;28A AQSystemRegAddrs&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;E13 AQModeRegAddrs&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;5580 gcregShaderMiscConfigRegAddrs&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;E44 gcregClusterControlRegAddrs&lt;br&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;E80 gcregMultiChipControlRegAddrs&lt;/div&gt;" vertex="1">
          <mxGeometry height="240" width="460" y="60" as="geometry" />
        </mxCell>
        <mxCell id="4z17Cn_j7c4BS6MCMvL9-28" edge="1" parent="1" source="4z17Cn_j7c4BS6MCMvL9-22" style="html=1;verticalAlign=bottom;endArrow=block;curved=0;rounded=0;entryX=-0.005;entryY=0.053;entryDx=0;entryDy=0;exitX=1.006;exitY=0.166;exitDx=0;exitDy=0;exitPerimeter=0;entryPerimeter=0;" target="4z17Cn_j7c4BS6MCMvL9-24" value="dispatch">
          <mxGeometry relative="1" width="80" as="geometry">
            <mxPoint x="788" y="1667" as="sourcePoint" />
            <mxPoint x="791" y="1741" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="4z17Cn_j7c4BS6MCMvL9-29" edge="1" parent="1" source="4z17Cn_j7c4BS6MCMvL9-5" style="html=1;verticalAlign=bottom;endArrow=block;curved=0;rounded=0;entryX=0.003;entryY=0.111;entryDx=0;entryDy=0;exitX=1.002;exitY=0.298;exitDx=0;exitDy=0;exitPerimeter=0;entryPerimeter=0;" target="4z17Cn_j7c4BS6MCMvL9-10" value="dispatch">
          <mxGeometry relative="1" width="80" as="geometry">
            <mxPoint x="1100" y="1166" as="sourcePoint" />
            <mxPoint x="1217" y="950" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="4z17Cn_j7c4BS6MCMvL9-30" edge="1" parent="1" source="4z17Cn_j7c4BS6MCMvL9-5" style="html=1;verticalAlign=bottom;endArrow=block;curved=0;rounded=0;entryX=0.001;entryY=0.083;entryDx=0;entryDy=0;exitX=0.997;exitY=0.594;exitDx=0;exitDy=0;exitPerimeter=0;entryPerimeter=0;" target="4z17Cn_j7c4BS6MCMvL9-7" value="dispatch">
          <mxGeometry relative="1" width="80" as="geometry">
            <mxPoint x="1101" y="1033" as="sourcePoint" />
            <mxPoint x="1261" y="856" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="4z17Cn_j7c4BS6MCMvL9-31" parent="1" style="swimlane;fontStyle=1;align=center;verticalAlign=top;childLayout=stackLayout;horizontal=1;startSize=26;horizontalStack=0;resizeParent=1;resizeParentMax=0;resizeLast=0;collapsible=1;marginBottom=0;whiteSpace=wrap;html=1;" value="chip.cpp" vertex="1">
          <mxGeometry height="560" width="530" x="1220" y="1830" as="geometry" />
        </mxCell>
        <mxCell id="4z17Cn_j7c4BS6MCMvL9-32" parent="4z17Cn_j7c4BS6MCMvL9-31" style="text;strokeColor=#666666;fillColor=#f5f5f5;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;html=1;fontColor=#333333;" value="&lt;b&gt;clfInvokeVIRKernel(cmdBuffer_PTR cmdBuffer, KernelInst_PTR kernelInst,...)&lt;br&gt;通过将要运行的kernel, 配置cmd buffer&lt;/b&gt;" vertex="1">
          <mxGeometry height="44" width="530" y="26" as="geometry" />
        </mxCell>
        <mxCell id="4z17Cn_j7c4BS6MCMvL9-33" parent="4z17Cn_j7c4BS6MCMvL9-31" style="line;strokeWidth=1;fillColor=none;align=left;verticalAlign=middle;spacingTop=-1;spacingLeft=3;spacingRight=3;rotatable=0;labelPosition=right;points=[];portConstraint=eastwest;strokeColor=inherit;" value="" vertex="1">
          <mxGeometry height="8" width="530" y="70" as="geometry" />
        </mxCell>
        <mxCell id="4z17Cn_j7c4BS6MCMvL9-34" parent="4z17Cn_j7c4BS6MCMvL9-31" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;html=1;" value="&lt;div&gt;&lt;span style=&quot;background-color: rgb(255, 229, 153);&quot;&gt;compilerCmd = *states; //states 就是cmdBuffer-&amp;gt;cmdBuffer&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;&quot;&gt;&lt;span style=&quot;background-color: rgb(255, 229, 153);&quot;&gt;compilerCmdCount = hwStates-&amp;gt;stateBufferSize/sizeof(uint32_t)&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; //22&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;&quot;&gt;&lt;span style=&quot;background-color: rgb(255, 229, 153);&quot;&gt;memcpy(*states, hwStates-&amp;gt;pStateBuffer, hwStates-&amp;gt;stateBufferSize)&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;&quot;&gt;&lt;span style=&quot;background-color: rgb(255, 229, 153);&quot;&gt;*states += compilerCmdCount;&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;&quot;&gt;&lt;br&gt;&lt;/div&gt;&lt;span style=&quot;background-color: rgb(230, 230, 230);&quot;&gt;//配置指令地址 0x040A&lt;/span&gt;&lt;div&gt;physical = getDeviceAddr(kernelInst-&amp;gt;instMem, kernelInst-&amp;gt;processor)&lt;br&gt;__clCmdLoadSingleHWState(states, gcregPSInstructionRegAddrs, physical)&lt;br&gt;&lt;br&gt;&lt;span style=&quot;background-color: rgb(230, 230, 230);&quot;&gt;//NN相关&lt;/span&gt;&lt;/div&gt;&lt;div&gt;clfTCBasicConfig(cmdBuffer, kernelInst)&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;//Load State 配置&lt;/div&gt;&lt;div&gt;AQPixelShaderInputControlRegAddrs&amp;nbsp;&lt;br&gt;AQPixelShaderTemporaryRegisterControlRegAddrs&lt;/div&gt;&lt;div&gt;AQPixelShaderControlRegAddrs&lt;br&gt;gcregVSThrottleRegAddrs ...&lt;br&gt;&lt;/div&gt;&lt;div&gt;gcregVSInstructionPrefetchRegAddrs ...&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;background-color: rgb(255, 229, 153);&quot;&gt;//???&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;background-color: rgb(255, 229, 153);&quot;&gt;_clCmdLoadSingleHWState(states, gcregTWTriggerRegAddrs, 0xBADABEEB)&lt;/span&gt;&lt;/div&gt;&lt;div&gt;AQFlushRegAddrs&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;background-color: rgb(255, 229, 153);&quot;&gt;//Semaphare STALL&lt;/span&gt;&lt;/div&gt;&lt;div&gt;__clCmdLoadSingleHWState(states, AQSemaphoreRegAddrs, semaphoreStall);&lt;br&gt;__clCmdLoadSignleFECommand(states, STALL, semaphoreStall);&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;background-color: rgb(255, 229, 153);&quot;&gt;//通过semaphore同步&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;background-color: rgb(255, 229, 153);&quot;&gt;MultiGPUSync(cmdBuffer)&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;background-color: rgb(255, 255, 204);&quot;&gt;//Invalid ICache&lt;/span&gt;&lt;/div&gt;&lt;div&gt;__clCmdLoadSingleHWState(states, gcregSHIcacheInvalidateRegAddrs, ...)&lt;/div&gt;" vertex="1">
          <mxGeometry height="482" width="530" y="78" as="geometry" />
        </mxCell>
        <mxCell id="4z17Cn_j7c4BS6MCMvL9-35" edge="1" parent="1" source="4z17Cn_j7c4BS6MCMvL9-22" style="html=1;verticalAlign=bottom;endArrow=block;curved=0;rounded=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;exitX=1;exitY=0.5;exitDx=0;exitDy=0;" target="4z17Cn_j7c4BS6MCMvL9-34" value="dispatch">
          <mxGeometry relative="1" width="80" as="geometry">
            <mxPoint x="1061" y="1858" as="sourcePoint" />
            <mxPoint x="1258" y="1626" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="4z17Cn_j7c4BS6MCMvL9-36" parent="1" style="swimlane;fontStyle=1;align=center;verticalAlign=top;childLayout=stackLayout;horizontal=1;startSize=26;horizontalStack=0;resizeParent=1;resizeParentMax=0;resizeLast=0;collapsible=1;marginBottom=0;whiteSpace=wrap;html=1;" value="hal.cpp" vertex="1">
          <mxGeometry height="190" width="530" x="1220" y="2491" as="geometry" />
        </mxCell>
        <mxCell id="4z17Cn_j7c4BS6MCMvL9-37" parent="4z17Cn_j7c4BS6MCMvL9-36" style="text;strokeColor=#666666;fillColor=#f5f5f5;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;html=1;fontColor=#333333;" value="&lt;b&gt;addCmdToQueue(halQueue_PTR queue, cmdBuffer_PTR cmdBuffer)&lt;/b&gt;" vertex="1">
          <mxGeometry height="26" width="530" y="26" as="geometry" />
        </mxCell>
        <mxCell id="4z17Cn_j7c4BS6MCMvL9-38" parent="4z17Cn_j7c4BS6MCMvL9-36" style="line;strokeWidth=1;fillColor=none;align=left;verticalAlign=middle;spacingTop=-1;spacingLeft=3;spacingRight=3;rotatable=0;labelPosition=right;points=[];portConstraint=eastwest;strokeColor=inherit;" value="" vertex="1">
          <mxGeometry height="8" width="530" y="52" as="geometry" />
        </mxCell>
        <mxCell id="4z17Cn_j7c4BS6MCMvL9-39" parent="4z17Cn_j7c4BS6MCMvL9-36" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;html=1;" value="&lt;b&gt;updateHalqueueFence&lt;/b&gt;(queue, queue-&amp;gt;processor, cmdBuffer)&lt;br&gt;&amp;nbsp; &amp;nbsp; --&amp;gt; queue-&amp;gt;halFence-&amp;gt;expectedVal = cmdBuffer-&amp;gt;helper.index; &lt;span style=&quot;background-color: rgb(255, 255, 204);&quot;&gt;// gCmdIdx++ 初始化&lt;/span&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; addr = getFenceGPULogical(queue-&amp;gt;halFence, processor)&amp;nbsp;&lt;br&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; --&amp;gt; fence-&amp;gt;node-&amp;gt;gpuLogical + fence-&amp;gt;offsetInBytes&amp;nbsp;&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &lt;span style=&quot;background-color: rgb(255, 153, 153);&quot;&gt;&lt;b&gt;clfSendFenceWithEngine&lt;/b&gt;(cmdBuffer, fence-&amp;gt;expectedVal, addr, 0)&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;background-color: rgb(255, 255, 204);&quot;&gt;//把cmdBuffer 挂载到queue-&amp;gt;commandQueue上面&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;os_queue_append&lt;/b&gt;(queue-&amp;gt;commandQueue, cmdBuffer)&lt;/div&gt;" vertex="1">
          <mxGeometry height="130" width="530" y="60" as="geometry" />
        </mxCell>
        <mxCell id="4z17Cn_j7c4BS6MCMvL9-40" edge="1" parent="1" source="4z17Cn_j7c4BS6MCMvL9-22" style="html=1;verticalAlign=bottom;endArrow=block;curved=0;rounded=0;entryX=0;entryY=0;entryDx=0;entryDy=0;exitX=0.997;exitY=0.824;exitDx=0;exitDy=0;exitPerimeter=0;" target="4z17Cn_j7c4BS6MCMvL9-36" value="dispatch">
          <mxGeometry relative="1" width="80" as="geometry">
            <mxPoint x="955" y="2310" as="sourcePoint" />
            <mxPoint x="1117" y="2533" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="4z17Cn_j7c4BS6MCMvL9-41" parent="1" style="swimlane;fontStyle=1;align=center;verticalAlign=top;childLayout=stackLayout;horizontal=1;startSize=26;horizontalStack=0;resizeParent=1;resizeParentMax=0;resizeLast=0;collapsible=1;marginBottom=0;whiteSpace=wrap;html=1;" value="chip.cpp" vertex="1">
          <mxGeometry height="450" width="690" x="1890" y="2510" as="geometry" />
        </mxCell>
        <mxCell id="4z17Cn_j7c4BS6MCMvL9-42" parent="4z17Cn_j7c4BS6MCMvL9-41" style="text;strokeColor=#666666;fillColor=#f5f5f5;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;html=1;fontColor=#333333;" value="&lt;b&gt;clfSendFenceWithEngine(cmdBuffer_PTR cmdBuffer, uint64_t data, devAddress_t dstAddress, int32_t engine)&lt;br&gt;&lt;/b&gt;&lt;span style=&quot;background-color: rgb(230, 230, 230);&quot;&gt;// data 就是expectedVal,&amp;nbsp; &lt;br&gt;// dstAddress是GPU看到的halFence_PTR地址&lt;br&gt;// engine ??&lt;/span&gt;" vertex="1">
          <mxGeometry height="74" width="690" y="26" as="geometry" />
        </mxCell>
        <mxCell id="4z17Cn_j7c4BS6MCMvL9-43" parent="4z17Cn_j7c4BS6MCMvL9-41" style="line;strokeWidth=1;fillColor=none;align=left;verticalAlign=middle;spacingTop=-1;spacingLeft=3;spacingRight=3;rotatable=0;labelPosition=right;points=[];portConstraint=eastwest;strokeColor=inherit;" value="" vertex="1">
          <mxGeometry height="8" width="690" y="100" as="geometry" />
        </mxCell>
        <mxCell id="4z17Cn_j7c4BS6MCMvL9-44" parent="4z17Cn_j7c4BS6MCMvL9-41" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;html=1;" value="dataL = data &amp;amp; 0xFFFFFFFF&lt;div&gt;dataH = (data&amp;gt;&amp;gt;32) &amp;amp;0xFFFFFFFF&lt;br&gt;&lt;br&gt;dstAddressHigh = devADDRESS_HIGH(dstAddress)&lt;br&gt;dstAddressLow&amp;nbsp; = devADDRESS_LOW(dstAddress)&lt;br&gt;&lt;br&gt;if(engine == gcvENGINE_BLT) {&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; ...&lt;/div&gt;&lt;div&gt;} else {&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; if (hasBlt) {&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;background-color: rgb(255, 229, 153);&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; //Semaphore 配置???&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;background-color: rgb(255, 229, 153);&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; __clCmdLoadSingleHWState(states, gcregBltGeneralControlRegAddrs, LOCK)&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;background-color: rgb(255, 229, 153);&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;&amp;nbsp;__clCmdLoadSingleHWState(states, AQSemaphoreRegAddrs, semaphoreStall)&lt;br&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; __clCmdLoadSingleFECommand(states, STALL, semaphoreStall)&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;background-color: rgb(255, 229, 153);&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; __clCmdLoadSingleHWState(states, gcregBltGeneralControlRegAddrs, UNLOCK)&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; } else { ...&amp;nbsp;&lt;span style=&quot;background-color: initial;&quot;&gt;}&lt;/span&gt;&lt;/div&gt;&lt;div&gt;}&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;background-color: rgb(255, 255, 204);&quot;&gt;//添加Fence cmd&lt;/span&gt;&lt;/div&gt;&lt;div&gt;__clCmdLoadSingleHWState(states, gcregFenceAddressRegAddrs, dstAddressLow)&lt;br&gt;__clCmdLoadSingleHWState(states, gcregFenceDataHighRegAddrs, dataH)&lt;/div&gt;&lt;div&gt;__clCmdLoadSingleHWState(states, gcregFenceDataRegAddrs, dataL)&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;br&gt;&lt;/div&gt;" vertex="1">
          <mxGeometry height="342" width="690" y="108" as="geometry" />
        </mxCell>
        <mxCell id="4z17Cn_j7c4BS6MCMvL9-45" edge="1" parent="1" source="4z17Cn_j7c4BS6MCMvL9-37" style="html=1;verticalAlign=bottom;endArrow=block;curved=0;rounded=0;entryX=-0.003;entryY=0.038;entryDx=0;entryDy=0;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryPerimeter=0;" target="4z17Cn_j7c4BS6MCMvL9-41" value="dispatch">
          <mxGeometry relative="1" width="80" as="geometry">
            <mxPoint x="3210" y="2565" as="sourcePoint" />
            <mxPoint x="3369" y="3000" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="4z17Cn_j7c4BS6MCMvL9-46" parent="1" style="swimlane;fontStyle=1;align=center;verticalAlign=top;childLayout=stackLayout;horizontal=1;startSize=26;horizontalStack=0;resizeParent=1;resizeParentMax=0;resizeLast=0;collapsible=1;marginBottom=0;whiteSpace=wrap;html=1;" value="queue_sched.cpp" vertex="1">
          <mxGeometry height="236" width="340" x="3680" y="770" as="geometry" />
        </mxCell>
        <mxCell id="4z17Cn_j7c4BS6MCMvL9-47" parent="4z17Cn_j7c4BS6MCMvL9-46" style="text;strokeColor=#666666;fillColor=#f5f5f5;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;html=1;fontColor=#333333;" value="&lt;b&gt;simple_round_robin(void* p)&lt;/b&gt;" vertex="1">
          <mxGeometry height="26" width="340" y="26" as="geometry" />
        </mxCell>
        <mxCell id="4z17Cn_j7c4BS6MCMvL9-48" parent="4z17Cn_j7c4BS6MCMvL9-46" style="line;strokeWidth=1;fillColor=none;align=left;verticalAlign=middle;spacingTop=-1;spacingLeft=3;spacingRight=3;rotatable=0;labelPosition=right;points=[];portConstraint=eastwest;strokeColor=inherit;" value="" vertex="1">
          <mxGeometry height="8" width="340" y="52" as="geometry" />
        </mxCell>
        <mxCell id="4z17Cn_j7c4BS6MCMvL9-49" parent="4z17Cn_j7c4BS6MCMvL9-46" style="text;strokeColor=none;fillColor=default;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;html=1;" value="&lt;div&gt;while(1)&lt;/div&gt;&lt;div&gt;{&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; cmd = &lt;b&gt;os_queue_head&lt;/b&gt;(q-&amp;gt;commandQueue)&lt;br&gt;&lt;br&gt;&amp;nbsp; &amp;nbsp; &lt;b&gt;commitCmdBuffer&lt;/b&gt;(cmd, &amp;amp;commitInfo)&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; &lt;b&gt;releaseCommandBuffer&lt;/b&gt;(cmd)&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; &lt;b&gt;os_queue_pop_head&lt;/b&gt;(q-&amp;gt;commandQueue)&lt;/div&gt;&lt;div&gt;}&lt;/div&gt;" vertex="1">
          <mxGeometry height="150" width="340" y="60" as="geometry" />
        </mxCell>
        <mxCell id="4z17Cn_j7c4BS6MCMvL9-50" parent="4z17Cn_j7c4BS6MCMvL9-46" style="text;strokeColor=none;fillColor=default;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;html=1;" value="&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;" vertex="1">
          <mxGeometry height="26" width="340" y="210" as="geometry" />
        </mxCell>
        <mxCell id="4z17Cn_j7c4BS6MCMvL9-51" parent="1" style="swimlane;fontStyle=1;align=center;verticalAlign=top;childLayout=stackLayout;horizontal=1;startSize=26;horizontalStack=0;resizeParent=1;resizeParentMax=0;resizeLast=0;collapsible=1;marginBottom=0;whiteSpace=wrap;html=1;" value="hal.cpp" vertex="1">
          <mxGeometry height="924" width="690" x="3500" y="1086" as="geometry" />
        </mxCell>
        <mxCell id="4z17Cn_j7c4BS6MCMvL9-52" parent="4z17Cn_j7c4BS6MCMvL9-51" style="text;strokeColor=#666666;fillColor=#f5f5f5;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;html=1;fontColor=#333333;" value="&lt;b&gt;commitCmdBuffer(cmdBuffer_PTR cmd, commitInfo_PTR info)&lt;/b&gt;" vertex="1">
          <mxGeometry height="24" width="690" y="26" as="geometry" />
        </mxCell>
        <mxCell id="4z17Cn_j7c4BS6MCMvL9-53" parent="4z17Cn_j7c4BS6MCMvL9-51" style="line;strokeWidth=1;fillColor=none;align=left;verticalAlign=middle;spacingTop=-1;spacingLeft=3;spacingRight=3;rotatable=0;labelPosition=right;points=[];portConstraint=eastwest;strokeColor=inherit;" value="" vertex="1">
          <mxGeometry height="8" width="690" y="50" as="geometry" />
        </mxCell>
        <mxCell id="4z17Cn_j7c4BS6MCMvL9-54" parent="4z17Cn_j7c4BS6MCMvL9-51" style="text;strokeColor=default;fillColor=default;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;html=1;dashed=1;" value="gcsHAL_INTERFACE iface = { &lt;font color=&quot;#ff3333&quot;&gt;gcvHAL_COMMIT&lt;/font&gt;}&amp;nbsp;&lt;div&gt;gcsHAL_SUBCOMMIT subCommit[gcvCORE_COUNT+1] = {{0}}&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;background-color: rgb(151, 208, 119);&quot;&gt;offset = processor-&amp;gt;commandBufferOffset&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;background-color: rgb(255, 153, 153);&quot;&gt;//256&lt;/span&gt;&lt;/div&gt;&lt;div&gt;cmdTailSize = CMD_reservedTailSize&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;//128&amp;nbsp; 8 * CORE_MAX_COUNT&lt;/div&gt;&lt;div&gt;cmdCount = getCommandCount(cmd);&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;//162 host 已经准备的cmd&lt;/div&gt;&lt;div&gt;cmdSize&amp;nbsp; &amp;nbsp;= cmdCount*4 + CMD_reservedTailSize + CMD_reservedHeadSize //808&lt;br&gt;cmdSize = ALIGN_NP2(cmdSize, 64)&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;//832&lt;br&gt;cmdTailSize = cmdSize - cmdCount*4 - CMD_reservedHeadSize&amp;nbsp; &amp;nbsp;//152&lt;br&gt;cmdCount = cmdSize/4&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;//208&lt;br&gt;&lt;br&gt;&lt;span style=&quot;background-color: rgb(230, 230, 230);&quot;&gt;//之后还会align cmdSize到64再重新计算cmdTailSize&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;background-color: rgb(230, 230, 230);&quot;&gt;//计算当前cmdCount, 再设置 cmdIdx&lt;/span&gt;&lt;/div&gt;&lt;div&gt;commitIdx = processor-&amp;gt;commitCmdIdx&lt;/div&gt;&lt;div&gt;cmdIdx = commitIdx + totalCount&lt;br&gt;&lt;span style=&quot;background-color: rgb(255, 153, 153);&quot;&gt;processor-&amp;gt;commitCmdIdx = cmdIdx&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;background-color: rgb(255, 255, 204);&quot;&gt;//准备拷贝cmdBuffer_PTR中的cmd到 subCommit中&lt;/span&gt;&lt;/div&gt;&lt;div&gt;readIdx = processor-&amp;gt;devReadCmdIdx&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;background-color: rgb(151, 208, 119);&quot;&gt;subCommit[i].commandBuffer.startOffset = offset;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;//256&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;background-color: rgb(151, 208, 119);&quot;&gt;logical = getCPUAddr(processor-&amp;gt;commandBufferPool, processor) + offset; // cpu_logical&amp;nbsp; 55AD 21F6 3A00&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;background-color: rgb(151, 208, 119);&quot;&gt;dst = logical + CMD_reservedHeadSize;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;// dst&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;55AD 21F6 3A20&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;background-color: rgb(255, 255, 204);&quot;&gt;//拷贝host准备的cmd数据到 commandBufferPool当中&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;background-color: rgb(151, 208, 119);&quot;&gt;memcpy(dst, cmd-&amp;gt;cmdBase, getCommandCount(cmd)*4)&lt;/span&gt;&lt;/div&gt;&lt;div&gt;offset+= cmdSize&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;iface.u.Commit.shared = !bDuplicate;&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;" vertex="1">
          <mxGeometry height="422" width="690" y="58" as="geometry" />
        </mxCell>
        <mxCell id="4z17Cn_j7c4BS6MCMvL9-55" parent="4z17Cn_j7c4BS6MCMvL9-51" style="text;strokeColor=default;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;html=1;dashed=1;" value="for ( int i = 0; i &amp;lt; coreCount; i++) {" vertex="1">
          <mxGeometry height="26" width="690" y="480" as="geometry" />
        </mxCell>
        <mxCell id="4z17Cn_j7c4BS6MCMvL9-56" parent="4z17Cn_j7c4BS6MCMvL9-51" style="text;strokeColor=default;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;html=1;dashed=1;" value="&lt;div&gt;&lt;b&gt;&lt;font style=&quot;font-size: 24px; background-color: rgb(255, 153, 153);&quot;&gt;&amp;nbsp; //此处 修改为 subCommit[i].context = 0;&lt;/font&gt;&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;background-color: rgb(204, 255, 255);&quot;&gt;&amp;nbsp; &amp;nbsp; subCommit[i].context = processor-&amp;gt;context[i]&amp;nbsp; //此处的context[i] 就是context db 的id&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;.delta =0,&amp;nbsp; .queue = 0,&amp;nbsp;&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;.commandBuffer.address = getDeviceAddr(processor-&amp;gt;commandBufferPool. processor)&amp;nbsp;&amp;nbsp;&lt;span style=&quot;background-color: rgb(151, 208, 119);&quot;&gt;//FF7F E000&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;.commandBuffer.logical&amp;nbsp; &amp;nbsp; = getCPUAddr(processor-&amp;gt;commandBufferPool, processor)&amp;nbsp; &amp;nbsp; &amp;nbsp;&lt;span style=&quot;background-color: rgb(151, 208, 119);&quot;&gt;//55AD 21F6 3900&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;.commandBuffer.size&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; = cmdSize&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;&lt;span style=&quot;background-color: rgb(151, 208, 119);&quot;&gt;//832&lt;/span&gt;&lt;br&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;.commandBuffer.reservedHead = CMD_reservedHeadSize&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;&amp;nbsp;&lt;span style=&quot;background-color: rgb(151, 208, 119);&quot;&gt;//32&lt;/span&gt;&lt;br&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;.commandBuffer.reservedTail = cmdTailSize&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;&amp;nbsp;&lt;span style=&quot;background-color: rgb(151, 208, 119);&quot;&gt;//152&lt;/span&gt;&lt;br&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;.commandBuffer.videoMemNode = processor-&amp;gt;commandBufferPool-&amp;gt;handle&lt;br&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;.commandBuffer.entryPipe = gcvPIPE_3D , exitPipe = gcvPIPE_3D&lt;br&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;.commandBuffer.exitIndex =&amp;nbsp;&lt;span style=&quot;background-color: rgb(255, 229, 153);&quot;&gt;bDuplicate&amp;nbsp;&lt;/span&gt;? 0 : 1;&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;.commandBuffer.priority = 0,&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;.commandBuffer.&lt;span style=&quot;background-color: rgb(255, 229, 153);&quot;&gt;channelId&amp;nbsp;&lt;/span&gt;= 1,&lt;br&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;.next = subCommit + i + 1&lt;/div&gt;" vertex="1">
          <mxGeometry height="234" width="690" y="506" as="geometry" />
        </mxCell>
        <mxCell id="4z17Cn_j7c4BS6MCMvL9-57" parent="4z17Cn_j7c4BS6MCMvL9-51" style="text;strokeColor=default;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;html=1;dashed=1;" value="}" vertex="1">
          <mxGeometry height="26" width="690" y="740" as="geometry" />
        </mxCell>
        <mxCell id="4z17Cn_j7c4BS6MCMvL9-58" parent="4z17Cn_j7c4BS6MCMvL9-51" style="text;strokeColor=default;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;html=1;dashed=1;" value="&lt;div&gt;&lt;span style=&quot;background-color: rgb(151, 208, 119);&quot;&gt;iface.u.Commit.subCommit = subCommit[0]&lt;/span&gt;&lt;/div&gt;&lt;div&gt;iface.u.Commit.broCoreMask =&amp;nbsp;&lt;span style=&quot;background-color: rgb(255, 229, 153);&quot;&gt;broCoreMask&lt;/span&gt;&lt;br&gt;iface.cmmitMutex = false&lt;/div&gt;" vertex="1">
          <mxGeometry height="64" width="690" y="766" as="geometry" />
        </mxCell>
        <mxCell id="4z17Cn_j7c4BS6MCMvL9-59" parent="4z17Cn_j7c4BS6MCMvL9-51" style="text;strokeColor=default;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;html=1;dashed=1;" value="&lt;div&gt;&lt;b&gt;KmdIoCtl(processor-&amp;gt;kmdHandle, IOCTL_GCHAL_INTERFACE, &amp;amp;iface, sizeof(iface) .....)&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;background-color: rgb(255, 255, 204);&quot;&gt;//iface.u.Commit.contextSwitched) 可以查询是否有context切换&lt;/span&gt;&lt;/div&gt;" vertex="1">
          <mxGeometry height="68" width="690" y="830" as="geometry" />
        </mxCell>
        <mxCell id="4z17Cn_j7c4BS6MCMvL9-60" parent="4z17Cn_j7c4BS6MCMvL9-51" style="text;strokeColor=none;fillColor=default;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;html=1;" value="&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;" vertex="1">
          <mxGeometry height="26" width="690" y="898" as="geometry" />
        </mxCell>
        <mxCell id="4z17Cn_j7c4BS6MCMvL9-61" edge="1" parent="1" source="4z17Cn_j7c4BS6MCMvL9-50" style="html=1;verticalAlign=bottom;endArrow=block;curved=0;rounded=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;exitX=0.49;exitY=1.023;exitDx=0;exitDy=0;exitPerimeter=0;" target="4z17Cn_j7c4BS6MCMvL9-51" value="dispatch">
          <mxGeometry relative="1" width="80" as="geometry">
            <mxPoint x="3890" y="693" as="sourcePoint" />
            <mxPoint x="4010" y="476" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="4z17Cn_j7c4BS6MCMvL9-62" parent="1" style="html=1;whiteSpace=wrap;fillColor=#fff2cc;strokeColor=#d6b656;align=left;verticalAlign=top;" value="createCommandBufferPool(processor_PTR processor)&lt;br&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;processor-&amp;gt;commandBufferOffset = 256&lt;/div&gt;" vertex="1">
          <mxGeometry height="60" width="370" x="3080" y="1135" as="geometry" />
        </mxCell>
        <mxCell id="4z17Cn_j7c4BS6MCMvL9-63" edge="1" parent="1" source="4z17Cn_j7c4BS6MCMvL9-62" style="endArrow=classic;html=1;rounded=0;entryX=-0.005;entryY=0.087;entryDx=0;entryDy=0;entryPerimeter=0;exitX=1;exitY=1;exitDx=0;exitDy=0;" target="4z17Cn_j7c4BS6MCMvL9-54" value="">
          <mxGeometry height="50" relative="1" width="50" as="geometry">
            <mxPoint x="3350" y="1215" as="sourcePoint" />
            <mxPoint x="3400" y="1165" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="4z17Cn_j7c4BS6MCMvL9-64" parent="1" style="html=1;whiteSpace=wrap;fillColor=#fff2cc;strokeColor=#d6b656;align=left;verticalAlign=top;" value="&lt;div&gt;&lt;b&gt;iniDriver()-&amp;gt;createProcessor()--&amp;gt;attachToKMD&lt;/b&gt;&lt;/div&gt;&lt;div&gt;--&amp;gt; iface = {gcvHAL_ATTACH}&lt;br&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; for (int i=0; i&amp;lt;processor-&amp;gt;coreCount; i++) {&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;&lt;span style=&quot;background-color: initial;&quot;&gt;KmdIoCtrl(...)&lt;br&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;&lt;/span&gt;&lt;span style=&quot;background-color: rgb(204, 255, 255);&quot;&gt;processor-&amp;gt;context[i] = iface.u.Attach.context (一个数字ID)&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;background-color: initial;&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;...&lt;br&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;processor-&amp;gt;contextBytes = iface.u.Attach.bytes&lt;br&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;processor-&amp;gt;contextLogical[2*i + 0] = iface.u.Attach.logicals[0]&lt;br&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;processor-&amp;gt;contextLogical[2*i + 0] = iface.u.Attach.logicals[1]&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; }&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp;&amp;nbsp;&lt;br&gt;&lt;br&gt;&amp;nbsp; &amp;nbsp;&amp;nbsp;&lt;/div&gt;" vertex="1">
          <mxGeometry height="160" width="370" x="3080" y="1350" as="geometry" />
        </mxCell>
        <mxCell id="4z17Cn_j7c4BS6MCMvL9-65" edge="1" parent="1" source="4z17Cn_j7c4BS6MCMvL9-64" style="endArrow=classic;html=1;rounded=0;entryX=-0.001;entryY=0.113;entryDx=0;entryDy=0;entryPerimeter=0;exitX=1;exitY=1;exitDx=0;exitDy=0;" target="4z17Cn_j7c4BS6MCMvL9-56" value="">
          <mxGeometry height="50" relative="1" width="50" as="geometry">
            <mxPoint x="3450" y="1160" as="sourcePoint" />
            <mxPoint x="3507" y="1212" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="4z17Cn_j7c4BS6MCMvL9-66" parent="1" style="rounded=0;whiteSpace=wrap;html=1;" value="ResvHead&lt;br&gt;32" vertex="1">
          <mxGeometry height="80" width="100" x="3550" y="2190" as="geometry" />
        </mxCell>
        <mxCell id="4z17Cn_j7c4BS6MCMvL9-67" parent="1" style="rounded=0;whiteSpace=wrap;html=1;" value="StartOffset&lt;br&gt;256" vertex="1">
          <mxGeometry height="80" width="110" x="3440" y="2190" as="geometry" />
        </mxCell>
        <mxCell id="4z17Cn_j7c4BS6MCMvL9-68" parent="1" style="rounded=0;whiteSpace=wrap;html=1;verticalAlign=top;align=center;" value="832" vertex="1">
          <mxGeometry height="80" width="410" x="3650" y="2190" as="geometry" />
        </mxCell>
        <mxCell id="4z17Cn_j7c4BS6MCMvL9-69" parent="1" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#d5e8d4;strokeColor=#82b366;" value="User Commands&lt;br&gt;648 (162*4)" vertex="1">
          <mxGeometry height="40" width="260" x="3650" y="2230" as="geometry" />
        </mxCell>
        <mxCell id="4z17Cn_j7c4BS6MCMvL9-70" parent="1" style="rounded=0;whiteSpace=wrap;html=1;" value="ResvTail&lt;br&gt;128-&amp;gt;152" vertex="1">
          <mxGeometry height="40" width="130" x="3910" y="2230" as="geometry" />
        </mxCell>
        <mxCell id="4z17Cn_j7c4BS6MCMvL9-71" parent="1" style="rounded=0;whiteSpace=wrap;html=1;" value="&lt;span style=&quot;font-weight: 700;&quot;&gt;Command Buffer&lt;/span&gt;&lt;br style=&quot;font-weight: 700;&quot;&gt;&lt;span style=&quot;font-weight: 700;&quot;&gt;Next&lt;/span&gt;" vertex="1">
          <mxGeometry height="80" width="120" x="4060" y="2190" as="geometry" />
        </mxCell>
        <mxCell id="4z17Cn_j7c4BS6MCMvL9-72" edge="1" parent="1" source="4z17Cn_j7c4BS6MCMvL9-60" style="html=1;verticalAlign=bottom;endArrow=block;curved=0;rounded=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;exitX=0.512;exitY=1.072;exitDx=0;exitDy=0;exitPerimeter=0;" target="4z17Cn_j7c4BS6MCMvL9-68" value="USER Command Buffer 的创建">
          <mxGeometry relative="1" width="80" as="geometry">
            <mxPoint x="3857" y="1017" as="sourcePoint" />
            <mxPoint x="3855" y="1096" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="4z17Cn_j7c4BS6MCMvL9-73" edge="1" parent="1" source="4z17Cn_j7c4BS6MCMvL9-44" style="endArrow=classic;startArrow=classic;html=1;rounded=0;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;strokeWidth=8;dashed=1;" target="4z17Cn_j7c4BS6MCMvL9-49" value="">
          <mxGeometry height="50" relative="1" width="50" as="geometry">
            <Array as="points">
              <mxPoint x="2810" y="2789" />
              <mxPoint x="2820" y="905" />
            </Array>
            <mxPoint x="2820" y="2180" as="sourcePoint" />
            <mxPoint x="2870" y="2130" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="4z17Cn_j7c4BS6MCMvL9-74" parent="1" style="swimlane;fontStyle=0;childLayout=stackLayout;horizontal=1;startSize=26;fillColor=none;horizontalStack=0;resizeParent=1;resizeParentMax=0;resizeLast=0;collapsible=1;marginBottom=0;whiteSpace=wrap;html=1;" value="&lt;span style=&quot;text-align: left;&quot;&gt;drv_api.cpp&lt;/span&gt;" vertex="1">
          <mxGeometry height="656" width="630" x="-320" y="4070" as="geometry" />
        </mxCell>
        <mxCell id="4z17Cn_j7c4BS6MCMvL9-75" parent="4z17Cn_j7c4BS6MCMvL9-74" style="text;strokeColor=#666666;fillColor=#f5f5f5;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;html=1;fontColor=#333333;" value="&lt;div&gt;&lt;b&gt;drvLaunchKernelEx_common(const CUlaunchConfig* config, &lt;br&gt;CUfunction f, &lt;br&gt;void** kernelParams, &lt;br&gt;void** extra, bool ptsz, bool packagedParam, bool cooperative):&lt;/b&gt;&lt;br&gt;&amp;nbsp; &amp;nbsp; kernelParams: 就是user传入的args,&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; extra: ???&amp;nbsp;&amp;nbsp;&lt;br&gt;&amp;nbsp; &amp;nbsp; ptsz: 是否是perThread Stream&lt;br&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;" vertex="1">
          <mxGeometry height="124" width="630" y="26" as="geometry" />
        </mxCell>
        <mxCell id="4z17Cn_j7c4BS6MCMvL9-76" parent="4z17Cn_j7c4BS6MCMvL9-74" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;html=1;" value="&lt;div&gt;&lt;span style=&quot;background-color: rgb(255, 255, 204);&quot;&gt;//获取CUcontext&lt;/span&gt;&lt;/div&gt;&lt;span style=&quot;background-color: rgb(255, 255, 204);&quot;&gt;&lt;div&gt;ctx = getCurrentContext()&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;background-color: rgb(255, 255, 204);&quot;&gt;&lt;br&gt;&lt;/span&gt;&lt;/div&gt;//获取gridDimX/Y/Z, blockDimX/Y/Z, sharedMemBytes等配置信息&lt;br&gt;&lt;/span&gt;gridDimX = config-&amp;gt;gridDimX&lt;br&gt;...&lt;br&gt;sharedMemBytes = config-&amp;gt;sharedMemBytes&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;background-color: rgb(255, 255, 204);&quot;&gt;//获取CUStream&lt;/span&gt;&lt;/div&gt;&lt;div&gt;hStream = getCurrentStream(ctx, stream, perThread)&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;background-color: rgb(255, 255, 204);&quot;&gt;//根据 f-&amp;gt;kernelInfo-&amp;gt;argCount 创建kernelArgData_t&lt;/span&gt;&lt;/div&gt;&lt;div&gt;kernelArgData_t* argData = malloc(sizeof(kernelArgData_t)*argCount)&lt;/div&gt;&lt;div&gt;for (;;) {&lt;br&gt;&amp;nbsp; &amp;nbsp; kernelArgData_t data = argData + i;&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; kernelArg_t arg = &lt;font color=&quot;#ff3333&quot;&gt;f-&amp;gt;kernelInfo&lt;/font&gt;-&amp;gt;args + i;&lt;br&gt;&amp;nbsp; &amp;nbsp; data-&amp;gt;arg = arg&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; ... //&lt;/div&gt;&lt;div&gt;}&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;background-color: rgb(255, 255, 204);&quot;&gt;//准备 halQueue_t 与 halCommand_t&lt;/span&gt;&lt;br&gt;halQueue = getCurrentStream(ctx, hStream, false)-&amp;gt;halQueue &lt;span style=&quot;background-color: rgb(230, 230, 230);&quot;&gt;//此时 hStream是有效指针, 基本是直接返回&lt;/span&gt;&lt;br&gt;command = {&lt;font color=&quot;#ff3333&quot;&gt;COMMAND_KERNEL&lt;/font&gt;} &lt;span style=&quot;background-color: rgb(230, 230, 230);&quot;&gt;//设置command 为KERNEL(type 有COPY, WAIT, FENCE 等)&lt;/span&gt;&lt;br&gt;&lt;font color=&quot;#ff3333&quot;&gt;executeKrnelInfo_t&lt;/font&gt; *info = command.kernelInfo&lt;br&gt;info-&amp;gt;local[0] = blockDimX...; info-&amp;gt;gridDim[0] = gridDimX ...; info-&amp;gt;global[0]= gridDimX*info-&amp;gt;local[0] ...&lt;br&gt;info-&amp;gt;args = argData;&lt;/div&gt;&lt;div&gt;info-&amp;gt;kInfo= f-&amp;gt;kernelInfo;&lt;br&gt;info-&amp;gt;inst = f-&amp;gt;kernel&lt;/div&gt;&lt;div&gt;prepareExecInfo(info)&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;//调用&lt;/div&gt;&lt;div&gt;&lt;b style=&quot;background-color: rgb(151, 208, 119);&quot;&gt;launchCommand(halQueue, &amp;amp;command)&lt;/b&gt;&lt;/div&gt;" vertex="1">
          <mxGeometry height="480" width="630" y="150" as="geometry" />
        </mxCell>
        <mxCell id="4z17Cn_j7c4BS6MCMvL9-77" parent="4z17Cn_j7c4BS6MCMvL9-74" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;html=1;" value="&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;" vertex="1">
          <mxGeometry height="26" width="630" y="630" as="geometry" />
        </mxCell>
        <mxCell id="4z17Cn_j7c4BS6MCMvL9-82" parent="1" style="swimlane;fontStyle=1;align=center;verticalAlign=top;childLayout=stackLayout;horizontal=1;startSize=26;horizontalStack=0;resizeParent=1;resizeParentMax=0;resizeLast=0;collapsible=1;marginBottom=0;whiteSpace=wrap;html=1;" value="typedef struct _cuLinkOption&amp;nbsp;drvLinkOption_t&amp;nbsp;" vertex="1">
          <mxGeometry height="866" width="520" x="-1410" y="3280" as="geometry" />
        </mxCell>
        <mxCell id="4z17Cn_j7c4BS6MCMvL9-83" parent="4z17Cn_j7c4BS6MCMvL9-82" style="text;strokeColor=default;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;html=1;" value="unsigned int&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; maxRegisters;" vertex="1">
          <mxGeometry height="26" width="520" y="26" as="geometry" />
        </mxCell>
        <mxCell id="4z17Cn_j7c4BS6MCMvL9-116" parent="4z17Cn_j7c4BS6MCMvL9-82" style="text;strokeColor=default;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;html=1;" value="unsigned int&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; minThreadsPerBlock;" vertex="1">
          <mxGeometry height="26" width="520" y="52" as="geometry" />
        </mxCell>
        <mxCell id="4z17Cn_j7c4BS6MCMvL9-118" parent="4z17Cn_j7c4BS6MCMvL9-82" style="text;strokeColor=default;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;html=1;" value="float&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;*wallTime;" vertex="1">
          <mxGeometry height="26" width="520" y="78" as="geometry" />
        </mxCell>
        <mxCell id="4z17Cn_j7c4BS6MCMvL9-119" parent="4z17Cn_j7c4BS6MCMvL9-82" style="text;strokeColor=default;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;html=1;" value="char*&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;logBuffer;" vertex="1">
          <mxGeometry height="26" width="520" y="104" as="geometry" />
        </mxCell>
        <mxCell id="4z17Cn_j7c4BS6MCMvL9-117" parent="4z17Cn_j7c4BS6MCMvL9-82" style="text;strokeColor=default;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;html=1;" value="unsigned int&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; logBufferSize;" vertex="1">
          <mxGeometry height="26" width="520" y="130" as="geometry" />
        </mxCell>
        <mxCell id="4z17Cn_j7c4BS6MCMvL9-121" parent="4z17Cn_j7c4BS6MCMvL9-82" style="text;strokeColor=default;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;html=1;" value="char&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; *errLogBuffer;" vertex="1">
          <mxGeometry height="26" width="520" y="156" as="geometry" />
        </mxCell>
        <mxCell id="4z17Cn_j7c4BS6MCMvL9-120" parent="4z17Cn_j7c4BS6MCMvL9-82" style="text;strokeColor=default;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;html=1;" value="unsigned int&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; errLogBufferSize;" vertex="1">
          <mxGeometry height="26" width="520" y="182" as="geometry" />
        </mxCell>
        <mxCell id="4z17Cn_j7c4BS6MCMvL9-123" parent="4z17Cn_j7c4BS6MCMvL9-82" style="text;strokeColor=default;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;html=1;" value="unsigned int&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; optLevel;" vertex="1">
          <mxGeometry height="26" width="520" y="208" as="geometry" />
        </mxCell>
        <mxCell id="4z17Cn_j7c4BS6MCMvL9-122" parent="4z17Cn_j7c4BS6MCMvL9-82" style="text;strokeColor=default;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;html=1;" value="bool&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; targetFromCtx;" vertex="1">
          <mxGeometry height="26" width="520" y="234" as="geometry" />
        </mxCell>
        <mxCell id="4z17Cn_j7c4BS6MCMvL9-125" parent="4z17Cn_j7c4BS6MCMvL9-82" style="text;strokeColor=default;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;html=1;" value="CUjit_target&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; target;" vertex="1">
          <mxGeometry height="26" width="520" y="260" as="geometry" />
        </mxCell>
        <mxCell id="4z17Cn_j7c4BS6MCMvL9-124" parent="4z17Cn_j7c4BS6MCMvL9-82" style="text;strokeColor=default;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;html=1;" value="CUjit_fallback&amp;nbsp; &amp;nbsp; &amp;nbsp; fallbackStrategy;" vertex="1">
          <mxGeometry height="26" width="520" y="286" as="geometry" />
        </mxCell>
        <mxCell id="4z17Cn_j7c4BS6MCMvL9-126" parent="4z17Cn_j7c4BS6MCMvL9-82" style="text;strokeColor=default;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;html=1;" value="int&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;enableDebugInfo;" vertex="1">
          <mxGeometry height="26" width="520" y="312" as="geometry" />
        </mxCell>
        <mxCell id="4z17Cn_j7c4BS6MCMvL9-128" parent="4z17Cn_j7c4BS6MCMvL9-82" style="text;strokeColor=default;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;html=1;" value="int&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;logVerbose;" vertex="1">
          <mxGeometry height="26" width="520" y="338" as="geometry" />
        </mxCell>
        <mxCell id="4z17Cn_j7c4BS6MCMvL9-127" parent="4z17Cn_j7c4BS6MCMvL9-82" style="text;strokeColor=default;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;html=1;" value="int&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;enableLineInfo;" vertex="1">
          <mxGeometry height="26" width="520" y="364" as="geometry" />
        </mxCell>
        <mxCell id="4z17Cn_j7c4BS6MCMvL9-130" parent="4z17Cn_j7c4BS6MCMvL9-82" style="text;strokeColor=default;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;html=1;" value="CUjit_cacheMode&amp;nbsp; &amp;nbsp; &amp;nbsp;cacheMode;" vertex="1">
          <mxGeometry height="26" width="520" y="390" as="geometry" />
        </mxCell>
        <mxCell id="4z17Cn_j7c4BS6MCMvL9-129" parent="4z17Cn_j7c4BS6MCMvL9-82" style="text;strokeColor=default;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;html=1;" value="const char**&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; globalSymbolName;" vertex="1">
          <mxGeometry height="26" width="520" y="416" as="geometry" />
        </mxCell>
        <mxCell id="4z17Cn_j7c4BS6MCMvL9-131" parent="4z17Cn_j7c4BS6MCMvL9-82" style="text;strokeColor=default;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;html=1;" value="void**&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; globalSymbolAddr;" vertex="1">
          <mxGeometry height="26" width="520" y="442" as="geometry" />
        </mxCell>
        <mxCell id="4z17Cn_j7c4BS6MCMvL9-133" parent="4z17Cn_j7c4BS6MCMvL9-82" style="text;strokeColor=default;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;html=1;" value="unsigned int&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; globalSymbolCount;" vertex="1">
          <mxGeometry height="26" width="520" y="468" as="geometry" />
        </mxCell>
        <mxCell id="4z17Cn_j7c4BS6MCMvL9-132" parent="4z17Cn_j7c4BS6MCMvL9-82" style="text;strokeColor=default;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;html=1;" value="int&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;lto;" vertex="1">
          <mxGeometry height="26" width="520" y="494" as="geometry" />
        </mxCell>
        <mxCell id="4z17Cn_j7c4BS6MCMvL9-134" parent="4z17Cn_j7c4BS6MCMvL9-82" style="text;strokeColor=default;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;html=1;" value="int&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;ftz;" vertex="1">
          <mxGeometry height="26" width="520" y="520" as="geometry" />
        </mxCell>
        <mxCell id="4z17Cn_j7c4BS6MCMvL9-136" parent="4z17Cn_j7c4BS6MCMvL9-82" style="text;strokeColor=default;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;html=1;" value="int&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;precDiv;" vertex="1">
          <mxGeometry height="26" width="520" y="546" as="geometry" />
        </mxCell>
        <mxCell id="4z17Cn_j7c4BS6MCMvL9-135" parent="4z17Cn_j7c4BS6MCMvL9-82" style="text;strokeColor=default;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;html=1;" value="int&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;precSqrt;" vertex="1">
          <mxGeometry height="26" width="520" y="572" as="geometry" />
        </mxCell>
        <mxCell id="4z17Cn_j7c4BS6MCMvL9-138" parent="4z17Cn_j7c4BS6MCMvL9-82" style="text;strokeColor=default;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;html=1;" value="int&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;fma;" vertex="1">
          <mxGeometry height="26" width="520" y="598" as="geometry" />
        </mxCell>
        <mxCell id="4z17Cn_j7c4BS6MCMvL9-137" parent="4z17Cn_j7c4BS6MCMvL9-82" style="text;strokeColor=default;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;html=1;" value="const char**&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; referencedKernelNames;" vertex="1">
          <mxGeometry height="26" width="520" y="624" as="geometry" />
        </mxCell>
        <mxCell id="4z17Cn_j7c4BS6MCMvL9-139" parent="4z17Cn_j7c4BS6MCMvL9-82" style="text;strokeColor=default;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;html=1;" value="unsigned int&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; referencedKernelCount;" vertex="1">
          <mxGeometry height="26" width="520" y="650" as="geometry" />
        </mxCell>
        <mxCell id="4z17Cn_j7c4BS6MCMvL9-140" parent="4z17Cn_j7c4BS6MCMvL9-82" style="text;strokeColor=default;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;html=1;" value="const char**&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; referencedVarNames;" vertex="1">
          <mxGeometry height="26" width="520" y="676" as="geometry" />
        </mxCell>
        <mxCell id="4z17Cn_j7c4BS6MCMvL9-141" parent="4z17Cn_j7c4BS6MCMvL9-82" style="text;strokeColor=default;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;html=1;" value="unsigned int&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; referencedVarCount;" vertex="1">
          <mxGeometry height="26" width="520" y="702" as="geometry" />
        </mxCell>
        <mxCell id="4z17Cn_j7c4BS6MCMvL9-143" parent="4z17Cn_j7c4BS6MCMvL9-82" style="text;strokeColor=default;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;html=1;" value="int&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;optUnusedDeviceVar;" vertex="1">
          <mxGeometry height="26" width="520" y="728" as="geometry" />
        </mxCell>
        <mxCell id="4z17Cn_j7c4BS6MCMvL9-142" parent="4z17Cn_j7c4BS6MCMvL9-82" style="text;strokeColor=default;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;html=1;" value="int&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;pic;" vertex="1">
          <mxGeometry height="26" width="520" y="754" as="geometry" />
        </mxCell>
        <mxCell id="4z17Cn_j7c4BS6MCMvL9-144" parent="4z17Cn_j7c4BS6MCMvL9-82" style="text;strokeColor=default;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;html=1;" value="unsigned int&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; minCTAPerSM;" vertex="1">
          <mxGeometry height="26" width="520" y="780" as="geometry" />
        </mxCell>
        <mxCell id="4z17Cn_j7c4BS6MCMvL9-145" parent="4z17Cn_j7c4BS6MCMvL9-82" style="text;strokeColor=default;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;html=1;" value="int&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;maxThreadsPerBlock;" vertex="1">
          <mxGeometry height="26" width="520" y="806" as="geometry" />
        </mxCell>
        <mxCell id="4z17Cn_j7c4BS6MCMvL9-146" parent="4z17Cn_j7c4BS6MCMvL9-82" style="text;strokeColor=default;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;html=1;" value="int&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;overrideDirectiveValues;" vertex="1">
          <mxGeometry height="26" width="520" y="832" as="geometry" />
        </mxCell>
        <mxCell id="4z17Cn_j7c4BS6MCMvL9-84" parent="4z17Cn_j7c4BS6MCMvL9-82" style="line;strokeWidth=1;fillColor=none;align=left;verticalAlign=middle;spacingTop=-1;spacingLeft=3;spacingRight=3;rotatable=0;labelPosition=right;points=[];portConstraint=eastwest;strokeColor=inherit;" value="" vertex="1">
          <mxGeometry height="8" width="520" y="858" as="geometry" />
        </mxCell>
        <mxCell id="4z17Cn_j7c4BS6MCMvL9-86" parent="1" style="swimlane;fontStyle=1;align=center;verticalAlign=top;childLayout=stackLayout;horizontal=1;startSize=26;horizontalStack=0;resizeParent=1;resizeParentMax=0;resizeLast=0;collapsible=1;marginBottom=0;whiteSpace=wrap;html=1;" value="typedef struct CUmod_st&amp;nbsp; &amp;nbsp;&amp;nbsp;drvModule_t" vertex="1">
          <mxGeometry height="294" width="520" x="-1410" y="4210" as="geometry" />
        </mxCell>
        <mxCell id="4z17Cn_j7c4BS6MCMvL9-87" parent="4z17Cn_j7c4BS6MCMvL9-86" style="text;strokeColor=default;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;html=1;" value="baseObj_t&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;base;" vertex="1">
          <mxGeometry height="26" width="520" y="26" as="geometry" />
        </mxCell>
        <mxCell id="4z17Cn_j7c4BS6MCMvL9-107" parent="4z17Cn_j7c4BS6MCMvL9-86" style="text;strokeColor=default;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;html=1;" value="bool&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; fatBin;" vertex="1">
          <mxGeometry height="26" width="520" y="52" as="geometry" />
        </mxCell>
        <mxCell id="4z17Cn_j7c4BS6MCMvL9-109" parent="4z17Cn_j7c4BS6MCMvL9-86" style="text;strokeColor=default;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;html=1;" value="bool&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; freeDatabyVCC;" vertex="1">
          <mxGeometry height="26" width="520" y="78" as="geometry" />
        </mxCell>
        <mxCell id="4z17Cn_j7c4BS6MCMvL9-108" parent="4z17Cn_j7c4BS6MCMvL9-86" style="text;strokeColor=default;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;html=1;" value="unsigned char*&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; data;" vertex="1">
          <mxGeometry height="26" width="520" y="104" as="geometry" />
        </mxCell>
        <mxCell id="4z17Cn_j7c4BS6MCMvL9-110" parent="4z17Cn_j7c4BS6MCMvL9-86" style="text;strokeColor=default;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;html=1;" value="size_t&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; dataLen;" vertex="1">
          <mxGeometry height="26" width="520" y="130" as="geometry" />
        </mxCell>
        <mxCell id="4z17Cn_j7c4BS6MCMvL9-111" parent="4z17Cn_j7c4BS6MCMvL9-86" style="text;strokeColor=default;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;html=1;" value="CUcontext&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;ctx;" vertex="1">
          <mxGeometry height="26" width="520" y="156" as="geometry" />
        </mxCell>
        <mxCell id="4z17Cn_j7c4BS6MCMvL9-112" parent="4z17Cn_j7c4BS6MCMvL9-86" style="text;strokeColor=default;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;html=1;" value="programInst_PTR&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;program;" vertex="1">
          <mxGeometry height="26" width="520" y="182" as="geometry" />
        </mxCell>
        <mxCell id="4z17Cn_j7c4BS6MCMvL9-113" parent="4z17Cn_j7c4BS6MCMvL9-86" style="text;strokeColor=default;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;html=1;" value="std::map&amp;lt;std::string, CUfunction&amp;gt;*&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; functionMap;" vertex="1">
          <mxGeometry height="26" width="520" y="208" as="geometry" />
        </mxCell>
        <mxCell id="4z17Cn_j7c4BS6MCMvL9-114" parent="4z17Cn_j7c4BS6MCMvL9-86" style="text;strokeColor=default;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;html=1;" value="os_mtx_t&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; mtx;" vertex="1">
          <mxGeometry height="26" width="520" y="234" as="geometry" />
        </mxCell>
        <mxCell id="4z17Cn_j7c4BS6MCMvL9-115" parent="4z17Cn_j7c4BS6MCMvL9-86" style="text;strokeColor=default;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;html=1;" value="drvLinkOption_t&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;linkOpt;" vertex="1">
          <mxGeometry height="26" width="520" y="260" as="geometry" />
        </mxCell>
        <mxCell id="4z17Cn_j7c4BS6MCMvL9-88" parent="4z17Cn_j7c4BS6MCMvL9-86" style="line;strokeWidth=1;fillColor=none;align=left;verticalAlign=middle;spacingTop=-1;spacingLeft=3;spacingRight=3;rotatable=0;labelPosition=right;points=[];portConstraint=eastwest;strokeColor=inherit;" value="" vertex="1">
          <mxGeometry height="8" width="520" y="286" as="geometry" />
        </mxCell>
        <mxCell id="4z17Cn_j7c4BS6MCMvL9-90" parent="1" style="swimlane;fontStyle=1;align=center;verticalAlign=top;childLayout=stackLayout;horizontal=1;startSize=26;horizontalStack=0;resizeParent=1;resizeParentMax=0;resizeLast=0;collapsible=1;marginBottom=0;whiteSpace=wrap;html=1;" value="&lt;div&gt;typedef struct CUfunc_st&amp;nbsp;drvFunction_t;&lt;/div&gt;" vertex="1">
          <mxGeometry height="518" width="520" x="-1400" y="4700" as="geometry" />
        </mxCell>
        <mxCell id="4z17Cn_j7c4BS6MCMvL9-91" parent="4z17Cn_j7c4BS6MCMvL9-90" style="text;strokeColor=default;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;html=1;" value="&lt;div&gt;baseObj_t&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;base;&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;" vertex="1">
          <mxGeometry height="26" width="520" y="26" as="geometry" />
        </mxCell>
        <mxCell id="4z17Cn_j7c4BS6MCMvL9-94" parent="4z17Cn_j7c4BS6MCMvL9-90" style="text;strokeColor=default;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;html=1;" value="&lt;div&gt;&lt;div&gt;&amp;nbsp;char*&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; name;&lt;/div&gt;&lt;/div&gt;" vertex="1">
          <mxGeometry height="26" width="520" y="52" as="geometry" />
        </mxCell>
        <mxCell id="4z17Cn_j7c4BS6MCMvL9-95" parent="4z17Cn_j7c4BS6MCMvL9-90" style="text;strokeColor=default;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;html=1;" value="&lt;div&gt;&lt;div&gt;drvModule_t*&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; hmod;&lt;/div&gt;&lt;/div&gt;" vertex="1">
          <mxGeometry height="26" width="520" y="78" as="geometry" />
        </mxCell>
        <mxCell id="4z17Cn_j7c4BS6MCMvL9-96" parent="4z17Cn_j7c4BS6MCMvL9-90" style="text;strokeColor=default;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;html=1;" value="&lt;div&gt;&lt;div&gt;kernelInst_PTR&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; kernel;&lt;/div&gt;&lt;/div&gt;" vertex="1">
          <mxGeometry height="26" width="520" y="104" as="geometry" />
        </mxCell>
        <mxCell id="4z17Cn_j7c4BS6MCMvL9-97" parent="4z17Cn_j7c4BS6MCMvL9-90" style="text;strokeColor=default;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;html=1;" value="&lt;div&gt;&lt;div&gt;kernelInfo_t&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; *kernelInfo;&lt;/div&gt;&lt;/div&gt;" vertex="1">
          <mxGeometry height="26" width="520" y="130" as="geometry" />
        </mxCell>
        <mxCell id="4z17Cn_j7c4BS6MCMvL9-98" parent="4z17Cn_j7c4BS6MCMvL9-90" style="text;strokeColor=default;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;html=1;" value="&lt;div&gt;&lt;div&gt;CUlaunchConfig&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; *launchConfig;&lt;/div&gt;&lt;/div&gt;" vertex="1">
          <mxGeometry height="26" width="520" y="156" as="geometry" />
        </mxCell>
        <mxCell id="4z17Cn_j7c4BS6MCMvL9-99" parent="4z17Cn_j7c4BS6MCMvL9-90" style="text;strokeColor=default;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;html=1;" value="&lt;div&gt;&lt;div&gt;void*&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;kernelParams;&lt;/div&gt;&lt;/div&gt;" vertex="1">
          <mxGeometry height="26" width="520" y="182" as="geometry" />
        </mxCell>
        <mxCell id="4z17Cn_j7c4BS6MCMvL9-100" parent="4z17Cn_j7c4BS6MCMvL9-90" style="text;strokeColor=default;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;html=1;" value="&lt;div&gt;&lt;div&gt;funcAttribute_PTR&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; funcAttribute;&lt;/div&gt;&lt;/div&gt;" vertex="1">
          <mxGeometry height="26" width="520" y="208" as="geometry" />
        </mxCell>
        <mxCell id="4z17Cn_j7c4BS6MCMvL9-101" parent="4z17Cn_j7c4BS6MCMvL9-90" style="text;strokeColor=default;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;html=1;" value="&lt;div&gt;&lt;div&gt;&amp;nbsp;/* recompiled inst cache map */&lt;br&gt;std::unordered_map&amp;lt;size_t, kernelInst_PTR&amp;gt;*&amp;nbsp; &amp;nbsp;instCacheMap;&lt;/div&gt;&lt;/div&gt;" vertex="1">
          <mxGeometry height="46" width="520" y="234" as="geometry" />
        </mxCell>
        <mxCell id="4z17Cn_j7c4BS6MCMvL9-102" parent="4z17Cn_j7c4BS6MCMvL9-90" style="text;strokeColor=default;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;html=1;" value="&lt;div&gt;&lt;div&gt;&amp;nbsp;std::mutex*&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;mutex;&lt;/div&gt;&lt;/div&gt;" vertex="1">
          <mxGeometry height="30" width="520" y="280" as="geometry" />
        </mxCell>
        <mxCell id="4z17Cn_j7c4BS6MCMvL9-103" parent="4z17Cn_j7c4BS6MCMvL9-90" style="text;strokeColor=default;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;html=1;" value="&lt;div&gt;/* packaged parameters */&lt;/div&gt;&lt;div&gt;void*&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;launchParams;&lt;/div&gt;" vertex="1">
          <mxGeometry height="40" width="520" y="310" as="geometry" />
        </mxCell>
        <mxCell id="4z17Cn_j7c4BS6MCMvL9-104" parent="4z17Cn_j7c4BS6MCMvL9-90" style="text;strokeColor=default;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;html=1;" value="&lt;div&gt;/* packaged parameters size */&lt;/div&gt;&lt;div&gt;uint32_t&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; paramSize;&lt;/div&gt;" vertex="1">
          <mxGeometry height="40" width="520" y="350" as="geometry" />
        </mxCell>
        <mxCell id="4z17Cn_j7c4BS6MCMvL9-105" parent="4z17Cn_j7c4BS6MCMvL9-90" style="text;strokeColor=default;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;html=1;" value="&lt;div&gt;/* mark to distinguish library kernel and module function&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp;libraryKernelFlag = 0; -&amp;gt; function from module&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp;libraryKernelFlag = 1; -&amp;gt; kernel from library&lt;/div&gt;&lt;div&gt;*/&lt;/div&gt;&lt;div&gt;bool&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; libraryKernelFlag;&lt;/div&gt;" vertex="1">
          <mxGeometry height="90" width="520" y="390" as="geometry" />
        </mxCell>
        <mxCell id="4z17Cn_j7c4BS6MCMvL9-106" parent="4z17Cn_j7c4BS6MCMvL9-90" style="text;strokeColor=default;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;html=1;" value="drvLibrary_t*&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;library;" vertex="1">
          <mxGeometry height="30" width="520" y="480" as="geometry" />
        </mxCell>
        <mxCell id="4z17Cn_j7c4BS6MCMvL9-92" parent="4z17Cn_j7c4BS6MCMvL9-90" style="line;strokeWidth=1;fillColor=none;align=left;verticalAlign=middle;spacingTop=-1;spacingLeft=3;spacingRight=3;rotatable=0;labelPosition=right;points=[];portConstraint=eastwest;strokeColor=inherit;" value="" vertex="1">
          <mxGeometry height="8" width="520" y="510" as="geometry" />
        </mxCell>
        <mxCell id="4z17Cn_j7c4BS6MCMvL9-147" edge="1" parent="1" source="4z17Cn_j7c4BS6MCMvL9-115" style="html=1;verticalAlign=bottom;endArrow=block;curved=0;rounded=0;exitX=0;exitY=0.5;exitDx=0;exitDy=0;entryX=0.003;entryY=0.023;entryDx=0;entryDy=0;entryPerimeter=0;" target="4z17Cn_j7c4BS6MCMvL9-82" value="dispatch">
          <mxGeometry relative="1" width="80" as="geometry">
            <Array as="points">
              <mxPoint x="-1440" y="4483" />
              <mxPoint x="-1440" y="3300" />
            </Array>
            <mxPoint x="-1500" y="4370" as="sourcePoint" />
            <mxPoint x="-1420" y="4370" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="4z17Cn_j7c4BS6MCMvL9-148" parent="1" style="swimlane;fontStyle=1;align=center;verticalAlign=top;childLayout=stackLayout;horizontal=1;startSize=26;horizontalStack=0;resizeParent=1;resizeParentMax=0;resizeLast=0;collapsible=1;marginBottom=0;whiteSpace=wrap;html=1;" value="typedef enum CUjit_cacheMode_enum&amp;nbsp; &amp;nbsp;CUjit_cacheMode" vertex="1">
          <mxGeometry height="112" width="520" x="-800" y="3280" as="geometry" />
        </mxCell>
        <mxCell id="4z17Cn_j7c4BS6MCMvL9-149" parent="4z17Cn_j7c4BS6MCMvL9-148" style="text;strokeColor=default;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;html=1;" value="CU_JIT_CACHE_OPTION_NONE = 0, /**&amp;lt; Compile with no -dlcm flag specified */" vertex="1">
          <mxGeometry height="26" width="520" y="26" as="geometry" />
        </mxCell>
        <mxCell id="4z17Cn_j7c4BS6MCMvL9-150" parent="4z17Cn_j7c4BS6MCMvL9-148" style="text;strokeColor=default;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;html=1;" value="CU_JIT_CACHE_OPTION_CG,&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;/**&amp;lt; Compile with L1 cache disabled */" vertex="1">
          <mxGeometry height="26" width="520" y="52" as="geometry" />
        </mxCell>
        <mxCell id="4z17Cn_j7c4BS6MCMvL9-151" parent="4z17Cn_j7c4BS6MCMvL9-148" style="text;strokeColor=default;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;html=1;" value="CU_JIT_CACHE_OPTION_CA&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; /**&amp;lt; Compile with L1 cache enabled */" vertex="1">
          <mxGeometry height="26" width="520" y="78" as="geometry" />
        </mxCell>
        <mxCell id="4z17Cn_j7c4BS6MCMvL9-159" parent="4z17Cn_j7c4BS6MCMvL9-148" style="line;strokeWidth=1;fillColor=none;align=left;verticalAlign=middle;spacingTop=-1;spacingLeft=3;spacingRight=3;rotatable=0;labelPosition=right;points=[];portConstraint=eastwest;strokeColor=inherit;" value="" vertex="1">
          <mxGeometry height="8" width="520" y="104" as="geometry" />
        </mxCell>
        <mxCell id="4z17Cn_j7c4BS6MCMvL9-160" edge="1" parent="1" source="4z17Cn_j7c4BS6MCMvL9-130" style="html=1;verticalAlign=bottom;endArrow=block;curved=0;rounded=0;entryX=0;entryY=0.25;entryDx=0;entryDy=0;exitX=1;exitY=0.5;exitDx=0;exitDy=0;" target="4z17Cn_j7c4BS6MCMvL9-148" value="dispatch">
          <mxGeometry relative="1" width="80" as="geometry">
            <Array as="points">
              <mxPoint x="-860" y="3683" />
              <mxPoint x="-840" y="3310" />
            </Array>
            <mxPoint x="-770" y="3620" as="sourcePoint" />
            <mxPoint x="-690" y="3620" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="4z17Cn_j7c4BS6MCMvL9-161" edge="1" parent="1" source="4z17Cn_j7c4BS6MCMvL9-95" style="html=1;verticalAlign=bottom;endArrow=block;curved=0;rounded=0;exitX=0;exitY=0.5;exitDx=0;exitDy=0;entryX=0.5;entryY=1;entryDx=0;entryDy=0;" target="4z17Cn_j7c4BS6MCMvL9-86" value="dispatch">
          <mxGeometry relative="1" width="80" as="geometry">
            <Array as="points">
              <mxPoint x="-1480" y="4790" />
              <mxPoint x="-1480" y="4570" />
            </Array>
            <mxPoint x="-1490" y="4670" as="sourcePoint" />
            <mxPoint x="-1150" y="4590" as="targetPoint" />
          </mxGeometry>
        </mxCell>
      </root>
    </mxGraphModel>
  </diagram>
</mxfile>
